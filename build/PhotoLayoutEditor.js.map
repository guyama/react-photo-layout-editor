{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///PhotoLayoutEditor.js","webpack:///webpack/bootstrap 9916a0b2657dc6fe1376","webpack:///external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack:///./src/PhotoLayoutEditor/lib/index.js","webpack:///external {\"commonjs\":\"classnames\",\"commonjs2\":\"classnames\",\"amd\":\"classnames\",\"root\":\"classNames\"}","webpack:///./src/PhotoLayoutEditor/actions/types.js","webpack:///external {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"$\"}","webpack:///./src/PhotoLayoutEditor/actions/index.js","webpack:///external {\"commonjs\":\"react-redux\",\"commonjs2\":\"react-redux\",\"amd\":\"react-redux\",\"root\":\"PropTypes\"}","webpack:///./src/PhotoLayoutEditor/reducers/defaults.js","webpack:///external {\"commonjs\":\"redux\",\"commonjs2\":\"redux\",\"amd\":\"redux\",\"root\":\"PropTypes\"}","webpack:///./src/PhotoLayoutEditor/lib/object.js","webpack:///external {\"commonjs\":\"react-simple-colorpicker\",\"commonjs2\":\"react-simple-colorpicker\",\"amd\":\"react-simple-colorpicker\",\"root\":\"PropTypes\"}","webpack:///./src/PhotoLayoutEditor/index.js","webpack:///./src/PhotoLayoutEditor/Container/index.js","webpack:///./src/PhotoLayoutEditor/actions/core.js","webpack:///./src/PhotoLayoutEditor/actions/body.js","webpack:///./src/PhotoLayoutEditor/actions/cropper.js","webpack:///./src/PhotoLayoutEditor/actions/side.js","webpack:///./src/PhotoLayoutEditor/Container/Body/index.js","webpack:///./src/PhotoLayoutEditor/Container/Body/GridLayout/index.js","webpack:///external {\"commonjs\":\"react-grid-layout\",\"commonjs2\":\"react-grid-layout\",\"amd\":\"react-grid-layout\",\"root\":\"PropTypes\"}","webpack:///./src/PhotoLayoutEditor/Container/Cropper/index.js","webpack:///./src/PhotoLayoutEditor/Container/Cropper/Block.js","webpack:///external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}","webpack:///./src/PhotoLayoutEditor/lib/util.js","webpack:///./src/PhotoLayoutEditor/lib/number.js","webpack:///./src/PhotoLayoutEditor/lib/color.js","webpack:///./src/PhotoLayoutEditor/lib/uploader.js","webpack:///./src/PhotoLayoutEditor/lib/makingImage.js","webpack:///./src/PhotoLayoutEditor/lib/Canvas.js","webpack:///./src/PhotoLayoutEditor/lib/resamplingImage.js","webpack:///./src/PhotoLayoutEditor/Container/Body/Toolbar/index.js","webpack:///./src/PhotoLayoutEditor/Container/Body/Toolbar/Button.js","webpack:///./src/PhotoLayoutEditor/Container/Body/Toolbar/EditLayoutSetting.js","webpack:///./src/PhotoLayoutEditor/Container/Side/index.js","webpack:///./src/PhotoLayoutEditor/Container/Side/ToggleSideButton/index.js","webpack:///./src/PhotoLayoutEditor/Container/Side/Navigation/index.js","webpack:///./src/PhotoLayoutEditor/Container/Side/Items/index.js","webpack:///./src/PhotoLayoutEditor/Container/Side/Items/Item.js","webpack:///./src/PhotoLayoutEditor/Container/Side/selectItems.js","webpack:///./src/PhotoLayoutEditor/reducers/index.js","webpack:///./src/PhotoLayoutEditor/reducers/core.js","webpack:///./src/PhotoLayoutEditor/lib/Keyboard.js","webpack:///./src/PhotoLayoutEditor/reducers/body.js","webpack:///./src/PhotoLayoutEditor/reducers/side.js","webpack:///./src/PhotoLayoutEditor/reducers/cropper.js","webpack:///./src/PhotoLayoutEditor/API/index.js","webpack:///./src/PhotoLayoutEditor/API/Side.js","webpack:///./src/PhotoLayoutEditor/API/Grid.js","webpack:///./src/PhotoLayoutEditor/API/Cropper.js","webpack:///./src/PhotoLayoutEditor/API/Util.js"],"names":["root","factory","exports","module","require","define","amd","PhotoLayoutEditor","React","classNames","$","PropTypes","ReactDOM","this","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_4__","__WEBPACK_EXTERNAL_MODULE_6__","__WEBPACK_EXTERNAL_MODULE_8__","__WEBPACK_EXTERNAL_MODULE_10__","__WEBPACK_EXTERNAL_MODULE_19__","__WEBPACK_EXTERNAL_MODULE_22__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","default","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","_interopRequireWildcard","newObj","key","value","resamplingImage","Canvas","makingImage","uploader","color","number","util","_util","_number","_object","_color","_uploader","_uploader2","_makingImage","_makingImage2","_Canvas","_Canvas2","_resamplingImage","_resamplingImage2","INIT_PLE","SIDE_VISIBLE","SIDE_ADD_FILES","SIDE_REMOVE_FILES","SIDE_UPDATE_SELECTED","SIDE_TOGGLE","SIDE_UPDATE_PROGRESS","GRID_ATTACH_IMAGES","GRID_ATTACH_IMAGE","GRID_ADD_BLOCK","GRID_REMOVE_BLOCK","GRID_SHUFFLE_BLOCKS","GRID_DUPLICATE_BLOCK","GRID_UPDATE_BLOCKS","GRID_ACTIVE_BLOCK","GRID_SETTING_UPDATE","GRID_CHANGE_COLOR","CROPPER_OPEN","CROPPER_CLOSE","types","body","side","cropper","core","_core","_body","_cropper","_side","_types","setting","base","uploadScript","uploadParamsConvertFunc","updateStoreFunc","width","height","column","outerMargin","innerMargin","freeMode","bgColor","blockColor","grid","files","visible","progressPercent","isArray","arr","arguments","length","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","_class","_temp","_createClass","defineProperties","target","props","descriptor","protoProps","staticProps","_react","_react2","_redux","_reactRedux","_Container","_Container2","_reducers","_reducers2","_API","_API2","_React$Component","_this","getPrototypeOf","store","createStore","api","createElement","Provider","parent","preference","Component","displayName","defaultProps","_classnames","_classnames2","_actions","actions","_Body","_Body2","_Side","_Side2","Container","el","nextProps","checkChangeStore","dispatch","init","prev","next","tree","_this2","ref","r","className","ple-side-active","connect","state","assign","element","type","addBlock","removeBlock","keys","shuffleBlocks","options","duplicateBlock","updateBlocks","blocks","activeBlock","changeColorBlock","updateSetting","attachImages","images","cols","activeBlocks","columns","attachImage","image","open","item","close","position","size","sw","toggle","addFiles","removeFiles","updateSelected","updateProgress","percent","_GridLayout","_GridLayout2","_Toolbar","_Toolbar2","Body","_extends","source","_reactGridLayout","_reactGridLayout2","_Cropper","_Cropper2","_lib","libs","timeStamp","GridLayout","select","keyboard","keyName","newActiveBlock","indexOf","splice","push","layout","Date","getTime","newLayout","result","split","newGrid","forEach","k","x","y","w","h","_props$tree$body","indexPrefix","active","data-grid","data-key","onClick","event","stopPropagation","_selectBlock","style","backgroundColor","ple-grid__item-active","backgroundImage","src","backgroundPosition","backgroundSize","_this3","bodyWidth","autoSize","rowHeight","margin","containerPadding","verticalCompact","onDragStart","_updateBlocks","onDragStop","oldItem","newItem","placeholder","e","onResizeStart","onResizeStop","map","renderItem","_jquery","_jquery2","_Block","_Block2","lib","Cropper","imageMeta","_block","$item","find","filter","pending","top","left","getImageSize","then","res","setState","targetSize","ratio","getRatioForResize","parseInt","_onClose","_toggleImageType","ple-cropper__nav-active","_reactDom","_reactDom2","controlEvent","start","isTouchDevice","move","end","Block","isCover","_self","$self","$img","moveStartInfo","resizeStartInfo","findDOMNode","containerX","containerY","mouseX","clientX","pageX","nativeEvent","touches","window","scrollLeft","mouseY","clientY","pageY","scrollTop","document","on","_moveIng","_moveEnd","evt","originalEvent","mouse","distance","preventDefault","off","title","currentTarget","posX","posY","_resizeIng","_resizeEnd","distanceHeight","distanceX","naturalWidth","naturalHeight","_this4","ple-cropperBlock__image-resize","transform","alt","onMouseDown","_moveStart","onTouchStart","ple-cropperBlock__control-active","_resizeStart","navigator","MaxTouchPoints","msMaxTouchPoints","sleep","time","id","Promise","resolve","setTimeout","reject","img","onload","onerror","checkSupportCss","CSS","supports","loadImage","Image","onError","setAttribute","cssPrefix","styles","getComputedStyle","documentElement","pre","Array","slice","join","match","OLink","dom","RegExp","lowercase","css","js","toUpperCase","substr","randomRange","min","max","Math","random","floor","getTimeStamp","round","getRatio","rgbToHex","toString","local","file","defer","Deferred","reader","FileReader","addEventListener","url","readAsDataURL","promise","external","script","onLoad","JSON","parse","responseText","data","onProgress","loaded","total","notify","xhr","XMLHttpRequest","FormData","_typeof","formData","append","upload","send","count","done","progress","fail","error","Symbol","iterator","cw","ch","iw","ih","makeQueue","grids","$items","children","each","makeBlock","queue","realSize","reSampleCount","sampling","cx","cy","dx","dy","dw","dh","drawBlock","canvas","block","ctx","drawImage","canvasToBase64","format","quality","toDataURL","play","confirm","queues","queueTotal","current","err","output","offsetWidth","offsetHeight","_","getContext","fillStyle","fillRect","resize","parentCanvas","func","pow","canvasForResize","defaultOptions","reSampleMax","_defineProperty","_reactSimpleColorpicker","_reactSimpleColorpicker2","_Button","_Button2","_EditLayoutSetting","_EditLayoutSetting2","Toolbar","editBlockColor","shuffle","add","edit","removeImage","duplicate","editColor","newState","updated","isImage","some","userSW","cTarget","closest","parentNode","changeActive","_this5","activeBlockColor","iconClass","ple-toolbar__block-active","persist","deactivate","submit","submitEditSetting","defaultSetting","toggleSelectAll","removeImages","alert","remove","onChange","Button","apply","EditLayoutSetting","popup_bgColor","activeBgColorPopup","onSubmit","_submit","htmlFor","maxLength","_change","required","ple-edit-bgColor__inputBox-active","_openBgColorPicker","readOnly","checked","_reset","_ToggleSideButton","_ToggleSideButton2","_Navigation","_Navigation2","_Items","_Items2","_selectItems","_selectItems2","Side","dragTarget","dragPosition","$gridItems","$dragItem","uploading","$this","pos","offset","selected","getKeys","attachToGrid","message","dataTransfer","setData","hasClass","addClass","removeClass","clone","removeAttr","touch","getGridsterItem","ple-side__wrap-show","show","toggleSide","onAttach","_attach","onToggleSelect","onUpload","_upload","onRemove","_removeItems","onSelect","_selectItem","_dragStartItem","onDragEnd","_dragEndItem","_touchStartItem","onTouchMove","_touchMoveItem","onTouchEnd","_touchEndItem","ToggleSideButton","_Component","ple-ico-arrow-right","ple-ico-arrow-left","SideNavigation","timestamp","now","multiple","_Item","_Item2","Items","Item","attr","data-id","data-image","draggable","ple-sideItems__item-active","selectItems","items","currentItem","firstSelectIdx","_side2","combineReducers","action","defaults","_Keyboard2","_Keyboard","_defaults","Keyboard","eventName","code","names","17","18","91","93","16","_keyDown","keyCode","_keyUp","lastGridId","shuffleIndex","Infinity","nextFileId","API","_Grid2","_Util2","_Grid","_Util","mode","getState","getItems","Error","selection","activeCount","callbacks","complete","completeAll","selectedImages","getImages","Grid","update","_store","isSelect","newPreference","getPreference","Util","currentSw","targetSw","console","warn","getBlocks","sort","replace","clear","setPreference","_state$tree$body","querySelector"],"mappings":"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","file":"PhotoLayoutEditor.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"classnames\"), require(\"jquery\"), require(\"react-redux\"), require(\"redux\"), require(\"react-simple-colorpicker\"), require(\"react-grid-layout\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"classnames\", \"jquery\", \"react-redux\", \"redux\", \"react-simple-colorpicker\", \"react-grid-layout\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PhotoLayoutEditor\"] = factory(require(\"react\"), require(\"classnames\"), require(\"jquery\"), require(\"react-redux\"), require(\"redux\"), require(\"react-simple-colorpicker\"), require(\"react-grid-layout\"), require(\"react-dom\"));\n\telse\n\t\troot[\"PhotoLayoutEditor\"] = factory(root[\"React\"], root[\"classNames\"], root[\"$\"], root[\"PropTypes\"], root[\"PropTypes\"], root[\"PropTypes\"], root[\"PropTypes\"], root[\"ReactDOM\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_10__, __WEBPACK_EXTERNAL_MODULE_19__, __WEBPACK_EXTERNAL_MODULE_22__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"classnames\"), require(\"jquery\"), require(\"react-redux\"), require(\"redux\"), require(\"react-simple-colorpicker\"), require(\"react-grid-layout\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"classnames\", \"jquery\", \"react-redux\", \"redux\", \"react-simple-colorpicker\", \"react-grid-layout\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PhotoLayoutEditor\"] = factory(require(\"react\"), require(\"classnames\"), require(\"jquery\"), require(\"react-redux\"), require(\"redux\"), require(\"react-simple-colorpicker\"), require(\"react-grid-layout\"), require(\"react-dom\"));\n\telse\n\t\troot[\"PhotoLayoutEditor\"] = factory(root[\"React\"], root[\"classNames\"], root[\"$\"], root[\"PropTypes\"], root[\"PropTypes\"], root[\"PropTypes\"], root[\"PropTypes\"], root[\"ReactDOM\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_10__, __WEBPACK_EXTERNAL_MODULE_19__, __WEBPACK_EXTERNAL_MODULE_22__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 11);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.resamplingImage = exports.Canvas = exports.makingImage = exports.uploader = exports.object = exports.color = exports.number = exports.util = undefined;\n\nvar _util = __webpack_require__(23);\n\nvar util = _interopRequireWildcard(_util);\n\nvar _number = __webpack_require__(24);\n\nvar number = _interopRequireWildcard(_number);\n\nvar _object = __webpack_require__(9);\n\nvar object = _interopRequireWildcard(_object);\n\nvar _color = __webpack_require__(25);\n\nvar color = _interopRequireWildcard(_color);\n\nvar _uploader = __webpack_require__(26);\n\nvar _uploader2 = _interopRequireDefault(_uploader);\n\nvar _makingImage = __webpack_require__(27);\n\nvar _makingImage2 = _interopRequireDefault(_makingImage);\n\nvar _Canvas = __webpack_require__(28);\n\nvar _Canvas2 = _interopRequireDefault(_Canvas);\n\nvar _resamplingImage = __webpack_require__(29);\n\nvar _resamplingImage2 = _interopRequireDefault(_resamplingImage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.util = util;\nexports.number = number;\nexports.color = color;\nexports.object = object;\nexports.uploader = _uploader2.default;\nexports.makingImage = _makingImage2.default;\nexports.Canvas = _Canvas2.default;\nexports.resamplingImage = _resamplingImage2.default;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar INIT_PLE = exports.INIT_PLE = 'INIT_PLE';\n\nvar SIDE_VISIBLE = exports.SIDE_VISIBLE = 'SIDE_VISIBLE';\nvar SIDE_ADD_FILES = exports.SIDE_ADD_FILES = 'SIDE_ADD_FILES';\nvar SIDE_REMOVE_FILES = exports.SIDE_REMOVE_FILES = 'SIDE_REMOVE_FILES';\nvar SIDE_UPDATE_SELECTED = exports.SIDE_UPDATE_SELECTED = 'SIDE_UPDATE_SELECTED';\nvar SIDE_TOGGLE = exports.SIDE_TOGGLE = 'SIDE_TOGGLE';\nvar SIDE_UPDATE_PROGRESS = exports.SIDE_UPDATE_PROGRESS = 'SIDE_UPDATE_PROGRESS';\n\nvar GRID_ATTACH_IMAGES = exports.GRID_ATTACH_IMAGES = 'GRID_ATTACH_IMAGES';\nvar GRID_ATTACH_IMAGE = exports.GRID_ATTACH_IMAGE = 'GRID_ATTACH_IMAGE';\n\nvar GRID_ADD_BLOCK = exports.GRID_ADD_BLOCK = 'GRID_ADD_BLOCK';\nvar GRID_REMOVE_BLOCK = exports.GRID_REMOVE_BLOCK = 'GRID_REMOVE_BLOCK';\nvar GRID_SHUFFLE_BLOCKS = exports.GRID_SHUFFLE_BLOCKS = 'GRID_SHUFFLE_BLOCKS';\nvar GRID_DUPLICATE_BLOCK = exports.GRID_DUPLICATE_BLOCK = 'GRID_DUPLICATE_BLOCK';\nvar GRID_UPDATE_BLOCKS = exports.GRID_UPDATE_BLOCKS = 'GRID_UPDATE_BLOCKS';\nvar GRID_ACTIVE_BLOCK = exports.GRID_ACTIVE_BLOCK = 'GRID_ACTIVE_BLOCK';\nvar GRID_SETTING_UPDATE = exports.GRID_SETTING_UPDATE = 'GRID_SETTING_UPDATE';\nvar GRID_CHANGE_COLOR = exports.GRID_CHANGE_COLOR = 'GRID_CHANGE_COLOR';\n\nvar CROPPER_OPEN = exports.CROPPER_OPEN = 'CROPPER_OPEN';\nvar CROPPER_CLOSE = exports.CROPPER_CLOSE = 'CROPPER_CLOSE';\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.types = exports.body = exports.side = exports.cropper = exports.core = undefined;\n\nvar _core = __webpack_require__(13);\n\nvar core = _interopRequireWildcard(_core);\n\nvar _body = __webpack_require__(14);\n\nvar body = _interopRequireWildcard(_body);\n\nvar _cropper = __webpack_require__(15);\n\nvar cropper = _interopRequireWildcard(_cropper);\n\nvar _side = __webpack_require__(16);\n\nvar side = _interopRequireWildcard(_side);\n\nvar _types = __webpack_require__(3);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.core = core;\nexports.cropper = cropper;\nexports.side = side;\nexports.body = body;\nexports.types = types;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar setting = exports.setting = {\n\tbase: {\n\t\tuploadScript: null,\n\t\tuploadParamsConvertFunc: null,\n\t\tupdateStoreFunc: null\n\t},\n\tbody: {\n\t\tsetting: {\n\t\t\twidth: 100,\n\t\t\theight: 100,\n\t\t\tcolumn: 5,\n\t\t\touterMargin: 10,\n\t\t\tinnerMargin: 10,\n\t\t\tfreeMode: false,\n\t\t\tbgColor: 'rgba(255,255,255,1)'\n\t\t},\n\t\tblockColor: 'rgba(211,211,211,1)',\n\t\tgrid: []\n\t},\n\tside: {\n\t\tfiles: [],\n\t\tvisible: true\n\t\t//progressPercent: null,\n\t}\n};\n\nvar side = exports.side = {\n\tfiles: {},\n\tvisible: true,\n\tprogressPercent: null\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isArray = isArray;\n/**\n * is array\n *\n * @param {Array} arr\n * @return {Boolean}\n */\nfunction isArray() {\n  var arr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  return !!(arr && arr.length);\n}\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _redux = __webpack_require__(8);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _Container = __webpack_require__(12);\n\nvar _Container2 = _interopRequireDefault(_Container);\n\nvar _reducers = __webpack_require__(39);\n\nvar _reducers2 = _interopRequireDefault(_reducers);\n\nvar _API = __webpack_require__(45);\n\nvar _API2 = _interopRequireDefault(_API);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PhotoLayoutEditor = (_temp = _class = function (_React$Component) {\n\t_inherits(PhotoLayoutEditor, _React$Component);\n\n\tfunction PhotoLayoutEditor() {\n\t\t_classCallCheck(this, PhotoLayoutEditor);\n\n\t\t// set store\n\t\tvar _this = _possibleConstructorReturn(this, (PhotoLayoutEditor.__proto__ || Object.getPrototypeOf(PhotoLayoutEditor)).call(this));\n\n\t\t_this.store = (0, _redux.createStore)(_reducers2.default);\n\n\t\t// set api\n\t\t_this.api = new _API2.default(_this.store);\n\t\treturn _this;\n\t}\n\n\t_createClass(PhotoLayoutEditor, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t_reactRedux.Provider,\n\t\t\t\t{ store: this.store },\n\t\t\t\t_react2.default.createElement(_Container2.default, { parent: { preference: props, api: this.api } })\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn PhotoLayoutEditor;\n}(_react2.default.Component), _class.displayName = 'PhotoLayoutEditor', _class.defaultProps = {\n\tbody: {\n\t\tsetting: {},\n\t\tblockColor: null,\n\t\tgrid: []\n\t},\n\tside: {\n\t\tfiles: [],\n\t\tvisible: true\n\t},\n\tuploadScript: null,\n\tuploadParamsConvertFunc: null\n}, _temp);\nexports.default = PhotoLayoutEditor;\n\nmodule.exports = PhotoLayoutEditor;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _actions = __webpack_require__(5);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _Body = __webpack_require__(17);\n\nvar _Body2 = _interopRequireDefault(_Body);\n\nvar _Side = __webpack_require__(33);\n\nvar _Side2 = _interopRequireDefault(_Side);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Container = (_temp = _class = function (_React$Component) {\n\t_inherits(Container, _React$Component);\n\n\tfunction Container() {\n\t\t_classCallCheck(this, Container);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Container.__proto__ || Object.getPrototypeOf(Container)).call(this));\n\n\t\t_this.el = null;\n\t\treturn _this;\n\t}\n\n\t_createClass(Container, [{\n\t\tkey: 'componentWillReceiveProps',\n\t\tvalue: function componentWillReceiveProps(nextProps) {\n\t\t\tvar props = this.props;\n\n\n\t\t\tthis.checkChangeStore(props, nextProps);\n\t\t}\n\t}, {\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tvar props = this.props;\n\n\n\t\t\tprops.dispatch(actions.core.init(props.parent.api, props.parent.preference || { side: {}, body: {} }, this.el));\n\t\t}\n\t}, {\n\t\tkey: 'checkChangeStore',\n\t\tvalue: function checkChangeStore(prev, next) {\n\t\t\tif (!(next.setting.base.updateStoreFunc && typeof next.setting.base.updateStoreFunc === 'function')) return null;\n\t\t\tif (prev.tree.side.visible !== next.tree.side.visible || prev.tree.side.files !== next.tree.side.files || prev.tree.body.setting !== next.tree.body.setting || prev.tree.body.grid !== next.tree.body.grid) {\n\t\t\t\tnext.setting.base.updateStoreFunc();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{\n\t\t\t\t\tref: function ref(r) {\n\t\t\t\t\t\t_this2.el = r;\n\t\t\t\t\t},\n\t\t\t\t\tclassName: (0, _classnames2.default)('ple-editor', { 'ple-side-active': props.tree.side.visible }) },\n\t\t\t\tprops.setting && _react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-wrap' },\n\t\t\t\t\t_react2.default.createElement(_Body2.default, null),\n\t\t\t\t\t_react2.default.createElement(_Side2.default, null)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Container;\n}(_react2.default.Component), _class.displayName = 'Container', _class.defaultProps = {\n\tparent: {},\n\tdispatch: null,\n\ttree: {},\n\tsetting: null\n}, _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state, {});\n})(Container);\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.init = init;\n\nvar _types = __webpack_require__(3);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction init(api, preference, element) {\n\treturn {\n\t\ttype: types.INIT_PLE,\n\t\tapi: api,\n\t\tpreference: preference,\n\t\telement: element\n\t};\n}\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.addBlock = addBlock;\nexports.removeBlock = removeBlock;\nexports.shuffleBlocks = shuffleBlocks;\nexports.duplicateBlock = duplicateBlock;\nexports.updateBlocks = updateBlocks;\nexports.activeBlock = activeBlock;\nexports.changeColorBlock = changeColorBlock;\nexports.updateSetting = updateSetting;\nexports.attachImages = attachImages;\nexports.attachImage = attachImage;\n\nvar _types = __webpack_require__(3);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction addBlock(value) {\n\treturn {\n\t\ttype: types.GRID_ADD_BLOCK,\n\t\tvalue: value\n\t};\n}\n\nfunction removeBlock(keys) {\n\treturn {\n\t\ttype: types.GRID_REMOVE_BLOCK,\n\t\tkeys: keys\n\t};\n}\n\nfunction shuffleBlocks(options) {\n\treturn {\n\t\ttype: types.GRID_SHUFFLE_BLOCKS,\n\t\tvalue: options\n\t};\n}\n\nfunction duplicateBlock(keys) {\n\treturn {\n\t\ttype: types.GRID_DUPLICATE_BLOCK,\n\t\tkeys: keys\n\t};\n}\n\nfunction updateBlocks(blocks) {\n\treturn {\n\t\ttype: types.GRID_UPDATE_BLOCKS,\n\t\tvalue: blocks\n\t};\n}\n\nfunction activeBlock(keys) {\n\treturn {\n\t\ttype: types.GRID_ACTIVE_BLOCK,\n\t\tvalue: keys\n\t};\n}\n\nfunction changeColorBlock(keys, color) {\n\treturn {\n\t\ttype: types.GRID_CHANGE_COLOR,\n\t\tkeys: keys,\n\t\tcolor: color\n\t};\n}\n\nfunction updateSetting(value) {\n\treturn {\n\t\ttype: types.GRID_SETTING_UPDATE,\n\t\tvalue: value\n\t};\n}\n\nfunction attachImages(images, cols, activeBlocks) {\n\treturn {\n\t\ttype: types.GRID_ATTACH_IMAGES,\n\t\tvalue: images,\n\t\tcolumns: cols,\n\t\tactiveBlocks: activeBlocks\n\t};\n}\n\nfunction attachImage(keys, image) {\n\treturn {\n\t\ttype: types.GRID_ATTACH_IMAGE,\n\t\tkeys: keys,\n\t\timage: image\n\t};\n}\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.open = open;\nexports.close = close;\n\nvar _types = __webpack_require__(3);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction open(key, item) {\n\treturn {\n\t\ttype: types.CROPPER_OPEN,\n\t\titem: item,\n\t\tkey: key\n\t};\n}\n\nfunction close(key, position, size) {\n\treturn {\n\t\ttype: types.CROPPER_CLOSE,\n\t\tkey: key,\n\t\tposition: position,\n\t\tsize: size\n\t};\n}\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.visible = visible;\nexports.toggle = toggle;\nexports.addFiles = addFiles;\nexports.removeFiles = removeFiles;\nexports.updateSelected = updateSelected;\nexports.updateProgress = updateProgress;\n\nvar _types = __webpack_require__(3);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// control visible side bar\nfunction visible(sw) {\n\treturn {\n\t\ttype: types.SIDE_VISIBLE,\n\t\tvalue: sw\n\t};\n}\n\n// toggle side bar\nfunction toggle() {\n\treturn {\n\t\ttype: types.SIDE_TOGGLE\n\t};\n}\n\nfunction addFiles() {\n\tvar files = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\treturn {\n\t\ttype: types.SIDE_ADD_FILES,\n\t\tfiles: files\n\t};\n}\n\nfunction removeFiles() {\n\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\treturn {\n\t\ttype: types.SIDE_REMOVE_FILES,\n\t\tkeys: keys\n\t};\n}\n\nfunction updateSelected(value) {\n\treturn {\n\t\ttype: types.SIDE_UPDATE_SELECTED,\n\t\tvalue: value\n\t};\n}\n\nfunction updateProgress(percent) {\n\treturn {\n\t\ttype: types.SIDE_UPDATE_PROGRESS,\n\t\tvalue: percent\n\t};\n}\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _GridLayout = __webpack_require__(18);\n\nvar _GridLayout2 = _interopRequireDefault(_GridLayout);\n\nvar _Toolbar = __webpack_require__(30);\n\nvar _Toolbar2 = _interopRequireDefault(_Toolbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Body = (_temp = _class = function (_React$Component) {\n\t_inherits(Body, _React$Component);\n\n\tfunction Body(props) {\n\t\t_classCallCheck(this, Body);\n\n\t\treturn _possibleConstructorReturn(this, (Body.__proto__ || Object.getPrototypeOf(Body)).call(this, props));\n\t}\n\n\t_createClass(Body, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'ple-container' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-body' },\n\t\t\t\t\t_react2.default.createElement(_Toolbar2.default, null),\n\t\t\t\t\t_react2.default.createElement(_GridLayout2.default, null)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Body;\n}(_react2.default.Component), _class.displayName = 'Body', _temp);\nexports.default = Body;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _reactGridLayout = __webpack_require__(19);\n\nvar _reactGridLayout2 = _interopRequireDefault(_reactGridLayout);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _Cropper = __webpack_require__(20);\n\nvar _Cropper2 = _interopRequireDefault(_Cropper);\n\nvar _actions = __webpack_require__(5);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(1);\n\nvar libs = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar timeStamp = [];\n\nvar GridLayout = (_temp = _class = function (_React$Component) {\n\t_inherits(GridLayout, _React$Component);\n\n\tfunction GridLayout(props) {\n\t\t_classCallCheck(this, GridLayout);\n\n\t\treturn _possibleConstructorReturn(this, (GridLayout.__proto__ || Object.getPrototypeOf(GridLayout)).call(this, props));\n\t}\n\n\t/**\n  * on select block\n  *\n  * @param {String} key\n  */\n\n\n\t_createClass(GridLayout, [{\n\t\tkey: '_selectBlock',\n\t\tvalue: function _selectBlock() {\n\t\t\tvar key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\t\tvar props = this.props;\n\n\n\t\t\tif (key === null) {\n\t\t\t\tprops.api.grid.select([]);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch (props.keyboard.keyName) {\n\t\t\t\tcase 'CMD':\n\t\t\t\tcase 'CTRL':\n\t\t\t\tcase 'SHIFT':\n\t\t\t\t\tif (libs.object.isArray(props.tree.body.activeBlock)) {\n\t\t\t\t\t\tvar newActiveBlock = Object.assign([], props.tree.body.activeBlock);\n\t\t\t\t\t\tif (newActiveBlock.indexOf(key) > -1) {\n\t\t\t\t\t\t\tnewActiveBlock.splice(newActiveBlock.indexOf(key), 1);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnewActiveBlock.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprops.api.grid.select(newActiveBlock);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tprops.api.grid.select([key]);\n\t\t}\n\n\t\t/**\n   * On update blocks\n   *\n   * @param {String} type\n   * @param {Array} layout\n   * @param {HTMLElement} element\n   */\n\n\t}, {\n\t\tkey: '_updateBlocks',\n\t\tvalue: function _updateBlocks(type) {\n\t\t\tvar layout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\t\t\tvar element = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\t\t\tvar props = this.props;\n\n\t\t\t/**\n    * convert layout\n    *\n    * @return {Object}\n    */\n\n\t\t\tfunction convertLayout() {\n\t\t\t\tvar result = {};\n\t\t\t\tfor (var i = 0; i < layout.length; i++) {\n\t\t\t\t\tresult[layout[i].i.split('__')[1]] = layout[i];\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'start':\n\t\t\t\t\ttimeStamp[0] = new Date().getTime();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'end':\n\t\t\t\t\ttimeStamp[1] = new Date().getTime();\n\t\t\t\t\tif (timeStamp[1] - timeStamp[0] > 400) {\n\t\t\t\t\t\tvar newLayout = convertLayout();\n\t\t\t\t\t\tvar newGrid = {};\n\t\t\t\t\t\tObject.keys(props.tree.body.grid).forEach(function (k) {\n\t\t\t\t\t\t\tnewGrid[k] = _extends({}, props.tree.body.grid[k], {\n\t\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\t\tx: newLayout[k].x,\n\t\t\t\t\t\t\t\t\ty: newLayout[k].y,\n\t\t\t\t\t\t\t\t\tw: newLayout[k].w,\n\t\t\t\t\t\t\t\t\th: newLayout[k].h\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\tprops.dispatch(actions.body.updateBlocks(newGrid));\n\t\t\t\t\t}\n\t\t\t\t\ttimeStamp = [];\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Render item\n   *\n   * @param {String} k\n   * @return {Component}\n   */\n\n\t}, {\n\t\tkey: 'renderItem',\n\t\tvalue: function renderItem(k) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar props = this.props;\n\t\t\tvar _props$tree$body = props.tree.body,\n\t\t\t    activeBlock = _props$tree$body.activeBlock,\n\t\t\t    grid = _props$tree$body.grid;\n\n\t\t\tvar item = grid[k];\n\n\t\t\tvar key = item.indexPrefix + '__' + k;\n\t\t\tvar active = !!(activeBlock && activeBlock.length && activeBlock.indexOf(k) > -1);\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{\n\t\t\t\t\tkey: key,\n\t\t\t\t\t'data-grid': item.layout,\n\t\t\t\t\t'data-key': k,\n\t\t\t\t\tonClick: function onClick(event) {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t_this2._selectBlock(k, !!item.image);\n\t\t\t\t\t},\n\t\t\t\t\tstyle: { backgroundColor: item.color || props.setting.body.blockColor },\n\t\t\t\t\tclassName: (0, _classnames2.default)({ 'ple-grid__item-active': active }) },\n\t\t\t\titem.image && _react2.default.createElement('figure', {\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tbackgroundImage: 'url(\\'' + item.image.src + '\\')',\n\t\t\t\t\t\tbackgroundPosition: item.image.position,\n\t\t\t\t\t\tbackgroundSize: item.image.size\n\t\t\t\t\t} })\n\t\t\t);\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar props = this.props;\n\t\t\tvar setting = props.tree.body.setting;\n\n\t\t\tvar bodyWidth = setting.width * setting.column + setting.innerMargin * (setting.column - 1) + setting.outerMargin * 2;\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'ple-grid__wrap', onClick: function onClick() {\n\t\t\t\t\t\treturn _this3._selectBlock();\n\t\t\t\t\t} },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-grid__body', style: { width: bodyWidth + 'px' } },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactGridLayout2.default,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tautoSize: true,\n\t\t\t\t\t\t\tcols: setting.column,\n\t\t\t\t\t\t\trowHeight: setting.height,\n\t\t\t\t\t\t\twidth: bodyWidth,\n\t\t\t\t\t\t\tmargin: [setting.innerMargin, setting.innerMargin],\n\t\t\t\t\t\t\tcontainerPadding: [setting.outerMargin, setting.outerMargin],\n\t\t\t\t\t\t\tverticalCompact: !setting.freeMode,\n\t\t\t\t\t\t\tonDragStart: function onDragStart() {\n\t\t\t\t\t\t\t\treturn _this3._updateBlocks('start');\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonDragStop: function onDragStop(layout, oldItem, newItem, placeholder, e, element) {\n\t\t\t\t\t\t\t\treturn _this3._updateBlocks('end', layout, element);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonResizeStart: function onResizeStart() {\n\t\t\t\t\t\t\t\treturn _this3._updateBlocks('start');\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonResizeStop: function onResizeStop(layout, oldItem, newItem, placeholder, e, element) {\n\t\t\t\t\t\t\t\treturn _this3._updateBlocks('end', layout, element);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\tbackgroundColor: setting.bgColor\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tclassName: 'ple-grid' },\n\t\t\t\t\t\tObject.keys(props.tree.body.grid).map(function (k) {\n\t\t\t\t\t\t\treturn _this3.renderItem(k);\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t\t\tprops.tree.cropper.visible ? _react2.default.createElement(_Cropper2.default, null) : null\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn GridLayout;\n}(_react2.default.Component), _class.displayName = 'GridLayout', _class.defaultProps = {\n\ttree: null,\n\tdispatch: null\n}, _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state, {});\n})(GridLayout);\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_19__;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\n// components\n\n\n// library\n\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _jquery = __webpack_require__(4);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _Block = __webpack_require__(21);\n\nvar _Block2 = _interopRequireDefault(_Block);\n\nvar _lib = __webpack_require__(1);\n\nvar lib = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Cropper = (_temp = _class = function (_React$Component) {\n\t_inherits(Cropper, _React$Component);\n\n\tfunction Cropper(props) {\n\t\t_classCallCheck(this, Cropper);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Cropper.__proto__ || Object.getPrototypeOf(Cropper)).call(this, props));\n\n\t\tvar cropper = props.tree.cropper;\n\n\n\t\t_this.imageMeta = null;\n\t\t_this._block = null;\n\t\t_this.$item = (0, _jquery2.default)(props.element).find('.react-grid-item').filter('[data-key=' + cropper.key + ']');\n\n\t\t_this.state = {\n\t\t\tpending: true,\n\t\t\tposition: cropper.item.image.position,\n\t\t\tsize: cropper.item.image.size || 'cover',\n\t\t\twidth: _this.$item.width(),\n\t\t\theight: _this.$item.height(),\n\t\t\ttop: _this.$item.position().top,\n\t\t\tleft: _this.$item.position().left\n\t\t};\n\t\treturn _this;\n\t}\n\n\t_createClass(Cropper, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar props = this.props;\n\t\t\tvar cropper = props.tree.cropper;\n\n\n\t\t\tlib.util.getImageSize(cropper.item.image.src).then(function (res) {\n\t\t\t\t_this2.imageMeta = res;\n\t\t\t\t_this2.setState({ pending: false });\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * close cropper\n   * `cropper`를 닫고, 변경된 이미지를 `grid`로 보낸다.\n   */\n\n\t}, {\n\t\tkey: '_onClose',\n\t\tvalue: function _onClose() {\n\t\t\tvar props = this.props;\n\n\t\t\tprops.api.cropper.close(props.tree.cropper.key, this._block.state.position, this._block.state.size);\n\t\t}\n\n\t\t/**\n   * toggle image type\n   * 직접 리사이즈를 사용하는지 기본(꽉채우는..)타입으로 사용할건지 변경하는 액션\n   */\n\n\t}, {\n\t\tkey: '_toggleImageType',\n\t\tvalue: function _toggleImageType() {\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\n\t\t\tif (state.size === 'cover') {\n\t\t\t\tvar targetSize = '';\n\t\t\t\tvar ratio = 0;\n\t\t\t\tif (state.height > state.width) {\n\t\t\t\t\tratio = lib.number.getRatioForResize(state.height, this.imageMeta.height);\n\t\t\t\t\ttargetSize = parseInt(this.imageMeta.width * ratio) + 'px ' + state.height + 'px';\n\t\t\t\t} else {\n\t\t\t\t\tratio = lib.number.getRatioForResize(state.width, this.imageMeta.width);\n\t\t\t\t\ttargetSize = state.width + 'px ' + parseInt(this.imageMeta.height * ratio) + 'px';\n\t\t\t\t}\n\t\t\t\tthis.setState({\n\t\t\t\t\tposition: '0 0',\n\t\t\t\t\tsize: targetSize\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.setState({\n\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\tsize: 'cover'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\n\t\t\tif (state.pending) return null;\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'ple-cropper' },\n\t\t\t\t_react2.default.createElement('span', { className: 'ple-cropper__bg' }),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\twidth: state.width + 'px',\n\t\t\t\t\t\t\theight: state.height + 'px',\n\t\t\t\t\t\t\ttop: state.top + 'px',\n\t\t\t\t\t\t\tleft: state.left + 'px'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclassName: 'ple-cropper__wrap' },\n\t\t\t\t\t_react2.default.createElement(_Block2.default, {\n\t\t\t\t\t\tref: function ref(r) {\n\t\t\t\t\t\t\t_this3._block = r;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsrc: props.tree.cropper.item.image.src,\n\t\t\t\t\t\tposition: state.position,\n\t\t\t\t\t\tsize: state.size,\n\t\t\t\t\t\tbgColor: props.tree.cropper.item.color || props.setting.body.blockColor }),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'nav',\n\t\t\t\t\t\t{ className: 'ple-cropper__nav' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{ type: 'button', onClick: function onClick() {\n\t\t\t\t\t\t\t\t\treturn _this3._onClose();\n\t\t\t\t\t\t\t\t} },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-close ple-abs' },\n\t\t\t\t\t\t\t\t'Close cropper'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\t\t\treturn _this3._toggleImageType();\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tclassName: (0, _classnames2.default)({\n\t\t\t\t\t\t\t\t\t'ple-cropper__nav-active': state.size !== 'cover'\n\t\t\t\t\t\t\t\t}) },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-resize ple-abs' },\n\t\t\t\t\t\t\t\t'Toggle background size type'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Cropper;\n}(_react2.default.Component), _class.displayName = 'Cropper', _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state, {});\n})(Cropper);\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(22);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _jquery = __webpack_require__(4);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _lib = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar controlEvent = {\n\tstart: _lib.util.isTouchDevice() ? 'touchstart' : 'mousedown',\n\tmove: _lib.util.isTouchDevice() ? 'touchmove' : 'mousemove',\n\tend: _lib.util.isTouchDevice() ? 'touchend' : 'mouseup'\n};\n\nvar Block = (_temp = _class = function (_React$Component) {\n\t_inherits(Block, _React$Component);\n\n\tfunction Block(props) {\n\t\t_classCallCheck(this, Block);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Block.__proto__ || Object.getPrototypeOf(Block)).call(this, props));\n\n\t\t_this.state = {\n\t\t\tposition: props.position,\n\t\t\tsize: props.size,\n\t\t\tisCover: props.size === 'cover'\n\t\t};\n\n\t\t_this._self = null;\n\t\t_this.$self = null;\n\t\t_this.$img = null;\n\t\t_this.moveStartInfo = {};\n\t\t_this.resizeStartInfo = {};\n\t\treturn _this;\n\t}\n\n\t_createClass(Block, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\t// set dom\n\t\t\tthis.$self = (0, _jquery2.default)(_reactDom2.default.findDOMNode(this._self));\n\t\t}\n\t}, {\n\t\tkey: 'componentWillReceiveProps',\n\t\tvalue: function componentWillReceiveProps(nextProps) {\n\t\t\tvar props = this.props;\n\n\n\t\t\tif (props.size !== nextProps.size) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tposition: nextProps.position,\n\t\t\t\t\tsize: nextProps.size,\n\t\t\t\t\tisCover: nextProps.size === 'cover'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_moveStart',\n\t\tvalue: function _moveStart(e) {\n\t\t\tvar _this2 = this;\n\n\t\t\te.stopPropagation();\n\n\t\t\tvar state = this.state;\n\n\t\t\t// set image element\n\n\t\t\tthis.$img = this.$self.find('img');\n\n\t\t\tthis.moveStartInfo = {\n\t\t\t\tcontainerX: parseInt(state.position.split(' ')[0]),\n\t\t\t\tcontainerY: parseInt(state.position.split(' ')[1]),\n\t\t\t\tmouseX: (e.clientX || e.pageX || e.nativeEvent.touches[0].clientX) + (0, _jquery2.default)(window).scrollLeft(),\n\t\t\t\tmouseY: (e.clientY || e.pageY || e.nativeEvent.touches[0].clientY) + (0, _jquery2.default)(window).scrollTop()\n\t\t\t};\n\n\t\t\t(0, _jquery2.default)(document).on(controlEvent.move + '.move', function (e) {\n\t\t\t\treturn _this2._moveIng(e);\n\t\t\t}).on(controlEvent.end + '.move', function (e) {\n\t\t\t\treturn _this2._moveEnd(e);\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_moveIng',\n\t\tvalue: function _moveIng(e) {\n\t\t\te.stopPropagation();\n\n\t\t\tvar evt = e.type === 'touchmove' ? e.originalEvent.touches[0] : e;\n\t\t\tvar mouse = {};\n\t\t\tvar distance = {};\n\n\t\t\tmouse.x = (evt.clientX || evt.pageX) + (0, _jquery2.default)(window).scrollLeft();\n\t\t\tmouse.y = (evt.clientY || evt.pageY) + (0, _jquery2.default)(window).scrollTop();\n\n\t\t\tdistance.x = this.moveStartInfo.containerX + (mouse.x - this.moveStartInfo.mouseX);\n\t\t\tdistance.y = this.moveStartInfo.containerY + (mouse.y - this.moveStartInfo.mouseY);\n\n\t\t\tthis.setState({\n\t\t\t\tposition: parseInt(distance.x) + 'px ' + parseInt(distance.y) + 'px'\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_moveEnd',\n\t\tvalue: function _moveEnd(e) {\n\t\t\te.preventDefault();\n\n\t\t\tthis.$img = null;\n\t\t\tthis.moveStartInfo = null;\n\n\t\t\t(0, _jquery2.default)(document).off(controlEvent.move + '.move').off(controlEvent.end + '.move');\n\t\t}\n\t}, {\n\t\tkey: '_resizeStart',\n\t\tvalue: function _resizeStart(e) {\n\t\t\tvar _this3 = this;\n\n\t\t\te.stopPropagation();\n\n\t\t\tvar state = this.state;\n\n\n\t\t\tthis.$img = this.$self.find('img');\n\t\t\tthis.resizeStartInfo = {\n\t\t\t\ttitle: e.currentTarget.title,\n\t\t\t\twidth: this.$img.width(),\n\t\t\t\theight: this.$img.height(),\n\t\t\t\tmouseX: (e.clientX || e.pageX || e.nativeEvent.touches[0].clientX) + (0, _jquery2.default)(window).scrollLeft(),\n\t\t\t\tposX: parseInt(state.position.split(' ')[0]),\n\t\t\t\tposY: parseInt(state.position.split(' ')[1])\n\t\t\t};\n\n\t\t\t(0, _jquery2.default)(document).on(controlEvent.move + '.resize', function (e) {\n\t\t\t\treturn _this3._resizeIng(e);\n\t\t\t}).on(controlEvent.end + '.resize', function (e) {\n\t\t\t\treturn _this3._resizeEnd(e);\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_resizeIng',\n\t\tvalue: function _resizeIng(e) {\n\t\t\te.stopPropagation();\n\n\t\t\tvar size = {};\n\t\t\tvar position = {};\n\t\t\tvar ratio = 1;\n\t\t\tvar distanceHeight = 0;\n\t\t\tvar evt = e.type === 'touchmove' ? e.originalEvent.touches[0] : e;\n\n\t\t\t// set mouse position\n\t\t\tvar distanceX = (evt.clientX || evt.pageX) + (0, _jquery2.default)(window).scrollLeft() - this.resizeStartInfo.mouseX;\n\n\t\t\t// set position and size\n\t\t\tswitch (this.resizeStartInfo.title) {\n\t\t\t\tcase 'resize-lt':\n\t\t\t\t\tposition.x = this.resizeStartInfo.posX + distanceX;\n\t\t\t\t\tsize.width = this.resizeStartInfo.width - distanceX;\n\t\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\t\tdistanceHeight = this.resizeStartInfo.height - size.height;\n\t\t\t\t\tposition.y = this.resizeStartInfo.posY + distanceHeight;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'resize-rt':\n\t\t\t\t\tposition.x = this.resizeStartInfo.posX;\n\t\t\t\t\tsize.width = this.resizeStartInfo.width + distanceX;\n\t\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\t\tdistanceHeight = this.resizeStartInfo.height - size.height;\n\t\t\t\t\tposition.y = this.resizeStartInfo.posY + distanceHeight;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'resize-lb':\n\t\t\t\t\tposition.x = this.resizeStartInfo.posX + distanceX;\n\t\t\t\t\tposition.y = this.resizeStartInfo.posY;\n\t\t\t\t\tsize.width = this.resizeStartInfo.width - distanceX;\n\t\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'resize-rb':\n\t\t\t\t\tposition.x = this.resizeStartInfo.posX;\n\t\t\t\t\tposition.y = this.resizeStartInfo.posY;\n\t\t\t\t\tsize.width = this.resizeStartInfo.width + distanceX;\n\t\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// set image size\n\n\t\t\tthis.setState({\n\t\t\t\tsize: parseInt(size.width) + 'px ' + parseInt(size.height) + 'px',\n\t\t\t\tposition: parseInt(position.x) + 'px ' + parseInt(position.y) + 'px'\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_resizeEnd',\n\t\tvalue: function _resizeEnd(e) {\n\t\t\tthis.$img = null;\n\t\t\tthis.resizeStartInfo = null;\n\n\t\t\t(0, _jquery2.default)(document).off(controlEvent.move + '.resize').off(controlEvent.end + '.resize');\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this4 = this;\n\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\t\t\tvar size = state.size !== 'cover' ? state.size.split(' ') : state.size;\n\t\t\tvar position = state.position.split(' ');\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'figure',\n\t\t\t\t{\n\t\t\t\t\tref: function ref(r) {\n\t\t\t\t\t\t_this4._self = r;\n\t\t\t\t\t},\n\t\t\t\t\tstyle: { backgroundColor: props.bgColor },\n\t\t\t\t\tclassName: 'ple-cropperBlock ple-cropper__block' },\n\t\t\t\tstate.isCover ? _react2.default.createElement('span', {\n\t\t\t\t\tstyle: { backgroundImage: 'url(\\'' + props.src + '\\')' },\n\t\t\t\t\tclassName: 'ple-cropperBlock__image ple-cropperBlock__image-cover' }) : _react2.default.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\t{\n\t\t\t\t\t\tclassName: (0, _classnames2.default)('ple-cropperBlock__image', { 'ple-cropperBlock__image-resize': props.size !== 'cover' }) },\n\t\t\t\t\t_react2.default.createElement('img', {\n\t\t\t\t\t\tsrc: props.src,\n\t\t\t\t\t\tstyle: Object.assign({}, state.size !== 'cover' && {\n\t\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\t\ttransform: 'translate(' + position[0] + ', ' + position[1] + ')'\n\t\t\t\t\t\t}),\n\t\t\t\t\t\talt: 'image' })\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{\n\t\t\t\t\t\tonMouseDown: function onMouseDown(e) {\n\t\t\t\t\t\t\treturn _this4._moveStart(e);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonTouchStart: function onTouchStart(e) {\n\t\t\t\t\t\t\treturn _this4._moveStart(e);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstyle: Object.assign({}, state.size !== 'cover' && {\n\t\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\t\theight: size[1],\n\t\t\t\t\t\t\ttransform: 'translate(' + position[0] + ', ' + position[1] + ')'\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tclassName: (0, _classnames2.default)('ple-cropperBlock__control', { 'ple-cropperBlock__control-active': props.size !== 'cover' }) },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\ttitle: 'resize-lt',\n\t\t\t\t\t\t\tonMouseDown: function onMouseDown(e) {\n\t\t\t\t\t\t\t\treturn _this4._resizeStart(e);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonTouchStart: function onTouchStart(e) {\n\t\t\t\t\t\t\t\treturn _this4._resizeStart(e);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tclassName: 'ple-cropperBlock__resize ple-cropperBlock__resize-lt' },\n\t\t\t\t\t\t_react2.default.createElement('i', { className: 'ple-sp-ico ple-abs ple-ico-clamp' })\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\ttitle: 'resize-rt',\n\t\t\t\t\t\t\tonMouseDown: function onMouseDown(e) {\n\t\t\t\t\t\t\t\treturn _this4._resizeStart(e);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonTouchStart: function onTouchStart(e) {\n\t\t\t\t\t\t\t\treturn _this4._resizeStart(e);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tclassName: 'ple-cropperBlock__resize ple-cropperBlock__resize-rt' },\n\t\t\t\t\t\t_react2.default.createElement('i', { className: 'ple-sp-ico ple-abs ple-ico-clamp' })\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\ttitle: 'resize-lb',\n\t\t\t\t\t\t\tonMouseDown: function onMouseDown(e) {\n\t\t\t\t\t\t\t\treturn _this4._resizeStart(e);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonTouchStart: function onTouchStart(e) {\n\t\t\t\t\t\t\t\treturn _this4._resizeStart(e);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tclassName: 'ple-cropperBlock__resize ple-cropperBlock__resize-lb' },\n\t\t\t\t\t\t_react2.default.createElement('i', { className: 'ple-sp-ico ple-abs ple-ico-clamp' })\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\ttitle: 'resize-rb',\n\t\t\t\t\t\t\tonMouseDown: function onMouseDown(e) {\n\t\t\t\t\t\t\t\treturn _this4._resizeStart(e);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonTouchStart: function onTouchStart(e) {\n\t\t\t\t\t\t\t\treturn _this4._resizeStart(e);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tclassName: 'ple-cropperBlock__resize ple-cropperBlock__resize-rb' },\n\t\t\t\t\t\t_react2.default.createElement('i', { className: 'ple-sp-ico ple-abs ple-ico-clamp' })\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Block;\n}(_react2.default.Component), _class.displayName = 'Block', _class.defaultProps = {\n\tsrc: '',\n\tposition: '',\n\tsize: '',\n\tbgColor: '#fff'\n}, _temp);\nexports.default = Block;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_22__;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.isTouchDevice = isTouchDevice;\nexports.sleep = sleep;\nexports.getImageSize = getImageSize;\nexports.checkSupportCss = checkSupportCss;\nexports.loadImage = loadImage;\n/**\n * is touch device\n *\n * @returns {boolean}\n */\nfunction isTouchDevice() {\n\treturn 'ontouchstart' in window || navigator.MaxTouchPoints > 0 || navigator.msMaxTouchPoints > 0;\n}\n\n/**\n * Sleep\n *\n * @param {Number} time\n * @param {String} id\n * @return {Promise}\n */\nfunction sleep(time) {\n\tvar id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'pleTimer';\n\n\treturn new Promise(function (resolve) {\n\t\twindow[id] = setTimeout(resolve, time);\n\t});\n}\n\n/**\n * Get image size\n *\n * @param {String} src\n * @return {Promise}\n */\nfunction getImageSize(src) {\n\treturn new Promise(function (resolve, reject) {\n\t\tif (!(src && typeof src === 'string')) reject();\n\n\t\tvar img = document.createElement('img');\n\n\t\timg.onload = function () {\n\t\t\tresolve({\n\t\t\t\twidth: img.naturalWidth,\n\t\t\t\theight: img.naturalHeight,\n\t\t\t\tratio: img.naturalHeight / img.naturalWidth\n\t\t\t});\n\t\t};\n\n\t\timg.onerror = function () {\n\t\t\treject();\n\t\t};\n\n\t\timg.src = src;\n\t});\n}\n\n/**\n * get css prefix\n *\n * @variation {Object}\n */\nvar cssPrefix = exports.cssPrefix = function () {\n\tvar styles = window.getComputedStyle(document.documentElement, '');\n\tvar pre = (Array.prototype.slice.call(styles).join('').match(/-(moz|webkit|ms)-/) || styles.OLink === '' && ['', 'o'])[1];\n\tvar dom = 'WebKit|Moz|MS|O'.match(new RegExp('(' + pre + ')', 'i'))[1];\n\n\treturn {\n\t\tdom: dom,\n\t\tlowercase: pre,\n\t\tcss: '-' + pre + '-',\n\t\tjs: pre[0].toUpperCase() + pre.substr(1)\n\t};\n}();\n\n/**\n * check support css\n *\n * @param {String} key\n * @param {String} value\n * @return {Boolean}\n */\nfunction checkSupportCss(key, value) {\n\tif (CSS && CSS.supports) {\n\t\treturn CSS.supports(key, value);\n\t}\n}\n\n/**\n * load image\n *\n * @param {String} src\n * @return {Promise}\n */\nfunction loadImage(src) {\n\treturn new Promise(function (resolve) {\n\t\tif (src) {\n\t\t\tvar image = new Image();\n\n\t\t\timage.onload = function (e) {\n\t\t\t\tresolve(image);\n\t\t\t};\n\t\t\timage.onError = function (e) {\n\t\t\t\tresolve(null);\n\t\t\t};\n\n\t\t\timage.setAttribute('crossOrigin', 'anonymous');\n\t\t\timage.src = src;\n\t\t} else {\n\t\t\tresolve(null);\n\t\t}\n\t});\n}\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.randomRange = randomRange;\nexports.getRatioForResize = getRatioForResize;\nexports.getTimeStamp = getTimeStamp;\nexports.getRatio = getRatio;\n/**\n * Random range\n * min~max 사이의 랜덤 정수를 반환한다.\n *\n * @param {Number} min\n * @param {Number} max\n * @param {Boolean} useDecimal\n * @return {Number}\n */\nfunction randomRange(min, max) {\n  var useDecimal = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  if (useDecimal) {\n    return Math.random() * (max - min) + min;\n  } else {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  }\n}\n\n/**\n * get ratio for resize\n * max와 min값의 차이의 비율을 가져온다.\n *\n * @param {Number} min\n * @param {Number} max\n * @return {Number}\n */\nfunction getRatioForResize(min, max) {\n  return max > min ? min / max : max / min;\n}\n\n/**\n * Get timestamp\n *\n * @return {Number}\n */\nfunction getTimeStamp() {\n  return Math.round(+new Date() / 1000);\n}\n\n/**\n * get ratio\n *\n * @param {Number} w\n * @param {Number} h\n * @return {Number}\n */\nfunction getRatio(w, h) {\n  var result = parseInt(w) / parseInt(h);\n  result = Math.round(result * 1000) / 1000;\n  return result;\n}\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.rgbToHex = rgbToHex;\n/**\n * rgba to hex\n *\n * @param {String} color\n * @return {String}\n */\nfunction rgbToHex(color) {\n  color = color.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n  return color && color.length === 4 ? \"#\" + (\"0\" + parseInt(color[1], 10).toString(16)).slice(-2) + (\"0\" + parseInt(color[2], 10).toString(16)).slice(-2) + (\"0\" + parseInt(color[3], 10).toString(16)).slice(-2) : '';\n}\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = uploader;\n\nvar _jquery = __webpack_require__(4);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * local upload\n *\n * @param {File} file\n * @return {Promise}\n */\nfunction local(file) {\n\tvar defer = _jquery2.default.Deferred();\n\tvar reader = new FileReader();\n\n\treader.addEventListener('load', function (e) {\n\t\tdefer.resolve({\n\t\t\tname: file.name,\n\t\t\ttype: file.type,\n\t\t\tsize: file.size,\n\t\t\turl: e.target.result\n\t\t});\n\t});\n\treader.addEventListener('error', function (e) {\n\t\tdefer.reject(e.target);\n\t});\n\n\treader.readAsDataURL(file);\n\n\treturn defer.promise();\n}\n\n/**\n * external upload\n *\n * @param {String} script\n * @param {File} file\n * @return {Promise}\n */\nfunction external(script, file) {\n\tvar defer = _jquery2.default.Deferred();\n\tvar xhr = new XMLHttpRequest();\n\n\tif (!(typeof FormData === 'function' || (typeof FormData === 'undefined' ? 'undefined' : _typeof(FormData)) === 'object')) {\n\t\tdefer.reject('not support browser', file);\n\t\treturn null;\n\t}\n\tvar formData = new FormData();\n\n\tfunction onLoad(e) {\n\t\ttry {\n\t\t\tvar result = JSON.parse(e.target.responseText);\n\t\t\tif (result.state === 'success') {\n\t\t\t\tdefer.resolve(result.data);\n\t\t\t} else {\n\t\t\t\tthrow 'server error';\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tdefer.reject(e);\n\t\t}\n\t}\n\n\tfunction onProgress(event) {\n\t\tvar loaded = event.loaded,\n\t\t    total = event.total;\n\n\t\tdefer.notify('progress', loaded, total);\n\t}\n\n\tformData.append('files[]', file);\n\txhr.open('post', script, true);\n\n\txhr.addEventListener('load', onLoad);\n\txhr.upload.addEventListener('progress', onProgress);\n\n\txhr.send(formData);\n\n\t// start queue\n\tdefer.notify('start');\n\n\treturn defer.promise();\n}\n\n/**\n * upload multiple files\n *\n */\nfunction uploader(files, script) {\n\tvar defer = _jquery2.default.Deferred();\n\tvar total = files.length;\n\tvar count = 0;\n\n\tfunction upload() {\n\t\tif (count >= total) {\n\t\t\tdefer.resolve();\n\t\t\treturn;\n\t\t}\n\n\t\tif (script) {\n\t\t\texternal(script, files[count]).done(function (data) {\n\t\t\t\tdefer.notify('done', { count: count, data: data });\n\t\t\t\tcount++;\n\t\t\t\tupload();\n\t\t\t}).progress(function (state, loaded, total) {\n\t\t\t\tdefer.notify(state, state === 'progress' && { loaded: loaded, total: total });\n\t\t\t}).fail(function (error) {\n\t\t\t\tdefer.reject(error);\n\t\t\t});\n\t\t} else {\n\t\t\tlocal(files[count]).done(function (data) {\n\t\t\t\tdefer.notify('done', { count: count, data: data });\n\t\t\t\tcount++;\n\t\t\t\tupload();\n\t\t\t}).fail(function () {});\n\t\t}\n\t}\n\n\tupload(0);\n\n\treturn defer.promise();\n}\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = makingImage;\n\nvar _jquery = __webpack_require__(4);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _ = __webpack_require__(1);\n\nvar lib = _interopRequireWildcard(_);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Get image size\n *\n * @param {String} type\n * @param {int} cw container width\n * @param {int} ch container height\n * @param {int} iw image width\n * @param {int} ih image height\n * @return {Object}\n */\nfunction getImageSize(type, cw, ch, iw, ih) {\n\tvar size = { width: 0, height: 0 };\n\n\tswitch (type) {\n\t\tcase 'cover':\n\t\t\tif (cw > ch) {\n\t\t\t\tsize.width = cw;\n\t\t\t\tsize.height = ih * (cw / iw);\n\t\t\t\tif (ch > size.height) {\n\t\t\t\t\tsize.width = iw * (ch / ih);\n\t\t\t\t\tsize.height = ch;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsize.width = iw * (ch / ih);\n\t\t\t\tsize.height = ch;\n\t\t\t\tif (cw > size.width) {\n\t\t\t\t\tsize.width = cw;\n\t\t\t\t\tsize.height = ih * (cw / iw);\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'width':\n\t\t\tsize.width = cw;\n\t\t\tsize.height = ih * (cw / iw);\n\t\t\tbreak;\n\n\t\tcase 'height':\n\t\t\tsize.width = iw * (ch / ih);\n\t\t\tsize.height = ch;\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tsize.width = cw;\n\t\t\tsize.height = ch;\n\t\t\tbreak;\n\t}\n\n\treturn {\n\t\twidth: Math.round(size.width),\n\t\theight: Math.round(size.height)\n\t};\n}\n\n/**\n * export grid\n *\n * @param {HTMLElement} el\n * @param {Array} grids\n * @return {Array}\n */\nfunction makeQueue(el, grids) {\n\tif (!(el && grids)) return null;\n\n\tvar $items = (0, _jquery2.default)(el).children();\n\tvar result = [];\n\n\t$items.each(function (key, item) {\n\t\tvar $item = (0, _jquery2.default)(item);\n\t\tvar grid = grids[$item.data('key')];\n\t\tvar image = grid.image;\n\n\t\tif (image) {\n\t\t\timage = {\n\t\t\t\tsrc: image.src,\n\t\t\t\tposition: image.position.split(' '),\n\t\t\t\tsize: image.size === 'cover' ? null : image.size.split(' ')\n\t\t\t};\n\t\t}\n\n\t\tresult.push({\n\t\t\t//key: $item.data('key'),\n\t\t\tx: $item.position().left,\n\t\t\ty: $item.position().top,\n\t\t\twidth: $item.width(),\n\t\t\theight: $item.height(),\n\t\t\timage: image || null,\n\t\t\tcolor: grid.color || 'rgba(255,255,255,1)'\n\t\t});\n\t});\n\n\treturn result;\n}\n\n/**\n * make block\n *\n * @param {Object} queue\n * @param {Object} options\n * @return {Promise}\n */\nfunction makeBlock() {\n\tvar queue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\tvar options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\treturn new Promise(function (resolve) {\n\t\tlib.util.loadImage(queue.image ? queue.image.src : null).then(function (image) {\n\t\t\tif (image) {\n\t\t\t\tvar realSize = { width: image.naturalWidth, height: image.naturalHeight };\n\t\t\t\tvar size = {};\n\t\t\t\tvar position = {};\n\n\t\t\t\t// get size and position image\n\t\t\t\tif (queue.image.size) {\n\t\t\t\t\tsize = getImageSize('width', parseInt(queue.image.size[0]), 0, realSize.width, realSize.height);\n\t\t\t\t\tposition.x = parseInt(queue.image.position[0]);\n\t\t\t\t\tposition.y = parseInt(queue.image.position[1]);\n\t\t\t\t} else {\n\t\t\t\t\tsize = getImageSize('cover', queue.width, queue.height, realSize.width, realSize.height);\n\t\t\t\t\tposition.x = queue.width * 0.5 - size.width * 0.5;\n\t\t\t\t\tposition.y = queue.height * 0.5 - size.height * 0.5;\n\t\t\t\t}\n\n\t\t\t\t// resize image\n\t\t\t\tlib.resamplingImage({\n\t\t\t\t\timage: image,\n\t\t\t\t\treSampleCount: options.sampling,\n\t\t\t\t\twidth: queue.width,\n\t\t\t\t\theight: queue.height,\n\t\t\t\t\tcx: 0,\n\t\t\t\t\tcy: 0,\n\t\t\t\t\tcw: realSize.width,\n\t\t\t\t\tch: realSize.height,\n\t\t\t\t\tdx: position.x,\n\t\t\t\t\tdy: position.y,\n\t\t\t\t\tdw: size.width,\n\t\t\t\t\tdh: size.height,\n\t\t\t\t\tbgColor: queue.color\n\t\t\t\t}).then(function (res) {\n\t\t\t\t\tresolve({\n\t\t\t\t\t\twidth: queue.width,\n\t\t\t\t\t\theight: queue.height,\n\t\t\t\t\t\tx: queue.x,\n\t\t\t\t\t\ty: queue.y,\n\t\t\t\t\t\timage: res\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tresolve({\n\t\t\t\t\twidth: queue.width,\n\t\t\t\t\theight: queue.height,\n\t\t\t\t\tx: queue.x,\n\t\t\t\t\ty: queue.y,\n\t\t\t\t\tcolor: queue.color,\n\t\t\t\t\timage: new lib.Canvas(queue.width, queue.height, queue.color)\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * draw block\n * 캔버스에다가 블럭을 그려준다.\n *\n * @param {Canvas} canvas\n * @param {Object} block\n */\nfunction drawBlock(canvas, block) {\n\treturn new Promise(function (resolve) {\n\t\tcanvas.ctx.drawImage(block.image.el, block.x, block.y, block.width, block.height);\n\t\tresolve(block.image.el);\n\t});\n}\n\n/**\n * Get image size\n *\n * @param {Object} el\n * @param {String} format\n * @param {int} quality\n * @return {Object}\n */\nfunction canvasToBase64() {\n\tvar el = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar format = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\tvar quality = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.75;\n\n\tswitch (format) {\n\t\tcase 'png':\n\t\t\tformat = 'image/png';\n\t\t\tbreak;\n\t\tcase 'jpg':\n\t\tdefault:\n\t\t\tformat = 'image/jpeg';\n\t\t\tbreak;\n\t}\n\n\treturn el.toDataURL(format, format === 'image/jpeg' ? quality : undefined);\n}\n\n/**\n * making image\n *\n * @param {HTMLElement} el `.ple-grid` element\n * @param {Object} data\n * @param {Object} options\n * @return {Promise}\n */\nfunction makingImage(el) {\n\tvar data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\tvar options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\tvar defer = _jquery2.default.Deferred(); // resolve, notify, reject\n\tvar queues = makeQueue(el, data.grid);\n\tvar current = 0;\n\tvar queueTotal = queues.length;\n\t// make canvas\n\tvar canvas = new lib.Canvas(el.offsetWidth, el.offsetHeight, data.setting.bgColor);\n\n\t// send progress event\n\tdefer.notify(queueTotal, current++, null);\n\n\t/**\n  * play\n  * 큐 플레이. 이미지를 만들고 캔버스에 그리고나서 결과는 `confirm`에서 받는다.\n  *\n  * @param {Object} queue\n  * @return {Promise}\n  */\n\tfunction play(queue) {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\tmakeBlock(queue, options).then(function (block) {\n\t\t\t\tdrawBlock(canvas, block).then(resolve, reject);\n\t\t\t}, reject);\n\t\t});\n\t}\n\n\t/**\n  * confirm\n  * 큐를 하나 삭제하고 계속 `play`함수를 실행할지 종료할지 결정한다.\n  *\n  * @param {Canvas} image\n  */\n\tfunction confirm(image) {\n\t\t// 큐 하나빼기\n\t\tqueues.splice(0, 1);\n\n\t\t// send progress event\n\t\tdefer.notify(queueTotal, current++, image);\n\n\t\t// check queues\n\t\tif (queues.length) {\n\t\t\tplay(queues[0]).then(confirm, error);\n\t\t} else {\n\t\t\tend();\n\t\t}\n\t}\n\n\t/**\n  * error\n  *\n  * @param {String} err\n  */\n\tfunction error(err) {\n\t\tdefer.reject(err);\n\t}\n\n\t/**\n  * end\n  * `play`가 모두 끝났을때 호출. `done`으로 내보낸다.\n  */\n\tfunction end() {\n\t\tswitch (options.output) {\n\t\t\tcase 'base64':\n\t\t\t\tdefer.resolve(canvasToBase64(canvas.el, options.format, options.quality));\n\t\t\t\tbreak;\n\t\t\tcase 'canvas':\n\t\t\tdefault:\n\t\t\t\tdefer.resolve(canvas.el);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t// check queue\n\tif (queues.length) {\n\t\t// play queue\n\t\tplay(queues[0]).then(confirm, error);\n\t} else {\n\t\t// not found queues\n\t\terror('not found queue');\n\t}\n\n\treturn defer.promise();\n}\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Canvas\n */\nvar Canvas =\n\n/**\n * constructor\n *\n * @param {Number} width\n * @param {Number} height\n * @param {String} bgColor\n */\nfunction Canvas() {\n\tvar width = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 150;\n\tvar height = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;\n\tvar bgColor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '#ffffff';\n\n\t_classCallCheck(this, Canvas);\n\n\tthis.el = document.createElement('canvas');\n\tthis.ctx = this.el.getContext('2d');\n\n\tthis.el.width = width;\n\tthis.el.height = height;\n\n\tthis.ctx.fillStyle = bgColor;\n\tthis.ctx.fillRect(0, 0, width, height);\n};\n\nexports.default = Canvas;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = resamplingImage;\n\nvar _ = __webpack_require__(1);\n\nvar lib = _interopRequireWildcard(_);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// default options\nvar defaultOptions = {\n\timage: null,\n\twidth: 100,\n\theight: 100,\n\treSampleCount: 1,\n\tbgColor: 'rgba(255,255,255,1)',\n\tcw: 0,\n\tch: 0,\n\tcx: 0,\n\tcy: 0,\n\tdw: 0,\n\tdh: 0,\n\tdx: 0,\n\tdy: 0\n};\n\n/**\n * resize\n *\n * @param {Object} options\n * @param {Number} count\n * @param {Canvas} parentCanvas\n * @return {Promise}\n */\nfunction resize(options, count, parentCanvas) {\n\treturn new Promise(function (resolve) {\n\t\tfunction func(count, parentCanvas) {\n\t\t\tvar max = Math.pow(2, count);\n\t\t\tvar canvasForResize = new lib.Canvas(options.width * max, options.height * max, options.bgColor);\n\n\t\t\tcanvasForResize.ctx.drawImage(parentCanvas.el, 0, 0, parentCanvas.el.width * 0.5, parentCanvas.el.height * 0.5);\n\n\t\t\tif (count > 0) {\n\t\t\t\tfunc(count - 1, canvasForResize);\n\t\t\t} else {\n\t\t\t\tresolve(canvasForResize);\n\t\t\t}\n\t\t}\n\n\t\tfunc(count - 1, parentCanvas);\n\t});\n}\n\n/**\n * resampling image\n *\n * @param {Object} options\n * @return {Promise}\n */\nfunction resamplingImage(options) {\n\t// assign options\n\toptions = Object.assign({}, defaultOptions, options);\n\n\treturn new Promise(function (resolve, reject) {\n\t\tif (!options.image) reject('not found image');\n\n\t\t// set reSample count\n\t\toptions.reSampleCount = Math.min(4, options.reSampleCount);\n\t\toptions.reSampleCount = Math.max(0, options.reSampleCount);\n\t\tvar reSampleMax = Math.pow(2, options.reSampleCount);\n\n\t\t// set canvas\n\t\tvar canvas = new lib.Canvas(options.width * reSampleMax, options.height * reSampleMax, options.bgColor);\n\n\t\tcanvas.ctx.drawImage(options.image, options.cx, // cx\n\t\toptions.cy, // cy\n\t\toptions.cw, // cw\n\t\toptions.ch, // ch\n\t\toptions.dx * reSampleMax, // dx\n\t\toptions.dy * reSampleMax, // dy\n\t\toptions.dw * reSampleMax, // dw\n\t\toptions.dh * reSampleMax // dh\n\t\t);\n\n\t\tif (options.reSampleCount > 0) {\n\t\t\tresize(options, options.reSampleCount, canvas).then(resolve);\n\t\t} else {\n\t\t\tresolve(canvas);\n\t\t}\n\t});\n}\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _jquery = __webpack_require__(4);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _reactSimpleColorpicker = __webpack_require__(10);\n\nvar _reactSimpleColorpicker2 = _interopRequireDefault(_reactSimpleColorpicker);\n\nvar _actions = __webpack_require__(5);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(1);\n\nvar libs = _interopRequireWildcard(_lib);\n\nvar _Button = __webpack_require__(31);\n\nvar _Button2 = _interopRequireDefault(_Button);\n\nvar _EditLayoutSetting = __webpack_require__(32);\n\nvar _EditLayoutSetting2 = _interopRequireDefault(_EditLayoutSetting);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Toolbar = (_temp = _class = function (_React$Component) {\n\t_inherits(Toolbar, _React$Component);\n\n\tfunction Toolbar(props) {\n\t\t_classCallCheck(this, Toolbar);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Toolbar.__proto__ || Object.getPrototypeOf(Toolbar)).call(this, props));\n\n\t\t_this.state = {\n\t\t\tactive: {\n\t\t\t\tsetting: false,\n\t\t\t\teditBlockColor: false\n\t\t\t},\n\t\t\tvisible: {\n\t\t\t\tsetting: true,\n\t\t\t\tshuffle: true,\n\t\t\t\tadd: true,\n\t\t\t\tselect: true,\n\t\t\t\tedit: false,\n\t\t\t\tremoveImage: false,\n\t\t\t\tduplicate: false,\n\t\t\t\tremoveBlock: false,\n\t\t\t\teditColor: false\n\t\t\t}\n\t\t};\n\t\treturn _this;\n\t}\n\n\t_createClass(Toolbar, [{\n\t\tkey: 'componentWillReceiveProps',\n\t\tvalue: function componentWillReceiveProps(nextProps) {\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\n\t\t\tvar newState = Object.assign({}, state);\n\t\t\tvar updated = false;\n\n\t\t\t// select block\n\t\t\tif (props.tree.body.activeBlock.length !== nextProps.tree.body.activeBlock.length) {\n\t\t\t\tvar active = !!nextProps.tree.body.activeBlock.length;\n\t\t\t\tnewState.visible = Object.assign({}, newState.visible, {\n\t\t\t\t\tedit: false,\n\t\t\t\t\tremoveImage: false,\n\t\t\t\t\tduplicate: active,\n\t\t\t\t\tremoveBlock: active,\n\t\t\t\t\teditColor: active\n\t\t\t\t});\n\t\t\t\tupdated = true;\n\t\t\t}\n\n\t\t\tif (nextProps.tree.body.activeBlock[0]) {\n\t\t\t\t// check image block\n\t\t\t\tvar isImage = false;\n\t\t\t\tnextProps.tree.body.activeBlock.some(function (k) {\n\t\t\t\t\tif (nextProps.tree.body.grid[k].image) {\n\t\t\t\t\t\tisImage = true;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// select image block\n\t\t\t\tvar block = nextProps.tree.body.grid[nextProps.tree.body.activeBlock[0]];\n\t\t\t\tnewState.visible = Object.assign({}, newState.visible, {\n\t\t\t\t\tremoveImage: isImage,\n\t\t\t\t\tedit: !!(block && block.image)\n\t\t\t\t});\n\t\t\t\tupdated = true;\n\t\t\t}\n\n\t\t\tif (updated) {\n\t\t\t\tthis.setState(newState);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'changeActive',\n\t\tvalue: function changeActive(keyName, userSW, event) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar state = this.state;\n\n\t\t\tvar sw = userSW || !state.active[keyName];\n\t\t\tvar cTarget = event ? event.currentTarget : null;\n\n\t\t\tif (sw) {\n\t\t\t\t(0, _jquery2.default)(document).on('click.pleToolbar', function (e) {\n\t\t\t\t\tif ((0, _jquery2.default)(e.target).closest('.ple-toolbar__pop').length) return;\n\t\t\t\t\tif (!(e.target === cTarget) && !(e.target.parentNode === cTarget)) {\n\t\t\t\t\t\t_this2.changeActive(keyName, false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t(0, _jquery2.default)(document).off('click.pleToolbar');\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tactive: _extends({}, state.active, _defineProperty({\n\t\t\t\t\tsetting: false,\n\t\t\t\t\teditColor: false\n\t\t\t\t}, keyName, sw))\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'deactivate',\n\t\tvalue: function deactivate() {\n\t\t\tvar _this3 = this;\n\n\t\t\t(0, _jquery2.default)(document).off('click.pleToolbar');\n\t\t\treturn new Promise(function (reject) {\n\t\t\t\t_this3.setState({\n\t\t\t\t\tactive: {\n\t\t\t\t\t\tsetting: false,\n\t\t\t\t\t\teditColor: false\n\t\t\t\t\t}\n\t\t\t\t}, reject);\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * Submit edit setting\n   *\n   * @param {Object} state\n   * @return {Boolean}\n   */\n\n\t}, {\n\t\tkey: 'submitEditSetting',\n\t\tvalue: function submitEditSetting(state) {\n\t\t\tvar _this4 = this;\n\n\t\t\t// update setting\n\t\t\tthis.props.dispatch(actions.body.updateSetting(state));\n\n\t\t\t// close palette\n\t\t\tlibs.util.sleep(50).then(function () {\n\t\t\t\treturn _this4.changeActive('setting', false);\n\t\t\t});\n\n\t\t\treturn false;\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this5 = this;\n\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\t\t\tvar activeBlockColor = '#fff';\n\n\t\t\tif (_typeof(props.tree.body.grid) === 'object' && libs.object.isArray(props.tree.body.activeBlock)) {\n\t\t\t\tvar n = props.tree.body.activeBlock[0];\n\t\t\t\tactiveBlockColor = props.tree.body.grid[n] && props.tree.body.grid[n].color ? props.tree.body.grid[n].color : props.setting.body.blockColor;\n\t\t\t}\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'nav',\n\t\t\t\t{ className: 'ple-toolbar' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-toolbar__wrap' },\n\t\t\t\t\tstate.visible.setting && _react2.default.createElement(\n\t\t\t\t\t\t_Button2.default,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ticonClass: 'ple-ico-setting',\n\t\t\t\t\t\t\tclassName: (0, _classnames2.default)('ple-edit-setting', {\n\t\t\t\t\t\t\t\t'ple-toolbar__block-active': state.active.setting\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tonClick: function onClick(e) {\n\t\t\t\t\t\t\t\te.persist();\n\t\t\t\t\t\t\t\tif (!state.active.setting) {\n\t\t\t\t\t\t\t\t\t_this5.deactivate().then(function () {\n\t\t\t\t\t\t\t\t\t\t_this5.changeActive('setting', null, e);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttitle: 'Edit preference' },\n\t\t\t\t\t\t_react2.default.createElement(_EditLayoutSetting2.default, {\n\t\t\t\t\t\t\tsubmit: function submit(e) {\n\t\t\t\t\t\t\t\treturn _this5.submitEditSetting(e);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsetting: props.tree.body.setting,\n\t\t\t\t\t\t\tdefaultSetting: props.setting.body.setting })\n\t\t\t\t\t),\n\t\t\t\t\tstate.visible.shuffle && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-arrow-random',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.api.grid.shuffle();\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Shuffle block' }),\n\t\t\t\t\tstate.visible.add && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-plus',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.api.grid.add();\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Add block' }),\n\t\t\t\t\tstate.visible.select && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-select',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.api.grid.toggleSelectAll();\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Toggle select block' }),\n\t\t\t\t\tstate.visible.edit && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-pencil',\n\t\t\t\t\t\tclassName: 'ple-toolbar__block-key',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.api.cropper.open(props.tree.body.activeBlock[0]);\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Edit block' }),\n\t\t\t\t\tstate.visible.removeImage && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-empty',\n\t\t\t\t\t\tclassName: 'ple-toolbar__block-key',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.api.grid.removeImages(props.tree.body.activeBlock);\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Remove image in block' }),\n\t\t\t\t\tstate.visible.duplicate && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-duplicate',\n\t\t\t\t\t\tclassName: 'ple-toolbar__block-key',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\tif (props.tree.body.activeBlock === null) {\n\t\t\t\t\t\t\t\talert('Not found select block');\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprops.dispatch(actions.body.duplicateBlock(props.tree.body.activeBlock));\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Duplicate block' }),\n\t\t\t\t\tstate.visible.removeBlock && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-trash',\n\t\t\t\t\t\tclassName: 'ple-toolbar__block-key',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\tif (props.tree.body.activeBlock === null) {\n\t\t\t\t\t\t\t\talert('Not found select block');\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprops.api.grid.remove(props.tree.body.activeBlock);\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Remove block' }),\n\t\t\t\t\tstate.visible.editColor && _react2.default.createElement(\n\t\t\t\t\t\t_Button2.default,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ticonClass: 'ple-ico-palette',\n\t\t\t\t\t\t\tclassName: (0, _classnames2.default)('ple-edit-color', 'ple-toolbar__block-key', { 'ple-toolbar__block-active': state.active.editColor }),\n\t\t\t\t\t\t\tonClick: function onClick(e) {\n\t\t\t\t\t\t\t\te.persist();\n\t\t\t\t\t\t\t\tif (!state.active.editColor) {\n\t\t\t\t\t\t\t\t\t_this5.deactivate().then(function () {\n\t\t\t\t\t\t\t\t\t\treturn _this5.changeActive('editColor', null, e);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttitle: 'Change color' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t{ className: 'ple-colorPicker__wrap' },\n\t\t\t\t\t\t\t_react2.default.createElement(_reactSimpleColorpicker2.default, {\n\t\t\t\t\t\t\t\tonChange: function onChange(color) {\n\t\t\t\t\t\t\t\t\tif (!color) return;\n\t\t\t\t\t\t\t\t\tprops.dispatch(actions.body.changeColorBlock(props.tree.body.activeBlock, color));\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcolor: activeBlockColor,\n\t\t\t\t\t\t\t\tclassName: 'ple-colorPicker__body' })\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Toolbar;\n}(_react2.default.Component), _class.displayName = 'Toolbar', _class.defaultProps = {\n\tdispatch: null,\n\ttree: null\n}, _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state, {});\n})(Toolbar);\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Button = (_temp = _class = function (_React$Component) {\n\t_inherits(Button, _React$Component);\n\n\tfunction Button() {\n\t\t_classCallCheck(this, Button);\n\n\t\treturn _possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).apply(this, arguments));\n\t}\n\n\t_createClass(Button, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: (0, _classnames2.default)('ple-toolbar__block', props.className) },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'button',\n\t\t\t\t\t{ type: 'button', title: props.title, onClick: props.onClick },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'i',\n\t\t\t\t\t\t{ className: (0, _classnames2.default)('ple-sp-ico', 'ple-abs', props.iconClass) },\n\t\t\t\t\t\tprops.title\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\t!!props.children && _react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-toolbar__pop' },\n\t\t\t\t\tprops.children\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Button;\n}(_react2.default.Component), _class.displayName = 'Button', _temp);\nexports.default = Button;\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _jquery = __webpack_require__(4);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _reactSimpleColorpicker = __webpack_require__(10);\n\nvar _reactSimpleColorpicker2 = _interopRequireDefault(_reactSimpleColorpicker);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EditLayoutSetting = (_temp = _class = function (_React$Component) {\n\t_inherits(EditLayoutSetting, _React$Component);\n\n\tfunction EditLayoutSetting(props) {\n\t\t_classCallCheck(this, EditLayoutSetting);\n\n\t\tvar _this = _possibleConstructorReturn(this, (EditLayoutSetting.__proto__ || Object.getPrototypeOf(EditLayoutSetting)).call(this, props));\n\n\t\t_this.state = _extends({}, props.defaultSetting, props.setting, {\n\t\t\tpopup_bgColor: false\n\t\t});\n\t\treturn _this;\n\t}\n\n\t_createClass(EditLayoutSetting, [{\n\t\tkey: 'componentWillReceiveProps',\n\t\tvalue: function componentWillReceiveProps() {\n\t\t\tvar props = this.props;\n\n\n\t\t\tthis.setState(_extends({}, props.defaultSetting, props.setting));\n\t\t}\n\t}, {\n\t\tkey: 'activeBgColorPopup',\n\t\tvalue: function activeBgColorPopup(sw, e) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar state = this.state;\n\n\t\t\tvar cTarget = e ? e.currentTarget : null;\n\n\t\t\tsw = sw || !state.popup_bgColor;\n\n\t\t\tif (sw) {\n\t\t\t\t(0, _jquery2.default)(document).on('click.pleEditBgColor', function (e) {\n\t\t\t\t\tif ((0, _jquery2.default)(e.target).closest('.ple-edit-bgColor__popup').length) return;\n\t\t\t\t\tif (!(e.target === cTarget) && !(e.target.parentNode === cTarget)) {\n\t\t\t\t\t\t_this2.activeBgColorPopup(false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t(0, _jquery2.default)(document).off('click.pleEditBgColor');\n\t\t\t}\n\n\t\t\tthis.setState({ popup_bgColor: sw });\n\t\t}\n\t}, {\n\t\tkey: '_submit',\n\t\tvalue: function _submit(e) {\n\t\t\te.preventDefault();\n\t\t\tthis.props.submit(this.state);\n\t\t}\n\t}, {\n\t\tkey: '_reset',\n\t\tvalue: function _reset() {\n\t\t\tthis.setState(_extends({}, this.props.defaultSetting));\n\t\t}\n\t}, {\n\t\tkey: '_change',\n\t\tvalue: function _change(e) {\n\t\t\tvar value = e.target.value || '';\n\t\t\tswitch (e.target.type) {\n\t\t\t\tcase 'text':\n\t\t\t\t\tthis.setState(_defineProperty({}, e.target.name, value));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'number':\n\t\t\t\t\tvalue = value || 0;\n\t\t\t\t\tthis.setState(_defineProperty({}, e.target.name, parseInt(value)));\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_openBgColorPicker',\n\t\tvalue: function _openBgColorPicker(e) {\n\t\t\te.persist();\n\t\t\tthis.activeBgColorPopup(null, e);\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'form',\n\t\t\t\t{ onSubmit: function onSubmit(e) {\n\t\t\t\t\t\treturn _this3._submit(e);\n\t\t\t\t\t}, className: 'ple-edit-setting' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'fieldset',\n\t\t\t\t\t{ className: 'ple-edit-setting__form' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'legend',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'Settings form'\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'h1',\n\t\t\t\t\t\t{ className: 'ple-edit-setting__title' },\n\t\t\t\t\t\t'Settings'\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_width' },\n\t\t\t\t\t\t\t\t'Width'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\t{ className: 'ple-type-input' },\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'width', id: 'frm_width',\n\t\t\t\t\t\t\t\tmin: 1, max: 999, maxLength: 3,\n\t\t\t\t\t\t\t\tvalue: state.width,\n\t\t\t\t\t\t\t\tonChange: function onChange(e) {\n\t\t\t\t\t\t\t\t\treturn _this3._change(e);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tstyle: { width: '72px' },\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'px'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_height' },\n\t\t\t\t\t\t\t\t'Height'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\t{ className: 'ple-type-input' },\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'height', id: 'frm_height',\n\t\t\t\t\t\t\t\tmin: 1, max: 999,\n\t\t\t\t\t\t\t\tvalue: state.height,\n\t\t\t\t\t\t\t\tonChange: function onChange(e) {\n\t\t\t\t\t\t\t\t\treturn _this3._change(e);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tstyle: { width: '72px' },\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'px'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_column' },\n\t\t\t\t\t\t\t\t'Column'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\t{ className: 'ple-type-input' },\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'column', id: 'frm_column',\n\t\t\t\t\t\t\t\tmin: 1, max: 99,\n\t\t\t\t\t\t\t\tvalue: state.column,\n\t\t\t\t\t\t\t\tonChange: function onChange(e) {\n\t\t\t\t\t\t\t\t\treturn _this3._change(e);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tstyle: { width: '54px' },\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'ea'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\t{ className: 'ple-type-input' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_outerMargin' },\n\t\t\t\t\t\t\t\t'Outer margin'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'outerMargin', id: 'frm_outerMargin',\n\t\t\t\t\t\t\t\tmin: 0, max: 500,\n\t\t\t\t\t\t\t\tvalue: state.outerMargin,\n\t\t\t\t\t\t\t\tonChange: function onChange(e) {\n\t\t\t\t\t\t\t\t\treturn _this3._change(e);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tstyle: { width: '58px' },\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'px'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\t{ className: 'ple-type-input' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_innerMargin' },\n\t\t\t\t\t\t\t\t'Inner margin'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'innerMargin', id: 'frm_innerMargin',\n\t\t\t\t\t\t\t\tmin: 0, max: 500,\n\t\t\t\t\t\t\t\tvalue: state.innerMargin,\n\t\t\t\t\t\t\t\tonChange: function onChange(e) {\n\t\t\t\t\t\t\t\t\treturn _this3._change(e);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tstyle: { width: '58px' },\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'px'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_bgColor' },\n\t\t\t\t\t\t\t\t'Bg color'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t{ className: 'ple-edit-bgColor' },\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\t{ className: (0, _classnames2.default)('ple-edit-bgColor__inputBox', {\n\t\t\t\t\t\t\t\t\t\t\t'ple-edit-bgColor__inputBox-active': state.popup_bgColor\n\t\t\t\t\t\t\t\t\t\t}) },\n\t\t\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\t\tname: 'bgColor',\n\t\t\t\t\t\t\t\t\t\tid: 'frm_bgColor',\n\t\t\t\t\t\t\t\t\t\tvalue: state.bgColor,\n\t\t\t\t\t\t\t\t\t\tonChange: function onChange(e) {\n\t\t\t\t\t\t\t\t\t\t\treturn _this3._change(e);\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tonClick: function onClick(e) {\n\t\t\t\t\t\t\t\t\t\t\treturn _this3._openBgColorPicker(e);\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\treadOnly: true,\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tclassName: 'ple-edit-bgColor__input',\n\t\t\t\t\t\t\t\t\t\tstyle: { backgroundColor: state.bgColor }\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tstate.popup_bgColor && _react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t{ className: 'ple-edit-bgColor__popup' },\n\t\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t\t{ className: 'ple-edit-bgColor__picker' },\n\t\t\t\t\t\t\t\t\t\t_react2.default.createElement(_reactSimpleColorpicker2.default, {\n\t\t\t\t\t\t\t\t\t\t\tonChange: function onChange(color) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn _this3.setState({ bgColor: color });\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tcolor: state.bgColor })\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_freeMode' },\n\t\t\t\t\t\t\t\t'Free mode'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\t{ className: 'ple-type-checkbox' },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\t\ttype: 'radio', name: 'freeMode', id: 'frm_freeMode',\n\t\t\t\t\t\t\t\t\tonChange: function onChange() {\n\t\t\t\t\t\t\t\t\t\treturn _this3.setState({ freeMode: true });\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tchecked: state.freeMode }),\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t'true'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\t\ttype: 'radio', name: 'freeMode',\n\t\t\t\t\t\t\t\t\tonChange: function onChange() {\n\t\t\t\t\t\t\t\t\t\treturn _this3.setState({ freeMode: false });\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tchecked: !state.freeMode }),\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t'false'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'nav',\n\t\t\t\t\t{ className: 'ple-edit-setting__buttons' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{ type: 'button', onClick: function onClick() {\n\t\t\t\t\t\t\t\t\treturn _this3._reset();\n\t\t\t\t\t\t\t\t} },\n\t\t\t\t\t\t\t'Reset'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{ type: 'submit', className: 'ple-submit' },\n\t\t\t\t\t\t\t'Apply'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn EditLayoutSetting;\n}(_react2.default.Component), _class.displayName = 'EditLayoutSetting', _class.defaultProps = {\n\tsubmit: function submit(e) {},\n\tsetting: null,\n\tdefaultSetting: {\n\t\twidth: 100,\n\t\theight: 100,\n\t\tcolumn: 5,\n\t\touterMargin: 10,\n\t\tinnerMargin: 10,\n\t\tfreeMode: false,\n\t\tbgColor: 'rgba(255,255,255,1)'\n\t}\n}, _temp);\nexports.default = EditLayoutSetting;\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _jquery = __webpack_require__(4);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _actions = __webpack_require__(5);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _ToggleSideButton = __webpack_require__(34);\n\nvar _ToggleSideButton2 = _interopRequireDefault(_ToggleSideButton);\n\nvar _Navigation = __webpack_require__(35);\n\nvar _Navigation2 = _interopRequireDefault(_Navigation);\n\nvar _Items = __webpack_require__(36);\n\nvar _Items2 = _interopRequireDefault(_Items);\n\nvar _lib = __webpack_require__(1);\n\nvar lib = _interopRequireWildcard(_lib);\n\nvar _selectItems = __webpack_require__(38);\n\nvar _selectItems2 = _interopRequireDefault(_selectItems);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Side = (_temp = _class = function (_React$Component) {\n\t_inherits(Side, _React$Component);\n\n\tfunction Side(props) {\n\t\t_classCallCheck(this, Side);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Side.__proto__ || Object.getPrototypeOf(Side)).call(this, props));\n\n\t\t_this.dragTarget = null;\n\t\t_this.dragPosition = [];\n\t\t_this.$gridItems = null;\n\t\t_this.$dragItem = null;\n\t\t_this.uploading = false;\n\t\treturn _this;\n\t}\n\n\t/**\n  * get gridster item\n  * 포인트 위치에 있는 gridster블럭을 가져온다.\n  *\n  * @return {Object} gridster item\n  */\n\n\n\t_createClass(Side, [{\n\t\tkey: 'getGridsterItem',\n\t\tvalue: function getGridsterItem() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar props = this.props;\n\n\t\t\tvar target = null;\n\t\t\tthis.$gridItems = (0, _jquery2.default)(props.element).find('.ple-grid > div');\n\n\t\t\tthis.$gridItems.each(function (n, el) {\n\t\t\t\tvar $this = (0, _jquery2.default)(el);\n\t\t\t\tvar pos = $this.offset();\n\t\t\t\tif (pos.left < _this2.dragPosition[0] && pos.left + $this.width() > _this2.dragPosition[0] && pos.top < _this2.dragPosition[1] && pos.top + $this.height() > _this2.dragPosition[1]) {\n\t\t\t\t\ttarget = $this.data('key');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn target;\n\t\t}\n\n\t\t/**\n   * On select items\n   *\n   * @param {Number} key\n   */\n\n\t}, {\n\t\tkey: '_selectItem',\n\t\tvalue: function _selectItem(key) {\n\t\t\tvar props = this.props;\n\n\t\t\tvar selected = (0, _selectItems2.default)(props, key);\n\t\t\tprops.api.side.select(selected);\n\t\t}\n\n\t\t/**\n   * Remove items\n   */\n\n\t}, {\n\t\tkey: '_removeItems',\n\t\tvalue: function _removeItems() {\n\t\t\tvar props = this.props;\n\n\t\t\tvar keys = props.api.side.getKeys('selected');\n\n\t\t\tif (keys.length) {\n\t\t\t\tif (confirm('Do you really want to delete it?')) {\n\t\t\t\t\tprops.api.side.remove(keys);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!confirm('Delete all?')) return;\n\t\t\t\tkeys = props.api.side.getKeys('all');\n\t\t\t\tprops.api.side.remove(keys);\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * upload\n   *\n   * @param {FileList} files\n   */\n\n\t}, {\n\t\tkey: '_upload',\n\t\tvalue: function _upload(files) {\n\t\t\tvar props = this.props;\n\n\t\t\tprops.api.side.upload(files);\n\t\t}\n\n\t\t/**\n   * Attach images to grid\n   */\n\n\t}, {\n\t\tkey: '_attach',\n\t\tvalue: function _attach() {\n\t\t\ttry {\n\t\t\t\tvar keys = this.props.api.side.getKeys('selected');\n\t\t\t\tvar result = this.props.api.side.attachToGrid(keys);\n\t\t\t\tif (result) throw result;\n\t\t\t} catch (e) {\n\t\t\t\talert(e.message);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_dragStartItem',\n\t\tvalue: function _dragStartItem(evt) {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar props = this.props;\n\n\t\t\t// for firefox\n\n\t\t\tevt.dataTransfer.setData('text/plain', null);\n\n\t\t\tthis.$gridItems = (0, _jquery2.default)(props.element).find('.ple-grid > div');\n\t\t\tthis.$gridItems.on('dragover', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tif ((0, _jquery2.default)(e.currentTarget).hasClass('ple-grid__item-hover')) return;\n\t\t\t\t(0, _jquery2.default)(e.currentTarget).addClass('ple-grid__item-hover');\n\t\t\t}).on('dragleave', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t(0, _jquery2.default)(e.currentTarget).removeClass('ple-grid__item-hover');\n\t\t\t}).on('drop', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t(0, _jquery2.default)(e.currentTarget).removeClass('ple-grid__item-hover');\n\t\t\t\t_this3.dragTarget = (0, _jquery2.default)(e.currentTarget).data('key');\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_dragEndItem',\n\t\tvalue: function _dragEndItem(e) {\n\t\t\tvar props = this.props;\n\n\n\t\t\tthis.$gridItems.off();\n\t\t\tthis.$gridItems = null;\n\n\t\t\t// check drag target\n\t\t\tif (this.dragTarget === null) return;\n\n\t\t\t// play redux\n\t\t\tprops.dispatch(actions.body.attachImage(this.dragTarget, (0, _jquery2.default)(e.currentTarget).data('image')));\n\n\t\t\t// empty dragTarget\n\t\t\tthis.dragTarget = null;\n\t\t}\n\t}, {\n\t\tkey: '_touchStartItem',\n\t\tvalue: function _touchStartItem(e) {\n\t\t\tthis.$dragItem = (0, _jquery2.default)(e.currentTarget).clone().removeAttr('draggable').addClass('ple-side__placeholder').width((0, _jquery2.default)(e.currentTarget).width()).height((0, _jquery2.default)(e.currentTarget).height());\n\n\t\t\t(0, _jquery2.default)('body').append(this.$dragItem);\n\t\t}\n\t}, {\n\t\tkey: '_touchMoveItem',\n\t\tvalue: function _touchMoveItem(e) {\n\t\t\tif (!lib.util.checkSupportCss('touch-action', 'pan-y')) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\tvar touch = e.nativeEvent.touches[0];\n\t\t\tthis.dragPosition = [touch.pageX, touch.pageY];\n\t\t\tthis.$dragItem.css({\n\t\t\t\tleft: touch.pageX - this.$dragItem.width() * 0.5,\n\t\t\t\ttop: touch.pageY - this.$dragItem.height() * 0.5\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_touchEndItem',\n\t\tvalue: function _touchEndItem(e) {\n\t\t\tvar props = this.props;\n\n\n\t\t\tthis.$dragItem.remove();\n\t\t\tthis.$dragItem = null;\n\n\t\t\tif (this.dragPosition.length > 0) {\n\t\t\t\tthis.dragTarget = this.getGridsterItem();\n\n\t\t\t\t// check drag target\n\t\t\t\tif (this.dragTarget === null) return;\n\n\t\t\t\t// play redux\n\t\t\t\tprops.dispatch(actions.body.attachImage(this.dragTarget, (0, _jquery2.default)(e.currentTarget).data('image')));\n\t\t\t\tthis.dragPosition = [];\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this4 = this;\n\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'aside',\n\t\t\t\t{ className: 'ple-side' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: (0, _classnames2.default)('ple-side__wrap', { 'ple-side__wrap-show': props.tree.side.visible }) },\n\t\t\t\t\t_react2.default.createElement('span', {\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.api.side.toggleSelectAll(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclassName: 'ple-side__background' }),\n\t\t\t\t\t_react2.default.createElement(_ToggleSideButton2.default, {\n\t\t\t\t\t\tshow: props.tree.side.visible,\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.api.util.toggleSide(undefined);\n\t\t\t\t\t\t} }),\n\t\t\t\t\t_react2.default.createElement(_Navigation2.default, {\n\t\t\t\t\t\tonAttach: function onAttach() {\n\t\t\t\t\t\t\treturn _this4._attach();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonToggleSelect: function onToggleSelect() {\n\t\t\t\t\t\t\treturn props.api.side.toggleSelectAll();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonUpload: function onUpload(e) {\n\t\t\t\t\t\t\treturn _this4._upload(e);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonRemove: function onRemove() {\n\t\t\t\t\t\t\treturn _this4._removeItems();\n\t\t\t\t\t\t} }),\n\t\t\t\t\t_react2.default.createElement(_Items2.default, {\n\t\t\t\t\t\tfiles: props.tree.side.files,\n\t\t\t\t\t\tonSelect: function onSelect(e) {\n\t\t\t\t\t\t\treturn _this4._selectItem(e);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonDragStart: function onDragStart(e) {\n\t\t\t\t\t\t\treturn _this4._dragStartItem(e);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonDragEnd: function onDragEnd(e) {\n\t\t\t\t\t\t\treturn _this4._dragEndItem(e);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonTouchStart: function onTouchStart(e) {\n\t\t\t\t\t\t\treturn _this4._touchStartItem(e);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonTouchMove: function onTouchMove(e) {\n\t\t\t\t\t\t\treturn _this4._touchMoveItem(e);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonTouchEnd: function onTouchEnd(e) {\n\t\t\t\t\t\t\treturn _this4._touchEndItem(e);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprogress: props.tree.side.progressPercent })\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Side;\n}(_react2.default.Component), _class.displayName = 'Side', _class.defaultProps = {\n\ttree: {}, // data tree in reduce\n\tsetting: {}, // setting in reduce\n\tapi: {}, // api\n\tdispatch: null // redux dispatch\n}, _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state);\n})(Side);\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ToggleSideButton = (_temp = _class = function (_Component) {\n\t_inherits(ToggleSideButton, _Component);\n\n\tfunction ToggleSideButton() {\n\t\t_classCallCheck(this, ToggleSideButton);\n\n\t\treturn _possibleConstructorReturn(this, (ToggleSideButton.__proto__ || Object.getPrototypeOf(ToggleSideButton)).apply(this, arguments));\n\t}\n\n\t_createClass(ToggleSideButton, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'button',\n\t\t\t\t{ type: 'button', onClick: props.onClick, className: 'ple-side__toggle' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\tnull,\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'i',\n\t\t\t\t\t\t{ className: (0, _classnames2.default)('ple-sp-ico', 'ple-abs', {\n\t\t\t\t\t\t\t\t'ple-ico-arrow-right': props.show,\n\t\t\t\t\t\t\t\t'ple-ico-arrow-left': !props.show\n\t\t\t\t\t\t\t}) },\n\t\t\t\t\t\t'Toggle sidebar'\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn ToggleSideButton;\n}(_react.Component), _class.displayName = 'ToggleSideButton', _class.defaultProps = {\n\tshow: false,\n\tonClick: function onClick() {}\n}, _temp);\nexports.default = ToggleSideButton;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SideNavigation = (_temp = _class = function (_React$Component) {\n\t_inherits(SideNavigation, _React$Component);\n\n\tfunction SideNavigation(props) {\n\t\t_classCallCheck(this, SideNavigation);\n\n\t\tvar _this = _possibleConstructorReturn(this, (SideNavigation.__proto__ || Object.getPrototypeOf(SideNavigation)).call(this, props));\n\n\t\t_this.state = {\n\t\t\ttimestamp: Date.now()\n\t\t};\n\t\treturn _this;\n\t}\n\n\t/**\n  * Upload images\n  *\n  * @param {Event} e\n  */\n\n\n\t_createClass(SideNavigation, [{\n\t\tkey: 'upload',\n\t\tvalue: function upload(e) {\n\t\t\tthis.props.onUpload(e.target.files);\n\n\t\t\tthis.setState({\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar props = this.props,\n\t\t\t    state = this.state;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'nav',\n\t\t\t\t{ className: 'ple-sideNavigation ple-side__navigation' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-sideNavigation__wrap' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ type: 'button', title: 'attach images', onClick: props.onAttach },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-reply ple-abs' },\n\t\t\t\t\t\t\t'Moving the image to grid block'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ type: 'button', title: 'toggle select', onClick: props.onToggleSelect },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-select ple-abs' },\n\t\t\t\t\t\t\t'Toggle all select'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\t{ title: 'upload images', key: state.timestamp },\n\t\t\t\t\t\t_react2.default.createElement('input', { type: 'file', ref: 'inputFile', onChange: function onChange(e) {\n\t\t\t\t\t\t\t\treturn _this2.upload(e);\n\t\t\t\t\t\t\t}, multiple: true }),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-upload ple-abs' },\n\t\t\t\t\t\t\t'upload images'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ type: 'button', title: 'remove images', onClick: props.onRemove },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-trash ple-abs' },\n\t\t\t\t\t\t\t'remove images'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn SideNavigation;\n}(_react2.default.Component), _class.displayName = 'Navigation', _class.defaultProps = {\n\tonRemove: function onRemove() {},\n\tonToggleSelect: function onToggleSelect() {},\n\tonAttach: function onAttach() {},\n\tonUpload: function onUpload() {}\n}, _temp);\nexports.default = SideNavigation;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Item = __webpack_require__(37);\n\nvar _Item2 = _interopRequireDefault(_Item);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Items = (_temp = _class = function (_React$Component) {\n\t_inherits(Items, _React$Component);\n\n\tfunction Items() {\n\t\t_classCallCheck(this, Items);\n\n\t\treturn _possibleConstructorReturn(this, (Items.__proto__ || Object.getPrototypeOf(Items)).apply(this, arguments));\n\t}\n\n\t_createClass(Items, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'ple-sideItems' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-sideItems__wrap' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'ul',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tObject.keys(props.files).map(function (o) {\n\t\t\t\t\t\t\treturn _react2.default.createElement(_Item2.default, {\n\t\t\t\t\t\t\t\tkey: o,\n\t\t\t\t\t\t\t\tid: o,\n\t\t\t\t\t\t\t\timage: props.files[o].image,\n\t\t\t\t\t\t\t\tonDragStart: props.onDragStart,\n\t\t\t\t\t\t\t\tonDragEnd: props.onDragEnd,\n\t\t\t\t\t\t\t\tonTouchStart: props.onTouchStart,\n\t\t\t\t\t\t\t\tonTouchMove: props.onTouchMove,\n\t\t\t\t\t\t\t\tonTouchEnd: props.onTouchEnd,\n\t\t\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\t\t\treturn props.onSelect(parseInt(o));\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tactive: props.files[o].active });\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tprops.progress !== null && _react2.default.createElement(\n\t\t\t\t\t\t\t'li',\n\t\t\t\t\t\t\t{ className: 'ple-sideItems__loading' },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t{ className: 'ple-sideItems__progress' },\n\t\t\t\t\t\t\t\t_react2.default.createElement('span', {\n\t\t\t\t\t\t\t\t\tclassName: 'ple-sideItems__bar',\n\t\t\t\t\t\t\t\t\tstyle: { height: props.progress + '%' } }),\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\t{ className: 'ple-sideItems__percent' },\n\t\t\t\t\t\t\t\t\tprops.progress + '%'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Items;\n}(_react2.default.Component), _class.displayName = 'Items', _class.defaultProps = {\n\tfiles: [], // files\n\tonSelect: function onSelect(key) {}, // on select event\n\tonDragStart: null, // on drag start\n\tonDragEnd: null, // on drag end\n\tonTouchStart: null, // on touch start\n\tonTouchMove: null, // on touch move\n\tonTouchEnd: null, // on touch end\n\tprogress: null // on progress number\n}, _temp);\nexports.default = Items;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _lib = __webpack_require__(1);\n\nvar lib = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Item = (_temp = _class = function (_React$Component) {\n\t_inherits(Item, _React$Component);\n\n\tfunction Item() {\n\t\t_classCallCheck(this, Item);\n\n\t\treturn _possibleConstructorReturn(this, (Item.__proto__ || Object.getPrototypeOf(Item)).apply(this, arguments));\n\t}\n\n\t_createClass(Item, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\tvar attr = Object.assign({}, lib.util.isTouchDevice() ? {\n\t\t\t\tonTouchStart: props.onTouchStart,\n\t\t\t\tonTouchMove: props.onTouchMove,\n\t\t\t\tonTouchEnd: props.onTouchEnd\n\t\t\t} : {\n\t\t\t\tonDragStart: props.onDragStart,\n\t\t\t\tonDragEnd: props.onDragEnd\n\t\t\t});\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'li',\n\t\t\t\tnull,\n\t\t\t\t_react2.default.createElement('span', _extends({\n\t\t\t\t\ttype: 'button',\n\t\t\t\t\t'data-id': props.id,\n\t\t\t\t\t'data-image': props.image,\n\t\t\t\t\tdraggable: true,\n\t\t\t\t\tonClick: props.onClick\n\t\t\t\t}, attr, {\n\t\t\t\t\tstyle: { backgroundImage: 'url(\\'' + props.image + '\\')' },\n\t\t\t\t\tclassName: (0, _classnames2.default)({ 'ple-sideItems__item-active': props.active }) }))\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Item;\n}(_react2.default.Component), _class.displayName = 'Item', _class.defaultProps = {\n\timage: null, // image\n\tid: null, // id\n\tactive: null, // active item\n\tonClick: null, // on click item\n\tonDragStart: null, // on drag start\n\tonDragEnd: null, // on drag end\n\tonTouchStart: null, // on touch start\n\tonTouchMove: null, // on touch move\n\tonTouchEnd: null // on touch end\n}, _temp);\nexports.default = Item;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = selectItems;\nvar firstSelectIdx = null;\n\n/**\n * Change active\n *\n * @param {Number} key\n * @param {Object} item\n * @param {Number} start\n * @param {Number} end\n * @param {String} type press key name and select type\n * @return {Object}\n */\nfunction changeActive(key, item, start, end, type) {\n\tswitch (type) {\n\t\tcase 'add':\n\t\t\treturn {\n\t\t\t\tkey: key,\n\t\t\t\tactive: key === end ? !item.active : item.active\n\t\t\t};\n\t\tcase 'range':\n\t\t\tstart = start || 0;\n\t\t\tif (start < end) {\n\t\t\t\treturn {\n\t\t\t\t\tkey: key,\n\t\t\t\t\tactive: key >= start && key <= end\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\tkey: key,\n\t\t\t\t\tactive: key <= start && key >= end\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn item;\n\t}\n\n\t// not found type\n\tif (key === end) {\n\t\treturn { key: key, active: !item.active };\n\t} else {\n\t\treturn { key: key, active: false };\n\t}\n}\n\n/**\n * select items\n *\n * @param {Object} props\n * @param {Number} key\n * @return {Object}\n */\nfunction selectItems(props, key) {\n\tvar keyName = props.keyboard.keyName;\n\tvar files = props.tree.side.files;\n\n\tvar type = null;\n\tvar selected = false;\n\tvar items = {};\n\n\tif (keyName !== 'SHIFT') {\n\t\tvar currentItem = null;\n\t\tObject.keys(props.tree.side.files).forEach(function (k) {\n\t\t\tvar obj = props.tree.side.files[k];\n\t\t\tif (parseInt(k) === key) {\n\t\t\t\tcurrentItem = obj;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\tfirstSelectIdx = currentItem.active === true ? null : key;\n\t\tif (!firstSelectIdx && currentItem.active === true) {\n\t\t\tfirstSelectIdx = currentItem.key;\n\t\t}\n\t}\n\n\tswitch (keyName) {\n\t\tcase 'CTRL':\n\t\tcase 'CMD':\n\t\t\ttype = 'add';\n\t\t\tbreak;\n\t\tcase 'SHIFT':\n\t\t\ttype = 'range';\n\t}\n\n\tObject.keys(files).forEach(function (k) {\n\t\tvar obj = changeActive(parseInt(k), files[k], firstSelectIdx, key, type);\n\t\tif (obj.active) {\n\t\t\tselected = true;\n\t\t}\n\t\titems[k] = obj;\n\t});\n\n\tif (!selected) {\n\t\tfirstSelectIdx = null;\n\t}\n\n\treturn items;\n}\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _redux = __webpack_require__(8);\n\nvar _core = __webpack_require__(40);\n\nvar core = _interopRequireWildcard(_core);\n\nvar _body = __webpack_require__(42);\n\nvar body = _interopRequireWildcard(_body);\n\nvar _side = __webpack_require__(43);\n\nvar _side2 = _interopRequireDefault(_side);\n\nvar _cropper = __webpack_require__(44);\n\nvar cropper = _interopRequireWildcard(_cropper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.default = (0, _redux.combineReducers)({\n\n\t// settings\n\tsetting: core.setting,\n\n\t// api\n\tapi: core.api,\n\n\t// keyboard event\n\tkeyboard: core.keyboard,\n\n\t// element\n\telement: core.element,\n\n\t// data tree\n\ttree: (0, _redux.combineReducers)({\n\t\tside: _side2.default,\n\t\tbody: (0, _redux.combineReducers)({\n\t\t\tsetting: body.setting,\n\t\t\tgrid: body.grid,\n\t\t\tactiveBlock: body.activeBlock\n\t\t}),\n\t\tcropper: (0, _redux.combineReducers)({\n\t\t\tvisible: cropper.visible,\n\t\t\titem: cropper.item,\n\t\t\tkey: cropper.key\n\t\t})\n\t})\n\n});\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.setting = setting;\nexports.api = api;\nexports.keyboard = keyboard;\nexports.element = element;\n\nvar _types = __webpack_require__(3);\n\nvar types = _interopRequireWildcard(_types);\n\nvar _Keyboard = __webpack_require__(41);\n\nvar _Keyboard2 = _interopRequireDefault(_Keyboard);\n\nvar _defaults = __webpack_require__(7);\n\nvar defaults = _interopRequireWildcard(_defaults);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction setting() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tvar newState = Object.assign({}, state);\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\tnewState = Object.assign({}, {\n\t\t\t\tbase: _extends({}, defaults.setting.base, {\n\t\t\t\t\tuploadScript: action.preference.uploadScript || defaults.setting.base.uploadScript,\n\t\t\t\t\tuploadParamsConvertFunc: action.preference.uploadParamsConvertFunc || defaults.setting.base.uploadParamsConvertFunc,\n\t\t\t\t\tupdateStoreFunc: action.preference.updateStoreFunc || defaults.setting.base.updateStoreFunc\n\t\t\t\t}),\n\t\t\t\tside: _extends({}, defaults.setting.side, action.preference.side),\n\t\t\t\tbody: _extends({}, defaults.setting.body, action.preference.body)\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction api() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn action.api;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction keyboard() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn new _Keyboard2.default();\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction element() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn action.element;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(4);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _lib = __webpack_require__(1);\n\nvar libs = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Keyboard = function () {\n\tfunction Keyboard() {\n\t\tvar _this = this;\n\n\t\t_classCallCheck(this, Keyboard);\n\n\t\tthis.eventName = 'PLE_' + libs.number.getTimeStamp();\n\t\tthis.code = null;\n\t\tthis.keyName = null;\n\t\tthis.names = {\n\t\t\t17: 'CTRL',\n\t\t\t18: 'ALT',\n\t\t\t91: 'CMD',\n\t\t\t93: 'CMD',\n\t\t\t16: 'SHIFT'\n\t\t};\n\n\t\t// init key down event\n\t\t(0, _jquery2.default)(window).on('keydown.' + this.eventName, function (e) {\n\t\t\treturn _this._keyDown(e);\n\t\t});\n\t}\n\n\t/**\n  * apply\n  *\n  * @param {Number} code\n  */\n\n\n\t_createClass(Keyboard, [{\n\t\tkey: 'apply',\n\t\tvalue: function apply(code) {\n\t\t\tthis.code = code;\n\t\t\tthis.keyName = this.names[this.code] || null;\n\t\t}\n\n\t\t/**\n   * key down event\n   *\n   * @param {Event} e\n   */\n\n\t}, {\n\t\tkey: '_keyDown',\n\t\tvalue: function _keyDown(e) {\n\t\t\tvar _this2 = this;\n\n\t\t\t// apply keyCode\n\t\t\tthis.apply(e.keyCode);\n\n\t\t\t// set events\n\t\t\t(0, _jquery2.default)(window).on('keyup.' + this.eventName, function () {\n\t\t\t\treturn _this2._keyUp();\n\t\t\t}).on('contextmenu.' + this.eventName, function () {\n\t\t\t\treturn _this2._keyUp();\n\t\t\t}).on('blur.' + this.eventName, function () {\n\t\t\t\treturn _this2._keyUp();\n\t\t\t}).off('keydown.' + this.eventName);\n\t\t}\n\n\t\t/**\n   * key up event\n   *\n   */\n\n\t}, {\n\t\tkey: '_keyUp',\n\t\tvalue: function _keyUp() {\n\t\t\tvar _this3 = this;\n\n\t\t\t// apply keyCode\n\t\t\tthis.apply(null);\n\n\t\t\t// set events\n\t\t\t(0, _jquery2.default)(window).on('keydown.' + this.eventName, function (e) {\n\t\t\t\treturn _this3._keyDown(e);\n\t\t\t}).off('contextmenu.' + this.eventName + ' keyup.' + this.eventName + ' blur.' + this.eventName);\n\t\t}\n\n\t\t/**\n   * destroy event\n   *\n   */\n\n\t}, {\n\t\tkey: 'destroy',\n\t\tvalue: function destroy() {\n\t\t\t(0, _jquery2.default)(window).off('keydown.' + this.eventName + ' contextmenu.' + this.eventName + ' keyup.' + this.eventName + ' blur.' + this.eventName);\n\t\t}\n\t}]);\n\n\treturn Keyboard;\n}();\n\nexports.default = Keyboard;\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.setting = setting;\nexports.grid = grid;\nexports.activeBlock = activeBlock;\n\nvar _types = __webpack_require__(3);\n\nvar types = _interopRequireWildcard(_types);\n\nvar _lib = __webpack_require__(1);\n\nvar libs = _interopRequireWildcard(_lib);\n\nvar _defaults = __webpack_require__(7);\n\nvar defaults = _interopRequireWildcard(_defaults);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar lastGridId = 0;\nvar shuffleIndex = 0;\n\n/**\n * setting\n *\n * @param {Object} state\n * @param {*} action\n * @return {Object}\n */\nfunction setting() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaults.setting.body.setting;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\ttry {\n\t\t\t\treturn _extends({}, state, action.preference.body.setting);\n\t\t\t} catch (e) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\tcase types.GRID_SETTING_UPDATE:\n\t\t\treturn _extends({}, state, action.value);\n\t}\n\treturn state;\n}\n\n/**\n * grid\n *\n * @param {Object} state\n * @param {*} action\n * @return {Object}\n */\nfunction grid() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\tvar action = arguments[1];\n\n\tvar newState = Object.assign({}, state);\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\tvar _grid = {};\n\t\t\ttry {\n\t\t\t\tif (action.preference.body.grid instanceof Array) {\n\t\t\t\t\taction.preference.body.grid.forEach(function (o, k) {\n\t\t\t\t\t\t_grid[k] = o;\n\t\t\t\t\t});\n\t\t\t\t} else if (_typeof(action.preference.body.grid) === 'object') {\n\t\t\t\t\t_grid = action.preference.body.grid;\n\t\t\t\t} else {\n\t\t\t\t\tthrow 'error';\n\t\t\t\t}\n\t\t\t\tObject.keys(_grid).forEach(function (o) {\n\t\t\t\t\tnewState[lastGridId++] = _extends({\n\t\t\t\t\t\tcolor: defaults.setting.body.blockColor\n\t\t\t\t\t}, _grid[o], {\n\t\t\t\t\t\tindexPrefix: shuffleIndex\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tnewState = {};\n\t\t\t}\n\t\t\treturn newState;\n\n\t\tcase types.GRID_ADD_BLOCK:\n\t\t\tnewState[lastGridId++] = _extends({\n\t\t\t\tcolor: defaults.setting.body.blockColor,\n\t\t\t\tlayout: { x: Infinity, y: Infinity, w: 1, h: 1 }\n\t\t\t}, action.value, {\n\t\t\t\tindexPrefix: shuffleIndex\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\tif (!action.keys || !action.keys.length) return state;\n\t\t\taction.keys.forEach(function (o) {\n\t\t\t\tdelete newState[o];\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_SHUFFLE_BLOCKS:\n\t\t\treturn Object.keys(newState).map(function (k) {\n\t\t\t\treturn _extends({}, newState[k], {\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\tx: libs.number.randomRange(0, action.value.x - 1),\n\t\t\t\t\t\ty: libs.number.randomRange(0, action.value.y - 1),\n\t\t\t\t\t\tw: libs.number.randomRange(1, action.value.w),\n\t\t\t\t\t\th: libs.number.randomRange(1, action.value.h)\n\t\t\t\t\t},\n\t\t\t\t\tindexPrefix: shuffleIndex++\n\t\t\t\t});\n\t\t\t});\n\n\t\tcase types.GRID_DUPLICATE_BLOCK:\n\t\t\taction.keys.forEach(function (k) {\n\t\t\t\tif (!newState[k]) return;\n\t\t\t\tnewState[lastGridId++] = Object.assign({}, newState[k]);\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_CHANGE_COLOR:\n\t\t\taction.keys.forEach(function (k) {\n\t\t\t\tif (!newState[k]) return;\n\t\t\t\tnewState[k].color = action.color;\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_ATTACH_IMAGES:\n\t\t\tif (!libs.object.isArray(action.value)) return state;\n\n\t\t\tif (action.activeBlocks && action.activeBlocks.length) {\n\t\t\t\tObject.keys(newState).forEach(function (k) {\n\t\t\t\t\tif (!action.value.length) return;\n\t\t\t\t\tif (action.activeBlocks.indexOf(k) === -1) return;\n\t\t\t\t\tnewState[k].image = {\n\t\t\t\t\t\tsrc: action.value.splice(0, 1)[0],\n\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\tsize: 'cover'\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tObject.keys(newState).forEach(function (k) {\n\t\t\t\t\tif (newState[k].image) return;\n\t\t\t\t\tif (!action.value || !action.value.length) return;\n\t\t\t\t\tnewState[k].image = {\n\t\t\t\t\t\tsrc: action.value.splice(0, 1)[0],\n\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\tsize: 'cover'\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tif (action.value.length) {\n\t\t\t\t\taction.value.forEach(function (o, k) {\n\t\t\t\t\t\tnewState[lastGridId++] = {\n\t\t\t\t\t\t\tcolor: defaults.setting.body.blockColor,\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\tx: (Object.keys(state).length + k) % action.columns,\n\t\t\t\t\t\t\t\ty: Infinity,\n\t\t\t\t\t\t\t\tw: 1,\n\t\t\t\t\t\t\t\th: 1\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\timage: {\n\t\t\t\t\t\t\t\tsrc: o,\n\t\t\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\t\t\tsize: 'cover'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tindexPrefix: shuffleIndex\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn newState;\n\n\t\tcase types.GRID_ATTACH_IMAGE:\n\t\t\tif (!(action.image && typeof action.image === 'string')) return state;\n\t\t\tif (!newState[action.keys]) return state;\n\n\t\t\tnewState[action.keys].image = {\n\t\t\t\tsrc: action.image,\n\t\t\t\tposition: '50% 50%',\n\t\t\t\tsize: 'cover'\n\t\t\t};\n\t\t\treturn newState;\n\n\t\tcase types.GRID_UPDATE_BLOCKS:\n\t\t\treturn Object.assign({}, state, action.value);\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\tif (!newState[action.key]) return state;\n\t\t\tif (action.position) {\n\t\t\t\tnewState[action.key].image.position = action.position;\n\t\t\t}\n\t\t\tif (action.size) {\n\t\t\t\tnewState[action.key].image.size = action.size;\n\t\t\t}\n\t\t\treturn newState;\n\t}\n\n\treturn state;\n}\n\n/**\n * active block\n *\n * @param {Array} state\n * @param {*} action\n * @return {Array}\n */\nfunction activeBlock() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\tvar action = arguments[1];\n\n\tvar newState = Object.assign([], state);\n\n\tswitch (action.type) {\n\t\tcase types.GRID_ACTIVE_BLOCK:\n\t\t\treturn action.value;\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\tif (action.keys && action.keys.length) {\n\t\t\t\taction.keys.forEach(function (o) {\n\t\t\t\t\tif (newState.indexOf(o) < 0) return;\n\t\t\t\t\tnewState.splice(newState.indexOf(o), 1);\n\t\t\t\t});\n\t\t\t\treturn newState;\n\t\t\t}\n\t\t\treturn [];\n\t}\n\n\treturn state;\n}\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = base;\n\nvar _types = __webpack_require__(3);\n\nvar types = _interopRequireWildcard(_types);\n\nvar _defaults = __webpack_require__(7);\n\nvar defaults = _interopRequireWildcard(_defaults);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar nextFileId = 0;\n\n/**\n * Reducers\n */\n\n// base\nfunction base() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaults.side;\n\tvar action = arguments[1];\n\n\tvar newState = Object.assign({}, state);\n\tvar files = {};\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\ttry {\n\t\t\t\taction.preference.side.files.forEach(function (o) {\n\t\t\t\t\tfiles[nextFileId++] = { image: o, active: false };\n\t\t\t\t});\n\t\t\t\treturn _extends({}, state, action.preference.side, {\n\t\t\t\t\tfiles: _extends({}, state.files, files)\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\tcase types.SIDE_VISIBLE:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tvisible: action.value\n\t\t\t});\n\n\t\tcase types.SIDE_TOGGLE:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tvisible: !state.visible\n\t\t\t});\n\n\t\tcase types.SIDE_ADD_FILES:\n\t\t\taction.files.forEach(function (o) {\n\t\t\t\tfiles[nextFileId++] = { image: o, active: false };\n\t\t\t});\n\t\t\treturn _extends({}, newState, {\n\t\t\t\tfiles: _extends({}, newState.files, files)\n\t\t\t});\n\n\t\tcase types.SIDE_REMOVE_FILES:\n\t\t\tif (!action.keys.length) return state;\n\t\t\taction.keys.forEach(function (o) {\n\t\t\t\tdelete newState.files[o];\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.SIDE_UPDATE_SELECTED:\n\t\t\tif (!(action.value && Object.keys(action.value).length)) return state;\n\t\t\tObject.keys(action.value).forEach(function (k) {\n\t\t\t\tif (!newState.files[k]) return;\n\t\t\t\tnewState.files[k].active = action.value[k].active;\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.SIDE_UPDATE_PROGRESS:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tprogressPercent: action.value\n\t\t\t});\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.visible = visible;\nexports.item = item;\nexports.key = key;\n\nvar _types = __webpack_require__(3);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction visible() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn true;\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\treturn false;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction item() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn action.item;\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\treturn null;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction key() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn action.key;\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\treturn null;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = API;\n\nvar _Side = __webpack_require__(46);\n\nvar _Side2 = _interopRequireDefault(_Side);\n\nvar _Grid = __webpack_require__(47);\n\nvar _Grid2 = _interopRequireDefault(_Grid);\n\nvar _Cropper = __webpack_require__(48);\n\nvar _Cropper2 = _interopRequireDefault(_Cropper);\n\nvar _Util = __webpack_require__(49);\n\nvar _Util2 = _interopRequireDefault(_Util);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction API(store) {\n\n\tthis.side = new _Side2.default(store);\n\tthis.grid = new _Grid2.default(store);\n\tthis.cropper = new _Cropper2.default(store);\n\tthis.util = new _Util2.default(store);\n}\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _actions = __webpack_require__(5);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(1);\n\nvar lib = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Side = function () {\n\tfunction Side(store) {\n\t\t_classCallCheck(this, Side);\n\n\t\tthis.store = store;\n\t\tthis.uploading = false;\n\t}\n\n\t/**\n  * get id in item\n  *\n  * @param {String} mode\n  * @param {Array} keys\n  * @return {Array}\n  */\n\n\n\t_createClass(Side, [{\n\t\tkey: 'getKeys',\n\t\tvalue: function getKeys() {\n\t\t\tvar mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\t\tvar keys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar files = state.tree.side.files;\n\n\t\t\tvar result = [];\n\n\t\t\tswitch (mode) {\n\t\t\t\tcase 'selected':\n\t\t\t\t\tObject.keys(files).forEach(function (o) {\n\t\t\t\t\t\tif (files[o].active) {\n\t\t\t\t\t\t\tresult.push(parseInt(o));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'value':\n\t\t\t\t\tkeys.forEach(function (o) {\n\t\t\t\t\t\tif (files[o]) {\n\t\t\t\t\t\t\tresult.push(parseInt(o));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'all':\n\t\t\t\tdefault:\n\t\t\t\t\tresult = Object.keys(files).map(function (o) {\n\t\t\t\t\t\treturn parseInt(o);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n   * get items\n   *\n   * @param {Array} keys\n   * @return {Object}\n   */\n\n\t}, {\n\t\tkey: 'getItems',\n\t\tvalue: function getItems() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar side = state.tree.side;\n\n\t\t\tkeys = this.getKeys('value', keys);\n\t\t\tvar result = {};\n\t\t\tkeys.forEach(function (o) {\n\t\t\t\tif (side.files[o]) {\n\t\t\t\t\tresult[o] = side.files[o];\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n   * get images\n   *\n   * @param {Array} keys\n   * @return {Array}\n   */\n\n\t}, {\n\t\tkey: 'getImages',\n\t\tvalue: function getImages() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tvar items = this.getItems(keys);\n\t\t\treturn Object.keys(items).map(function (o) {\n\t\t\t\treturn items[o].image;\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * Add files\n   *\n   * @param {Array} files\n   * @return {Error}\n   */\n\n\t}, {\n\t\tkey: 'add',\n\t\tvalue: function add(files) {\n\t\t\ttry {\n\t\t\t\tif (!(files instanceof Array)) {\n\t\t\t\t\tthrow new Error('not found files');\n\t\t\t\t}\n\t\t\t\tthis.store.dispatch(actions.side.addFiles(files));\n\t\t\t} catch (e) {\n\t\t\t\treturn e;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'selection',\n\n\n\t\t/**\n   * selection items\n   *\n   * @param {Array} keys\n   * @param {Boolean} active\n   * @return {Error}\n   */\n\t\tvalue: function selection() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\t\t\tvar active = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n\t\t\ttry {\n\t\t\t\tvar selected = {};\n\t\t\t\tvar getKeys = this.getKeys('value', keys);\n\t\t\t\tif (getKeys.length <= 0) {\n\t\t\t\t\tthrow new Error('not found select item');\n\t\t\t\t}\n\t\t\t\tgetKeys.forEach(function (o) {\n\t\t\t\t\tselected[o] = { key: o, active: active };\n\t\t\t\t});\n\t\t\t\tthis.store.dispatch(actions.side.updateSelected(selected));\n\t\t\t} catch (e) {\n\t\t\t\treturn e;\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * select items\n   *\n   * @param {Object} value\n   */\n\n\t}, {\n\t\tkey: 'select',\n\t\tvalue: function select() {\n\t\t\tvar value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\tthis.store.dispatch(actions.side.updateSelected(value));\n\t\t}\n\n\t\t/**\n   * toggle select all\n   *\n   * @param {Boolean} active\n   */\n\n\t}, {\n\t\tkey: 'toggleSelectAll',\n\t\tvalue: function toggleSelectAll() {\n\t\t\tvar active = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n\t\t\tif (typeof active === 'boolean') {\n\t\t\t\tvar selected = this.getKeys('all');\n\t\t\t\tthis.selection(selected, active);\n\t\t\t} else {\n\t\t\t\tvar activeCount = this.getKeys('selected').length;\n\t\t\t\tvar keys = this.getKeys('all');\n\t\t\t\tthis.selection(keys, !(activeCount > 0));\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * remove items\n   *\n   * @param {Array} keys\n   * @return {Error}\n   */\n\n\t}, {\n\t\tkey: 'remove',\n\t\tvalue: function remove() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\ttry {\n\t\t\t\tif (!keys.length) {\n\t\t\t\t\tthrow new Error('Not found items.');\n\t\t\t\t}\n\t\t\t\tthis.store.dispatch(actions.side.removeFiles(keys));\n\t\t\t} catch (e) {\n\t\t\t\treturn e;\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Clear items\n   */\n\n\t}, {\n\t\tkey: 'clear',\n\t\tvalue: function clear() {\n\t\t\tvar keys = this.getKeys('all');\n\t\t\tthis.store.dispatch(actions.side.removeFiles(keys));\n\t\t}\n\n\t\t/**\n   * Upload files\n   *\n   * @param {FileList} files\n   * @param {Object} callbacks\n   */\n\n\t}, {\n\t\tkey: 'upload',\n\t\tvalue: function upload(files) {\n\t\t\tvar _this = this;\n\n\t\t\tvar callbacks = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t\t/**\n    * @param {Function} callbacks.start\n    * @param {Function} callbacks.progress\n    * @param {Function} callbacks.complete\n    * @param {Function} callbacks.completeAll\n    * @param {Function} callbacks.fail\n    */\n\t\t\tif (this.uploading) return;\n\n\t\t\tvar state = this.store.getState();\n\t\t\tthis.uploading = true;\n\n\t\t\tif (callbacks.start) callbacks.start();\n\n\t\t\tlib.uploader(files, state.setting.base.uploadScript).progress(function (type, res) {\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'start':\n\t\t\t\t\t\t_this.store.dispatch(actions.side.updateProgress(0));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'progress':\n\t\t\t\t\t\tvar percent = parseInt(res.loaded / res.total * 100);\n\t\t\t\t\t\t_this.store.dispatch(actions.side.updateProgress(percent));\n\t\t\t\t\t\tif (callbacks.progress) callbacks.progress(res.loaded, res.total, percent);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'done':\n\t\t\t\t\t\t_this.store.dispatch(actions.side.updateProgress(null));\n\t\t\t\t\t\tif (!res.data) return;\n\t\t\t\t\t\tif (state.setting.base.uploadParamsConvertFunc) {\n\t\t\t\t\t\t\tvar result = state.setting.base.uploadParamsConvertFunc(res.data);\n\t\t\t\t\t\t\t_this.store.dispatch(actions.side.addFiles([result]));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this.store.dispatch(actions.side.addFiles([res.data.url]));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (callbacks.complete) callbacks.complete(res.data);\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}).done(function () {\n\t\t\t\t_this.uploading = false;\n\t\t\t\tif (callbacks.completeAll) callbacks.completeAll();\n\t\t\t}).fail(function (error) {\n\t\t\t\t_this.uploading = false;\n\t\t\t\tif (callbacks.fail) callbacks.fail(error);\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * attach items to grid\n   *\n   * @param {Array} keys\n   * @return {Error}\n   */\n\n\t}, {\n\t\tkey: 'attachToGrid',\n\t\tvalue: function attachToGrid() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar body = state.tree.body;\n\n\t\t\ttry {\n\t\t\t\tvar selectedImages = this.getImages(keys);\n\t\t\t\tif (!selectedImages.length) {\n\t\t\t\t\tthrow new Error('not found item.');\n\t\t\t\t}\n\t\t\t\tthis.store.dispatch(actions.body.attachImages(selectedImages, body.setting.column, body.activeBlock));\n\t\t\t} catch (e) {\n\t\t\t\treturn e;\n\t\t\t}\n\t\t}\n\t}]);\n\n\treturn Side;\n}();\n\nexports.default = Side;\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _actions = __webpack_require__(5);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(1);\n\nvar lib = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Grid = function () {\n\tfunction Grid(store) {\n\t\t_classCallCheck(this, Grid);\n\n\t\tthis.store = store;\n\t}\n\n\t/**\n  * get keys in block\n  *\n  * @param {String} mode\n  * @param {Array} keys\n  * @return {Array}\n  */\n\n\n\t_createClass(Grid, [{\n\t\tkey: 'getKeys',\n\t\tvalue: function getKeys() {\n\t\t\tvar mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\t\tvar keys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar body = state.tree.body;\n\n\t\t\tvar result = [];\n\n\t\t\tswitch (mode) {\n\t\t\t\tcase 'selected':\n\t\t\t\t\treturn body.activeBlock;\n\t\t\t\tcase 'value':\n\t\t\t\t\tresult = [];\n\t\t\t\t\tkeys.forEach(function (k) {\n\t\t\t\t\t\tif (body.grid[k]) {\n\t\t\t\t\t\t\tresult.push(k);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn result;\n\t\t\t\tcase 'all':\n\t\t\t\tdefault:\n\t\t\t\t\treturn Object.keys(body.grid).map(function (k) {\n\t\t\t\t\t\treturn k;\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * get blocks\n   *\n   * @param {String} mode\n   * @param {Array} keys\n   * @return {Object}\n   */\n\n\t}, {\n\t\tkey: 'getBlocks',\n\t\tvalue: function getBlocks() {\n\t\t\tvar mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\t\tvar keys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar body = state.tree.body;\n\n\t\t\tvar selected = [];\n\t\t\tvar result = {};\n\n\t\t\tswitch (mode) {\n\t\t\t\tcase 'selected':\n\t\t\t\t\tselected = this.getKeys('selected');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'value':\n\t\t\t\t\tselected = this.getKeys('value', keys);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'all':\n\t\t\t\tdefault:\n\t\t\t\t\treturn body.grid;\n\t\t\t}\n\n\t\t\tselected.forEach(function (k) {\n\t\t\t\tif (!body.grid[k]) return;\n\t\t\t\tresult[k] = body.grid[k];\n\t\t\t});\n\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n   * shuffle items\n   *\n   * @param {Object} options\n   */\n\n\t}, {\n\t\tkey: 'shuffle',\n\t\tvalue: function shuffle() {\n\t\t\tvar options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar body = state.tree.body;\n\n\t\t\tvar defaultOptions = { x: body.setting.column, y: 2, w: 2, h: 2 };\n\n\t\t\t// assign options\n\t\t\toptions = Object.assign({}, defaultOptions, options);\n\n\t\t\tthis.store.dispatch(actions.body.shuffleBlocks(options));\n\t\t}\n\n\t\t/**\n   * assign image\n   *\n   * @param {Array} images\n   */\n\n\t}, {\n\t\tkey: 'assignImages',\n\t\tvalue: function assignImages() {\n\t\t\tvar images = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar body = state.tree.body;\n\n\n\t\t\tthis.store.dispatch(actions.body.attachImages(images, body.setting.column, body.activeBlock));\n\t\t}\n\n\t\t/**\n   * assign image\n   *\n   * @param {Number} key\n   * @param {String} image\n   */\n\n\t}, {\n\t\tkey: 'assignImage',\n\t\tvalue: function assignImage() {\n\t\t\tvar key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\t\tvar image = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n\t\t\tif (!(key !== null && image !== null)) return;\n\t\t\tthis.store.dispatch(actions.body.attachImage(key, image));\n\t\t}\n\n\t\t/**\n   * remove images\n   *\n   * @param {Array} keys\n   */\n\n\t}, {\n\t\tkey: 'removeImages',\n\t\tvalue: function removeImages() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar newGrid = Object.assign({}, state.tree.body.grid);\n\t\t\tkeys.forEach(function (k) {\n\t\t\t\tnewGrid[k].image = null;\n\t\t\t});\n\t\t\tthis.update(newGrid);\n\t\t}\n\n\t\t/**\n   * add blocks\n   *\n   * @param {Array} blocks\n   */\n\n\t}, {\n\t\tkey: 'add',\n\t\tvalue: function add() {\n\t\t\tvar blocks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\t\tvar _store = this.store,\n\t\t\t    getState = _store.getState,\n\t\t\t    dispatch = _store.dispatch;\n\n\t\t\tvar state = getState();\n\t\t\tvar body = state.tree.body;\n\n\t\t\tvar defaultOptions = {\n\t\t\t\tlayout: {\n\t\t\t\t\tx: Object.keys(body.grid).length % body.setting.column,\n\t\t\t\t\ty: Infinity,\n\t\t\t\t\tw: 1,\n\t\t\t\t\th: 1\n\t\t\t\t},\n\t\t\t\tcolor: null,\n\t\t\t\timage: null\n\t\t\t};\n\n\t\t\t/**\n    * add block\n    *\n    * @param {Object} options\n    */\n\t\t\tfunction block() {\n\t\t\t\tvar options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\t\t// assign option\n\t\t\t\toptions = Object.assign({}, defaultOptions, options);\n\t\t\t\toptions.layout = Object.assign({}, defaultOptions.layout, options.layout);\n\t\t\t\toptions.image = options.image ? _extends({\n\t\t\t\t\tsrc: null,\n\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\tsize: 'cover'\n\t\t\t\t}, options.image) : null;\n\n\t\t\t\tdispatch(actions.body.addBlock(options));\n\t\t\t}\n\n\t\t\t// checking blocks\n\t\t\tblocks = blocks && blocks.length ? blocks : [null];\n\n\t\t\t// play add blocks\n\t\t\tblocks.forEach(function (o) {\n\t\t\t\treturn block(o);\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * update blocks\n   *\n   * @param {Object} blocks\n   */\n\n\t}, {\n\t\tkey: 'update',\n\t\tvalue: function update() {\n\t\t\tvar blocks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\tthis.store.dispatch(actions.body.updateBlocks(blocks));\n\t\t}\n\n\t\t/**\n   * remove blocks\n   *\n   * @param {Array} keys\n   */\n\n\t}, {\n\t\tkey: 'remove',\n\t\tvalue: function remove() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tthis.store.dispatch(actions.body.removeBlock(keys));\n\t\t}\n\n\t\t/**\n   * select blocks\n   *\n   * @param {Array} keys\n   */\n\n\t}, {\n\t\tkey: 'select',\n\t\tvalue: function select() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tkeys = keys.map(function (k) {\n\t\t\t\treturn k.toString();\n\t\t\t});\n\t\t\tthis.store.dispatch(actions.body.activeBlock(keys));\n\t\t}\n\n\t\t/**\n   * un select blocks\n   *\n   * @param {Array} keys\n   */\n\n\t}, {\n\t\tkey: 'unselect',\n\t\tvalue: function unselect() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar newActiveBlock = Object.assign([], state.tree.body.activeBlock);\n\n\t\t\tkeys.forEach(function (k) {\n\t\t\t\tk = k.toString();\n\t\t\t\tif (newActiveBlock.indexOf(k) !== -1) {\n\t\t\t\t\tnewActiveBlock.splice(newActiveBlock.indexOf(k), 1);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.store.dispatch(actions.body.activeBlock(newActiveBlock));\n\t\t}\n\n\t\t/**\n   * toggle select all blocks\n   *\n   * @param {Boolean} isSelect\n   */\n\n\t}, {\n\t\tkey: 'toggleSelectAll',\n\t\tvalue: function toggleSelectAll() {\n\t\t\tvar isSelect = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n\t\t\tvar state = this.store.getState();\n\n\t\t\tif (typeof isSelect !== 'boolean') {\n\t\t\t\tisSelect = !state.tree.body.activeBlock.length;\n\t\t\t}\n\t\t\tif (isSelect) {\n\t\t\t\tthis.select(this.getKeys('all'));\n\t\t\t} else {\n\t\t\t\tthis.select([]);\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * duplicate blocks\n   *\n   * @param {Array} keys\n   */\n\n\t}, {\n\t\tkey: 'duplicate',\n\t\tvalue: function duplicate() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tthis.store.dispatch(actions.body.duplicateBlock(keys));\n\t\t}\n\n\t\t/**\n   * get preference\n   *\n   * @return {Object}\n   */\n\n\t}, {\n\t\tkey: 'getPreference',\n\t\tvalue: function getPreference() {\n\t\t\tvar state = this.store.getState();\n\t\t\treturn state.tree.body.setting;\n\t\t}\n\n\t\t/**\n   * set preference\n   *\n   * @param {Object} value\n   */\n\n\t}, {\n\t\tkey: 'setPreference',\n\t\tvalue: function setPreference() {\n\t\t\tvar value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\tvar newPreference = Object.assign({}, this.getPreference(), value);\n\t\t\tthis.store.dispatch(actions.body.updateSetting(newPreference));\n\t\t}\n\t}]);\n\n\treturn Grid;\n}();\n\nexports.default = Grid;\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _actions = __webpack_require__(5);\n\nvar actions = _interopRequireWildcard(_actions);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Cropper = function () {\n\tfunction Cropper(store) {\n\t\t_classCallCheck(this, Cropper);\n\n\t\tthis.store = store;\n\t}\n\n\t/**\n  * open cropper\n  *\n  * @param {Number} key\n  */\n\n\n\t_createClass(Cropper, [{\n\t\tkey: 'open',\n\t\tvalue: function open(key) {\n\t\t\tvar state = this.store.getState();\n\t\t\tvar item = null;\n\n\t\t\ttry {\n\t\t\t\titem = state.tree.body.grid[key];\n\t\t\t\tif (!item.image) throw 'Not found image in item';\n\t\t\t} catch (e) {\n\t\t\t\talert(e);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.store.dispatch(actions.cropper.open(key, item));\n\t\t}\n\t}, {\n\t\tkey: 'close',\n\n\n\t\t/**\n   * close cropper\n   *\n   * @param {Number} key\n   * @param {String} position\n   * @param {String} size\n   */\n\t\tvalue: function close(key, position, size) {\n\t\t\tthis.store.dispatch(actions.cropper.close(key, position, size));\n\t\t}\n\t}]);\n\n\treturn Cropper;\n}();\n\nexports.default = Cropper;\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(4);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _actions = __webpack_require__(5);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(1);\n\nvar lib = _interopRequireWildcard(_lib);\n\nvar _object = __webpack_require__(9);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Util = function () {\n\tfunction Util(store) {\n\t\t_classCallCheck(this, Util);\n\n\t\tthis.store = store;\n\t}\n\n\t/**\n  * Toggle side\n  *\n  * @param {Boolean|undefined} sw\n  */\n\n\n\t_createClass(Util, [{\n\t\tkey: 'toggleSide',\n\t\tvalue: function toggleSide() {\n\t\t\tvar sw = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\t\ttry {\n\t\t\t\tvar currentSw = this.store.getState().tree.side.visible;\n\t\t\t\tvar targetSw = typeof sw === 'undefined' ? !currentSw : sw;\n\n\t\t\t\tthis.store.dispatch(actions.side.visible(targetSw));\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn('Error action', e);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'export',\n\n\n\t\t/**\n   * export\n   *\n   * @param {String} type\n   * @return {Array|Object}\n   */\n\t\tvalue: function _export() {\n\t\t\tvar type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n\t\t\tif (!type) return null;\n\n\t\t\tvar state = this.store.getState();\n\n\t\t\tfunction side() {\n\t\t\t\tvar keys = state.api.side.getKeys('all');\n\t\t\t\treturn state.api.side.getImages(keys);\n\t\t\t}\n\t\t\tfunction grid() {\n\t\t\t\tvar result = state.api.grid.getBlocks('all');\n\t\t\t\treturn Object.keys(result).sort().map(function (o) {\n\t\t\t\t\tdelete result[o].indexPrefix;\n\t\t\t\t\treturn result[o];\n\t\t\t\t});\n\t\t\t}\n\t\t\tfunction preference() {\n\t\t\t\treturn state.api.grid.getPreference();\n\t\t\t}\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'side':\n\t\t\t\t\treturn side();\n\t\t\t\tcase 'grid':\n\t\t\t\t\treturn grid();\n\t\t\t\tcase 'preference':\n\t\t\t\t\treturn state.api.grid.getPreference();\n\t\t\t\tcase 'all':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tside: side(),\n\t\t\t\t\t\tgrid: grid(),\n\t\t\t\t\t\tpreference: preference()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\n\t\t/**\n   * import\n   *\n   * @param {String} type\n   * @param {Array|Object} value\n   * @param {Boolean} replace\n   */\n\n\t}, {\n\t\tkey: 'import',\n\t\tvalue: function _import() {\n\t\t\tvar value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\t\tvar replace = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n\t\t\tif (!value) return;\n\n\t\t\tvar state = this.store.getState();\n\n\t\t\tfunction side() {\n\t\t\t\tvar value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n\t\t\t\tif (replace) state.api.side.clear();\n\t\t\t\tstate.api.side.add(value);\n\t\t\t}\n\t\t\tfunction grid() {\n\t\t\t\tvar value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n\t\t\t\tif (replace) {\n\t\t\t\t\tvar keys = state.api.grid.getKeys('all');\n\t\t\t\t\tstate.api.grid.remove(keys);\n\t\t\t\t}\n\t\t\t\tstate.api.grid.add(value);\n\t\t\t}\n\n\t\t\tif (value.side && (0, _object.isArray)(value.side)) side(value.side);\n\t\t\tif (value.grid && (0, _object.isArray)(value.grid)) grid(value.grid);\n\t\t\tif (value.preference && _typeof(value.preference) === 'object') state.api.grid.setPreference(value.preference);\n\t\t}\n\n\t\t/**\n   * make image\n   *\n   * @param {String} format (jpg|png)\n   * @param {Number} quality\n   * @param {Number} sampling\n   * @param {String} output\n   * @return {Promise}\n   */\n\n\t}, {\n\t\tkey: 'makeImage',\n\t\tvalue: function makeImage() {\n\t\t\tvar format = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'jpg';\n\t\t\tvar quality = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : .75;\n\t\t\tvar sampling = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 2;\n\t\t\tvar output = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n\t\t\tvar defer = _jquery2.default.Deferred();\n\t\t\tvar state = this.store.getState();\n\t\t\tvar _state$tree$body = state.tree.body,\n\t\t\t    setting = _state$tree$body.setting,\n\t\t\t    grid = _state$tree$body.grid;\n\n\n\t\t\tlib.makingImage(state.element.querySelector('.ple-grid'), { setting: setting, grid: grid }, { format: format, quality: quality, sampling: sampling, output: output }).done(function (image) {\n\t\t\t\tdefer.resolve(image);\n\t\t\t}).progress(function (total, current, image) {\n\t\t\t\tdefer.notify(total, current, image);\n\t\t\t}).fail(function (error) {\n\t\t\t\tdefer.reject(error);\n\t\t\t});\n\n\t\t\treturn defer.promise();\n\t\t}\n\t}]);\n\n\treturn Util;\n}();\n\nexports.default = Util;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// PhotoLayoutEditor.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9916a0b2657dc6fe1376","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}\n// module id = 0\n// module chunks = 0","import * as util from './util';\nimport * as number from './number';\nimport * as object from './object';\nimport * as color from './color';\nimport uploader from './uploader';\nimport makingImage from './makingImage';\nimport Canvas from './Canvas';\nimport resamplingImage from './resamplingImage';\n\n\nexport {\n\tutil,\n\tnumber,\n\tcolor,\n\tobject,\n\tuploader,\n\tmakingImage,\n\tCanvas,\n\tresamplingImage\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"classnames\",\"commonjs2\":\"classnames\",\"amd\":\"classnames\",\"root\":\"classNames\"}\n// module id = 2\n// module chunks = 0","export const INIT_PLE = 'INIT_PLE';\n\nexport const SIDE_VISIBLE = 'SIDE_VISIBLE';\nexport const SIDE_ADD_FILES = 'SIDE_ADD_FILES';\nexport const SIDE_REMOVE_FILES = 'SIDE_REMOVE_FILES';\nexport const SIDE_UPDATE_SELECTED = 'SIDE_UPDATE_SELECTED';\nexport const SIDE_TOGGLE = 'SIDE_TOGGLE';\nexport const SIDE_UPDATE_PROGRESS = 'SIDE_UPDATE_PROGRESS';\n\nexport const GRID_ATTACH_IMAGES = 'GRID_ATTACH_IMAGES';\nexport const GRID_ATTACH_IMAGE = 'GRID_ATTACH_IMAGE';\n\nexport const GRID_ADD_BLOCK = 'GRID_ADD_BLOCK';\nexport const GRID_REMOVE_BLOCK = 'GRID_REMOVE_BLOCK';\nexport const GRID_SHUFFLE_BLOCKS = 'GRID_SHUFFLE_BLOCKS';\nexport const GRID_DUPLICATE_BLOCK = 'GRID_DUPLICATE_BLOCK';\nexport const GRID_UPDATE_BLOCKS = 'GRID_UPDATE_BLOCKS';\nexport const GRID_ACTIVE_BLOCK = 'GRID_ACTIVE_BLOCK';\nexport const GRID_SETTING_UPDATE = 'GRID_SETTING_UPDATE';\nexport const GRID_CHANGE_COLOR = 'GRID_CHANGE_COLOR';\n\nexport const CROPPER_OPEN = 'CROPPER_OPEN';\nexport const CROPPER_CLOSE = 'CROPPER_CLOSE';\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/types.js","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"$\"}\n// module id = 4\n// module chunks = 0","import * as core from './core';\nimport * as body from './body';\nimport * as cropper from './cropper';\nimport * as side from './side';\nimport * as types from './types';\n\n\nexport {\n\tcore,\n\tcropper,\n\tside,\n\tbody,\n\ttypes,\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react-redux\",\"commonjs2\":\"react-redux\",\"amd\":\"react-redux\",\"root\":\"PropTypes\"}\n// module id = 6\n// module chunks = 0","export const setting = {\n\tbase: {\n\t\tuploadScript: null,\n\t\tuploadParamsConvertFunc: null,\n\t\tupdateStoreFunc: null,\n\t},\n\tbody: {\n\t\tsetting: {\n\t\t\twidth: 100,\n\t\t\theight: 100,\n\t\t\tcolumn: 5,\n\t\t\touterMargin: 10,\n\t\t\tinnerMargin: 10,\n\t\t\tfreeMode: false,\n\t\t\tbgColor: 'rgba(255,255,255,1)',\n\t\t},\n\t\tblockColor: 'rgba(211,211,211,1)',\n\t\tgrid: [],\n\t},\n\tside: {\n\t\tfiles: [],\n\t\tvisible: true,\n\t\t//progressPercent: null,\n\t},\n};\n\n\nexport const side = {\n\tfiles: {},\n\tvisible: true,\n\tprogressPercent: null,\n};\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/defaults.js","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"redux\",\"commonjs2\":\"redux\",\"amd\":\"redux\",\"root\":\"PropTypes\"}\n// module id = 8\n// module chunks = 0","/**\n * is array\n *\n * @param {Array} arr\n * @return {Boolean}\n */\nexport function isArray(arr=[])\n{\n\treturn !!(arr && arr.length);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/object.js","module.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react-simple-colorpicker\",\"commonjs2\":\"react-simple-colorpicker\",\"amd\":\"react-simple-colorpicker\",\"root\":\"PropTypes\"}\n// module id = 10\n// module chunks = 0","import React from 'react';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\n\nimport Container from './Container';\n\nimport reducers from './reducers';\nimport API from './API';\n\n\nclass PhotoLayoutEditor extends React.Component {\n\n\tstatic displayName = 'PhotoLayoutEditor';\n\tstatic defaultProps = {\n\t\tbody: {\n\t\t\tsetting: {},\n\t\t\tblockColor: null,\n\t\t\tgrid: []\n\t\t},\n\t\tside: {\n\t\t\tfiles: [],\n\t\t\tvisible: true\n\t\t},\n\t\tuploadScript: null,\n\t\tuploadParamsConvertFunc: null\n\t};\n\n\tconstructor()\n\t{\n\t\tsuper();\n\n\t\t// set store\n\t\tthis.store = createStore(reducers);\n\n\t\t// set api\n\t\tthis.api = new API(this.store);\n\t}\n\n\trender()\n\t{\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<Provider store={this.store}>\n\t\t\t\t<Container parent={{ preference: props, api: this.api }}/>\n\t\t\t</Provider>\n\t\t);\n\t}\n\n}\n\nexport default PhotoLayoutEditor;\nmodule.exports = PhotoLayoutEditor;\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/index.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\n\nimport * as actions from '../actions';\n\nimport Body from './Body';\nimport Side from './Side';\n\n\nclass Container extends React.Component {\n\n\tstatic displayName = 'Container';\n\n\tstatic defaultProps = {\n\t\tparent: {},\n\t\tdispatch: null,\n\t\ttree: {},\n\t\tsetting: null,\n\t};\n\n\tconstructor()\n\t{\n\t\tsuper();\n\n\t\tthis.el = null;\n\t}\n\n\tcomponentWillReceiveProps(nextProps)\n\t{\n\t\tconst { props } = this;\n\n\t\tthis.checkChangeStore(props, nextProps);\n\t}\n\n\tcomponentDidMount()\n\t{\n\t\tconst { props } = this;\n\n\t\tprops.dispatch(actions.core.init(\n\t\t\tprops.parent.api,\n\t\t\tprops.parent.preference || { side: {}, body: {} },\n\t\t\tthis.el\n\t\t));\n\t}\n\n\tcheckChangeStore(prev, next)\n\t{\n\t\tif (!(next.setting.base.updateStoreFunc && typeof next.setting.base.updateStoreFunc === 'function')) return null;\n\t\tif (\n\t\t\tprev.tree.side.visible !== next.tree.side.visible ||\n\t\t\tprev.tree.side.files !== next.tree.side.files ||\n\t\t\tprev.tree.body.setting !== next.tree.body.setting ||\n\t\t\tprev.tree.body.grid !== next.tree.body.grid\n\t\t) {\n\t\t\tnext.setting.base.updateStoreFunc();\n\t\t}\n\t}\n\n\trender()\n\t{\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={(r) => { this.el = r; }}\n\t\t\t\tclassName={classNames('ple-editor', { 'ple-side-active': props.tree.side.visible })}>\n\t\t\t\t{props.setting && (\n\t\t\t\t\t<div className=\"ple-wrap\">\n\t\t\t\t\t\t<Body/>\n\t\t\t\t\t\t<Side/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state, {}))(Container);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/index.js","import * as types from './types';\n\n\nexport function init(api, preference, element)\n{\n\treturn {\n\t\ttype: types.INIT_PLE,\n\t\tapi,\n\t\tpreference,\n\t\telement,\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/core.js","import * as types from './types';\n\n\nexport function addBlock(value)\n{\n\treturn {\n\t\ttype: types.GRID_ADD_BLOCK,\n\t\tvalue: value,\n\t};\n}\n\nexport function removeBlock(keys) {\n\treturn {\n\t\ttype: types.GRID_REMOVE_BLOCK,\n\t\tkeys,\n\t};\n}\n\nexport function shuffleBlocks(options)\n{\n\treturn {\n\t\ttype: types.GRID_SHUFFLE_BLOCKS,\n\t\tvalue: options,\n\t}\n}\n\nexport function duplicateBlock(keys)\n{\n\treturn {\n\t\ttype: types.GRID_DUPLICATE_BLOCK,\n\t\tkeys\n\t};\n}\n\nexport function updateBlocks(blocks)\n{\n\treturn {\n\t\ttype: types.GRID_UPDATE_BLOCKS,\n\t\tvalue: blocks,\n\t}\n}\n\nexport function activeBlock(keys)\n{\n\treturn {\n\t\ttype: types.GRID_ACTIVE_BLOCK,\n\t\tvalue: keys\n\t};\n}\n\nexport function changeColorBlock(keys, color)\n{\n\treturn {\n\t\ttype: types.GRID_CHANGE_COLOR,\n\t\tkeys,\n\t\tcolor,\n\t}\n}\n\nexport function updateSetting(value)\n{\n\treturn {\n\t\ttype: types.GRID_SETTING_UPDATE,\n\t\tvalue: value,\n\t};\n}\n\nexport function attachImages(images, cols, activeBlocks)\n{\n\treturn {\n\t\ttype: types.GRID_ATTACH_IMAGES,\n\t\tvalue: images,\n\t\tcolumns: cols,\n\t\tactiveBlocks: activeBlocks,\n\t}\n}\n\nexport function attachImage(keys, image)\n{\n\treturn {\n\t\ttype: types.GRID_ATTACH_IMAGE,\n\t\tkeys,\n\t\timage,\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/body.js","import * as types from './types';\n\n\nexport function open(key, item)\n{\n\treturn {\n\t\ttype: types.CROPPER_OPEN,\n\t\titem,\n\t\tkey\n\t};\n}\n\nexport function close(key, position, size)\n{\n\treturn {\n\t\ttype: types.CROPPER_CLOSE,\n\t\tkey,\n\t\tposition,\n\t\tsize\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/cropper.js","import * as types from './types';\n\n\n// control visible side bar\nexport function visible(sw)\n{\n\treturn {\n\t\ttype: types.SIDE_VISIBLE,\n\t\tvalue: sw,\n\t};\n}\n\n// toggle side bar\nexport function toggle()\n{\n\treturn {\n\t\ttype: types.SIDE_TOGGLE,\n\t};\n}\n\nexport function addFiles(files=[])\n{\n\treturn {\n\t\ttype: types.SIDE_ADD_FILES,\n\t\tfiles,\n\t};\n}\n\nexport function removeFiles(keys=[])\n{\n\treturn {\n\t\ttype: types.SIDE_REMOVE_FILES,\n\t\tkeys,\n\t};\n}\n\nexport function updateSelected(value)\n{\n\treturn {\n\t\ttype: types.SIDE_UPDATE_SELECTED,\n\t\tvalue\n\t};\n}\n\nexport function updateProgress(percent)\n{\n\treturn {\n\t\ttype: types.SIDE_UPDATE_PROGRESS,\n\t\tvalue: percent\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/side.js","import React from 'react';\n\nimport GridLayout from \"./GridLayout\";\nimport Toolbar from './Toolbar';\n\n\nexport default class Body extends React.Component {\n\n\tstatic displayName = 'Body';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"ple-container\">\n\t\t\t\t<div className=\"ple-body\">\n\t\t\t\t\t<Toolbar/>\n\t\t\t\t\t<GridLayout/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/index.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport ReactGridLayout from 'react-grid-layout';\nimport classNames from 'classnames';\n\nimport Cropper from '../../Cropper';\n\nimport * as actions from '../../../actions';\nimport * as libs from '../../../lib';\n\n\nlet timeStamp = [];\n\n\nclass GridLayout extends React.Component {\n\n\tstatic displayName = 'GridLayout';\n\n\tstatic defaultProps = {\n\t\ttree: null,\n\t\tdispatch: null,\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\t}\n\n\t/**\n\t * on select block\n\t *\n\t * @param {String} key\n\t */\n\t_selectBlock(key=null)\n\t{\n\t\tconst { props } = this;\n\n\t\tif (key === null)\n\t\t{\n\t\t\tprops.api.grid.select([]);\n\t\t\treturn;\n\t\t}\n\n\t\tswitch(props.keyboard.keyName)\n\t\t{\n\t\t\tcase 'CMD':\n\t\t\tcase 'CTRL':\n\t\t\tcase 'SHIFT':\n\t\t\t\tif (libs.object.isArray(props.tree.body.activeBlock))\n\t\t\t\t{\n\t\t\t\t\tlet newActiveBlock = Object.assign([], props.tree.body.activeBlock);\n\t\t\t\t\tif (newActiveBlock.indexOf(key) > -1)\n\t\t\t\t\t{\n\t\t\t\t\t\tnewActiveBlock.splice(newActiveBlock.indexOf(key), 1);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tnewActiveBlock.push(key);\n\t\t\t\t\t}\n\t\t\t\t\tprops.api.grid.select(newActiveBlock);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t\tprops.api.grid.select([key]);\n\t}\n\n\t/**\n\t * On update blocks\n\t *\n\t * @param {String} type\n\t * @param {Array} layout\n\t * @param {HTMLElement} element\n\t */\n\t_updateBlocks(type, layout=null, element=null)\n\t{\n\t\tconst { props } = this;\n\n\t\t/**\n\t\t * convert layout\n\t\t *\n\t\t * @return {Object}\n\t\t */\n\t\tfunction convertLayout()\n\t\t{\n\t\t\tlet result = {};\n\t\t\tfor (let i=0; i<layout.length; i++)\n\t\t\t{\n\t\t\t\tresult[layout[i].i.split('__')[1]] = layout[i];\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tswitch(type)\n\t\t{\n\t\t\tcase 'start':\n\t\t\t\ttimeStamp[0] = new Date().getTime();\n\t\t\t\tbreak;\n\n\t\t\tcase 'end':\n\t\t\t\ttimeStamp[1] = new Date().getTime();\n\t\t\t\tif (timeStamp[1] - timeStamp[0] > 400)\n\t\t\t\t{\n\t\t\t\t\tlet newLayout = convertLayout();\n\t\t\t\t\tlet newGrid = {};\n\t\t\t\t\tObject.keys(props.tree.body.grid).forEach(k => {\n\t\t\t\t\t\tnewGrid[k] = {\n\t\t\t\t\t\t\t...props.tree.body.grid[k],\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\tx: newLayout[k].x,\n\t\t\t\t\t\t\t\ty: newLayout[k].y,\n\t\t\t\t\t\t\t\tw: newLayout[k].w,\n\t\t\t\t\t\t\t\th: newLayout[k].h,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t\tprops.dispatch(actions.body.updateBlocks(newGrid));\n\t\t\t\t}\n\t\t\t\ttimeStamp = [];\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/**\n\t * Render item\n\t *\n\t * @param {String} k\n\t * @return {Component}\n\t */\n\trenderItem(k)\n\t{\n\t\tconst { props } = this;\n\t\tconst { activeBlock, grid } = props.tree.body;\n\t\tconst item = grid[k];\n\n\t\tlet key = `${item.indexPrefix}__${k}`;\n\t\tlet active = !!(activeBlock && activeBlock.length && activeBlock.indexOf(k) > -1);\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tkey={key}\n\t\t\t\tdata-grid={item.layout}\n\t\t\t\tdata-key={k}\n\t\t\t\tonClick={(event) => {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tthis._selectBlock(k, !!item.image);\n\t\t\t\t}}\n\t\t\t\tstyle={{ backgroundColor: item.color || props.setting.body.blockColor }}\n\t\t\t\tclassName={classNames({ 'ple-grid__item-active': active })}>\n\t\t\t\t{item.image && (\n\t\t\t\t\t<figure\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundImage: `url('${item.image.src}')`,\n\t\t\t\t\t\t\tbackgroundPosition: item.image.position,\n\t\t\t\t\t\t\tbackgroundSize: item.image.size,\n\t\t\t\t\t\t}}/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender()\n\t{\n\t\tconst { props } = this;\n\t\tconst { setting } = props.tree.body;\n\t\tconst bodyWidth = (setting.width * setting.column) +\n\t\t\t(setting.innerMargin * (setting.column-1)) +\n\t\t\t(setting.outerMargin * 2);\n\n\t\treturn (\n\t\t\t<div className=\"ple-grid__wrap\" onClick={() => this._selectBlock()}>\n\t\t\t\t<div className=\"ple-grid__body\" style={{ width: `${bodyWidth}px` }}>\n\t\t\t\t\t<ReactGridLayout\n\t\t\t\t\t\tautoSize={true}\n\t\t\t\t\t\tcols={setting.column}\n\t\t\t\t\t\trowHeight={setting.height}\n\t\t\t\t\t\twidth={bodyWidth}\n\t\t\t\t\t\tmargin={[setting.innerMargin, setting.innerMargin]}\n\t\t\t\t\t\tcontainerPadding={[setting.outerMargin, setting.outerMargin]}\n\t\t\t\t\t\tverticalCompact={!setting.freeMode}\n\t\t\t\t\t\tonDragStart={() => this._updateBlocks('start')}\n\t\t\t\t\t\tonDragStop={(layout, oldItem, newItem, placeholder, e, element) => this._updateBlocks('end', layout, element)}\n\t\t\t\t\t\tonResizeStart={() => this._updateBlocks('start')}\n\t\t\t\t\t\tonResizeStop={(layout, oldItem, newItem, placeholder, e, element) => this._updateBlocks('end', layout, element)}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\twidth: `100%`,\n\t\t\t\t\t\t\tbackgroundColor: setting.bgColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"ple-grid\">\n\t\t\t\t\t\t{Object.keys(props.tree.body.grid).map((k) => this.renderItem(k))}\n\t\t\t\t\t</ReactGridLayout>\n\t\t\t\t\t{props.tree.cropper.visible ? ( <Cropper/> ) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state, {}))(GridLayout);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/GridLayout/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_19__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react-grid-layout\",\"commonjs2\":\"react-grid-layout\",\"amd\":\"react-grid-layout\",\"root\":\"PropTypes\"}\n// module id = 19\n// module chunks = 0","import React from 'react';\nimport { connect } from 'react-redux';\nimport $ from 'jquery/dist/jquery.slim';\nimport classNames from 'classnames';\n\n// components\nimport Block from './Block';\n\n// library\nimport * as lib from '../../lib';\n\n\nclass Cropper extends React.Component {\n\n\tstatic displayName = 'Cropper';\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\t\tconst { cropper } = props.tree;\n\n\t\tthis.imageMeta = null;\n\t\tthis._block = null;\n\t\tthis.$item = $(props.element)\n\t\t\t.find('.react-grid-item')\n\t\t\t.filter(`[data-key=${cropper.key}]`);\n\n\t\tthis.state = {\n\t\t\tpending: true,\n\t\t\tposition: cropper.item.image.position,\n\t\t\tsize: cropper.item.image.size || 'cover',\n\t\t\twidth: this.$item.width(),\n\t\t\theight: this.$item.height(),\n\t\t\ttop: this.$item.position().top,\n\t\t\tleft: this.$item.position().left\n\t\t};\n\t}\n\n\tcomponentDidMount()\n\t{\n\t\tconst { props } = this;\n\t\tconst { cropper } = props.tree;\n\n\t\tlib.util.getImageSize(cropper.item.image.src).then((res) => {\n\t\t\tthis.imageMeta = res;\n\t\t\tthis.setState({ pending: false });\n\t\t});\n\t}\n\n\t/**\n\t * close cropper\n\t * `cropper`를 닫고, 변경된 이미지를 `grid`로 보낸다.\n\t */\n\t_onClose()\n\t{\n\t\tconst { props } = this;\n\t\tprops.api.cropper.close(\n\t\t\tprops.tree.cropper.key,\n\t\t\tthis._block.state.position,\n\t\t\tthis._block.state.size\n\t\t);\n\t}\n\n\t/**\n\t * toggle image type\n\t * 직접 리사이즈를 사용하는지 기본(꽉채우는..)타입으로 사용할건지 변경하는 액션\n\t */\n\t_toggleImageType()\n\t{\n\t\tconst { state, props } = this;\n\n\t\tif (state.size === 'cover')\n\t\t{\n\t\t\tlet targetSize = '';\n\t\t\tlet ratio = 0;\n\t\t\tif (state.height > state.width)\n\t\t\t{\n\t\t\t\tratio = lib.number.getRatioForResize(state.height, this.imageMeta.height);\n\t\t\t\ttargetSize = `${parseInt(this.imageMeta.width * ratio)}px ${state.height}px`;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tratio = lib.number.getRatioForResize(state.width, this.imageMeta.width);\n\t\t\t\ttargetSize = `${state.width}px ${parseInt(this.imageMeta.height * ratio)}px`;\n\t\t\t}\n\t\t\tthis.setState({\n\t\t\t\tposition: '0 0',\n\t\t\t\tsize: targetSize,\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.setState({\n\t\t\t\tposition: `50% 50%`,\n\t\t\t\tsize: 'cover',\n\t\t\t});\n\t\t}\n\t}\n\n\trender()\n\t{\n\t\tconst { state, props } = this;\n\n\t\tif (state.pending) return null;\n\n\t\treturn (\n\t\t\t<div className=\"ple-cropper\">\n\t\t\t\t<span className=\"ple-cropper__bg\"/>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: `${state.width}px`,\n\t\t\t\t\t\theight: `${state.height}px`,\n\t\t\t\t\t\ttop: `${state.top}px`,\n\t\t\t\t\t\tleft: `${state.left}px`,\n\t\t\t\t\t}}\n\t\t\t\t\tclassName=\"ple-cropper__wrap\">\n\t\t\t\t\t<Block\n\t\t\t\t\t\tref={(r) => { this._block = r; }}\n\t\t\t\t\t\tsrc={props.tree.cropper.item.image.src}\n\t\t\t\t\t\tposition={state.position}\n\t\t\t\t\t\tsize={state.size}\n\t\t\t\t\t\tbgColor={props.tree.cropper.item.color || props.setting.body.blockColor}/>\n\t\t\t\t\t<nav className=\"ple-cropper__nav\">\n\t\t\t\t\t\t<button type=\"button\" onClick={() => this._onClose()}>\n\t\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-close ple-abs\">Close cropper</i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={() => this._toggleImageType()}\n\t\t\t\t\t\t\tclassName={classNames({\n\t\t\t\t\t\t\t\t'ple-cropper__nav-active': state.size !== 'cover'\n\t\t\t\t\t\t\t})}>\n\t\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-resize ple-abs\">Toggle background size type</i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</nav>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state, {}))(Cropper);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Cropper/index.js","import React from 'react';\nimport ReactDom from 'react-dom';\nimport $ from 'jquery/dist/jquery.slim';\nimport classNames from 'classnames';\n\nimport { util } from '../../lib';\n\n\nconst controlEvent = {\n\tstart: (util.isTouchDevice()) ? 'touchstart' : 'mousedown',\n\tmove: (util.isTouchDevice()) ? 'touchmove' : 'mousemove',\n\tend: (util.isTouchDevice()) ? 'touchend' : 'mouseup',\n};\n\n\nexport default class Block extends React.Component {\n\n\tstatic displayName = 'Block';\n\n\tstatic defaultProps = {\n\t\tsrc: '',\n\t\tposition: '',\n\t\tsize: '',\n\t\tbgColor: '#fff',\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tposition: props.position,\n\t\t\tsize: props.size,\n\t\t\tisCover: props.size === 'cover',\n\t\t};\n\n\t\tthis._self = null;\n\t\tthis.$self = null;\n\t\tthis.$img = null;\n\t\tthis.moveStartInfo = {};\n\t\tthis.resizeStartInfo = {};\n\t}\n\n\tcomponentDidMount()\n\t{\n\t\t// set dom\n\t\tthis.$self = $(ReactDom.findDOMNode(this._self));\n\t}\n\n\tcomponentWillReceiveProps(nextProps)\n\t{\n\t\tconst { props } = this;\n\n\t\tif (props.size !== nextProps.size)\n\t\t{\n\t\t\tthis.setState({\n\t\t\t\tposition: nextProps.position,\n\t\t\t\tsize: nextProps.size,\n\t\t\t\tisCover: nextProps.size === 'cover',\n\t\t\t});\n\t\t}\n\t}\n\n\t_moveStart(e)\n\t{\n\t\te.stopPropagation();\n\n\t\tconst { state } = this;\n\n\t\t// set image element\n\t\tthis.$img = this.$self.find('img');\n\n\t\tthis.moveStartInfo = {\n\t\t\tcontainerX: parseInt(state.position.split(' ')[0]),\n\t\t\tcontainerY: parseInt(state.position.split(' ')[1]),\n\t\t\tmouseX : (e.clientX || e.pageX || e.nativeEvent.touches[0].clientX) + $(window).scrollLeft(),\n\t\t\tmouseY : (e.clientY || e.pageY || e.nativeEvent.touches[0].clientY) + $(window).scrollTop(),\n\t\t};\n\n\t\t$(document)\n\t\t\t.on(`${controlEvent.move}.move`, (e) => this._moveIng(e))\n\t\t\t.on(`${controlEvent.end}.move`, (e) => this._moveEnd(e));\n\t}\n\t_moveIng(e)\n\t{\n\t\te.stopPropagation();\n\n\t\tconst evt = (e.type === 'touchmove') ? e.originalEvent.touches[0] : e;\n\t\tlet mouse = {};\n\t\tlet distance = {};\n\n\t\tmouse.x = (evt.clientX || evt.pageX) + $(window).scrollLeft();\n\t\tmouse.y = (evt.clientY || evt.pageY) + $(window).scrollTop();\n\n\t\tdistance.x = this.moveStartInfo.containerX + (mouse.x - this.moveStartInfo.mouseX);\n\t\tdistance.y = this.moveStartInfo.containerY + (mouse.y - this.moveStartInfo.mouseY);\n\n\t\tthis.setState({\n\t\t\tposition: `${parseInt(distance.x)}px ${parseInt(distance.y)}px`\n\t\t});\n\t}\n\t_moveEnd(e)\n\t{\n\t\te.preventDefault();\n\n\t\tthis.$img = null;\n\t\tthis.moveStartInfo = null;\n\n\t\t$(document)\n\t\t\t.off(`${controlEvent.move}.move`)\n\t\t\t.off(`${controlEvent.end}.move`);\n\t}\n\n\t_resizeStart(e)\n\t{\n\t\te.stopPropagation();\n\n\t\tconst { state } = this;\n\n\t\tthis.$img = this.$self.find('img');\n\t\tthis.resizeStartInfo = {\n\t\t\ttitle: e.currentTarget.title,\n\t\t\twidth: this.$img.width(),\n\t\t\theight: this.$img.height(),\n\t\t\tmouseX : (e.clientX || e.pageX || e.nativeEvent.touches[0].clientX) + $(window).scrollLeft(),\n\t\t\tposX: parseInt(state.position.split(' ')[0]),\n\t\t\tposY: parseInt(state.position.split(' ')[1]),\n\t\t};\n\n\t\t$(document)\n\t\t\t.on(`${controlEvent.move}.resize`, (e) => this._resizeIng(e))\n\t\t\t.on(`${controlEvent.end}.resize`, (e) => this._resizeEnd(e));\n\t}\n\t_resizeIng(e)\n\t{\n\t\te.stopPropagation();\n\n\t\tlet size = {};\n\t\tlet position = {};\n\t\tlet ratio = 1;\n\t\tlet distanceHeight = 0;\n\t\tlet evt = (e.type === 'touchmove') ? e.originalEvent.touches[0] : e;\n\n\t\t// set mouse position\n\t\tlet distanceX = (evt.clientX || evt.pageX) + $(window).scrollLeft() - this.resizeStartInfo.mouseX;\n\n\t\t// set position and size\n\t\tswitch(this.resizeStartInfo.title) {\n\t\t\tcase 'resize-lt':\n\t\t\t\tposition.x = this.resizeStartInfo.posX + distanceX;\n\t\t\t\tsize.width = this.resizeStartInfo.width - distanceX;\n\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\tdistanceHeight = this.resizeStartInfo.height - size.height;\n\t\t\t\tposition.y = this.resizeStartInfo.posY + distanceHeight;\n\t\t\t\tbreak;\n\t\t\tcase 'resize-rt':\n\t\t\t\tposition.x = this.resizeStartInfo.posX;\n\t\t\t\tsize.width = this.resizeStartInfo.width + distanceX;\n\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\tdistanceHeight = this.resizeStartInfo.height - size.height;\n\t\t\t\tposition.y = this.resizeStartInfo.posY + distanceHeight;\n\t\t\t\tbreak;\n\t\t\tcase 'resize-lb':\n\t\t\t\tposition.x = this.resizeStartInfo.posX + distanceX;\n\t\t\t\tposition.y = this.resizeStartInfo.posY;\n\t\t\t\tsize.width = this.resizeStartInfo.width - distanceX;\n\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\tbreak;\n\t\t\tcase 'resize-rb':\n\t\t\t\tposition.x = this.resizeStartInfo.posX;\n\t\t\t\tposition.y = this.resizeStartInfo.posY;\n\t\t\t\tsize.width = this.resizeStartInfo.width + distanceX;\n\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\n\t\t// set image size\n\n\t\tthis.setState({\n\t\t\tsize: `${parseInt(size.width)}px ${parseInt(size.height)}px`,\n\t\t\tposition: `${parseInt(position.x)}px ${parseInt(position.y)}px`\n\t\t});\n\t}\n\t_resizeEnd(e)\n\t{\n\t\tthis.$img = null;\n\t\tthis.resizeStartInfo = null;\n\n\t\t$(document)\n\t\t\t.off(`${controlEvent.move}.resize`)\n\t\t\t.off(`${controlEvent.end}.resize`);\n\t}\n\n\trender()\n\t{\n\t\tconst { state, props } = this;\n\t\tconst size = (state.size !== 'cover') ? state.size.split(' ') : state.size;\n\t\tconst position = state.position.split(' ');\n\n\t\treturn (\n\t\t\t<figure\n\t\t\t\tref={r => { this._self = r; }}\n\t\t\t\tstyle={{ backgroundColor: props.bgColor }}\n\t\t\t\tclassName=\"ple-cropperBlock ple-cropper__block\">\n\t\t\t\t{state.isCover ? (\n\t\t\t\t\t<span\n\t\t\t\t\t\tstyle={{ backgroundImage: `url('${props.src}')` }}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__image ple-cropperBlock__image-cover\"/>\n\t\t\t\t) : (\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t'ple-cropperBlock__image',\n\t\t\t\t\t\t\t{ 'ple-cropperBlock__image-resize': (props.size !== 'cover') }\n\t\t\t\t\t\t)}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={props.src}\n\t\t\t\t\t\t\tstyle={Object.assign({},\n\t\t\t\t\t\t\t\tstate.size !== 'cover' && {\n\t\t\t\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\t\t\t\ttransform: `translate(${position[0]}, ${position[1]})`\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\talt=\"image\"/>\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t\t<div\n\t\t\t\t\tonMouseDown={(e) => this._moveStart(e)}\n\t\t\t\t\tonTouchStart={(e) => this._moveStart(e)}\n\t\t\t\t\tstyle={Object.assign({},\n\t\t\t\t\t\tstate.size !== 'cover' && {\n\t\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\t\theight: size[1],\n\t\t\t\t\t\t\ttransform: `translate(${position[0]}, ${position[1]})`\n\t\t\t\t\t\t}\n\t\t\t\t\t)}\n\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t'ple-cropperBlock__control',\n\t\t\t\t\t\t{ 'ple-cropperBlock__control-active': (props.size !== 'cover') }\n\t\t\t\t\t)}>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ttitle=\"resize-lt\"\n\t\t\t\t\t\tonMouseDown={(e) => this._resizeStart(e)}\n\t\t\t\t\t\tonTouchStart={(e) => this._resizeStart(e)}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__resize ple-cropperBlock__resize-lt\">\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-abs ple-ico-clamp\"/>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ttitle=\"resize-rt\"\n\t\t\t\t\t\tonMouseDown={(e) => this._resizeStart(e)}\n\t\t\t\t\t\tonTouchStart={(e) => this._resizeStart(e)}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__resize ple-cropperBlock__resize-rt\">\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-abs ple-ico-clamp\"/>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ttitle=\"resize-lb\"\n\t\t\t\t\t\tonMouseDown={(e) => this._resizeStart(e)}\n\t\t\t\t\t\tonTouchStart={(e) => this._resizeStart(e)}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__resize ple-cropperBlock__resize-lb\">\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-abs ple-ico-clamp\"/>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ttitle=\"resize-rb\"\n\t\t\t\t\t\tonMouseDown={(e) => this._resizeStart(e)}\n\t\t\t\t\t\tonTouchStart={(e) => this._resizeStart(e)}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__resize ple-cropperBlock__resize-rb\">\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-abs ple-ico-clamp\"/>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</figure>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Cropper/Block.js","module.exports = __WEBPACK_EXTERNAL_MODULE_22__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}\n// module id = 22\n// module chunks = 0","/**\n * is touch device\n *\n * @returns {boolean}\n */\nexport function isTouchDevice()\n{\n\treturn (\n\t\t('ontouchstart' in window) ||\n\t\t(navigator.MaxTouchPoints > 0) ||\n\t\t(navigator.msMaxTouchPoints > 0)\n\t);\n}\n\n\n/**\n * Sleep\n *\n * @param {Number} time\n * @param {String} id\n * @return {Promise}\n */\nexport function sleep(time, id='pleTimer')\n{\n\treturn new Promise((resolve) => {\n\t\twindow[id] = setTimeout(resolve, time);\n\t});\n}\n\n\n/**\n * Get image size\n *\n * @param {String} src\n * @return {Promise}\n */\nexport function getImageSize(src)\n{\n\treturn new Promise((resolve, reject) => {\n\t\tif (!(src && typeof src === 'string')) reject();\n\n\t\tlet img = document.createElement('img');\n\n\t\timg.onload = function()\n\t\t{\n\t\t\tresolve({\n\t\t\t\twidth: img.naturalWidth,\n\t\t\t\theight: img.naturalHeight,\n\t\t\t\tratio: img.naturalHeight / img.naturalWidth,\n\t\t\t});\n\t\t};\n\n\t\timg.onerror = function()\n\t\t{\n\t\t\treject();\n\t\t};\n\n\t\timg.src = src;\n\t});\n}\n\n\n/**\n * get css prefix\n *\n * @variation {Object}\n */\nexport const cssPrefix = (function()\n{\n\tconst styles = window.getComputedStyle(document.documentElement, '');\n\tconst pre = (Array.prototype.slice\n\t\t.call(styles)\n\t\t.join('')\n\t\t.match(/-(moz|webkit|ms)-/) || (styles.OLink === '' && ['', 'o'])\n\t)[1];\n\tconst dom = ('WebKit|Moz|MS|O').match(new RegExp('(' + pre + ')', 'i'))[1];\n\n\treturn {\n\t\tdom: dom,\n\t\tlowercase: pre,\n\t\tcss: `-${pre}-`,\n\t\tjs: pre[0].toUpperCase() + pre.substr(1)\n\t};\n})();\n\n\n/**\n * check support css\n *\n * @param {String} key\n * @param {String} value\n * @return {Boolean}\n */\nexport function checkSupportCss(key, value)\n{\n\tif (CSS && CSS.supports)\n\t{\n\t\treturn CSS.supports(key, value);\n\t}\n}\n\n/**\n * load image\n *\n * @param {String} src\n * @return {Promise}\n */\nexport function loadImage(src)\n{\n\treturn new Promise((resolve) => {\n\t\tif (src)\n\t\t{\n\t\t\tlet image = new Image();\n\n\t\t\timage.onload = function(e)\n\t\t\t{\n\t\t\t\tresolve(image);\n\t\t\t};\n\t\t\timage.onError = function(e)\n\t\t\t{\n\t\t\t\tresolve(null);\n\t\t\t};\n\n\t\t\timage.setAttribute('crossOrigin', 'anonymous');\n\t\t\timage.src = src;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tresolve(null);\n\t\t}\n\t});\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/util.js","/**\n * Random range\n * min~max 사이의 랜덤 정수를 반환한다.\n *\n * @param {Number} min\n * @param {Number} max\n * @param {Boolean} useDecimal\n * @return {Number}\n */\nexport function randomRange(min, max, useDecimal=false)\n{\n\tif (useDecimal)\n\t{\n\t\treturn Math.random() * (max - min) + min;\n\t}\n\telse\n\t{\n\t\treturn Math.floor(Math.random() * (max - min + 1)) + min;\n\t}\n}\n\n\n/**\n * get ratio for resize\n * max와 min값의 차이의 비율을 가져온다.\n *\n * @param {Number} min\n * @param {Number} max\n * @return {Number}\n */\nexport function getRatioForResize(min, max)\n{\n\treturn (max > min) ? min / max : max / min;\n}\n\n\n/**\n * Get timestamp\n *\n * @return {Number}\n */\nexport function getTimeStamp()\n{\n\treturn Math.round(+new Date()/1000);\n}\n\n\n/**\n * get ratio\n *\n * @param {Number} w\n * @param {Number} h\n * @return {Number}\n */\nexport function getRatio(w, h)\n{\n\tlet result = parseInt(w) / parseInt(h);\n\tresult = Math.round(result * 1000) / 1000;\n\treturn result;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/number.js","/**\n * rgba to hex\n *\n * @param {String} color\n * @return {String}\n */\nexport function rgbToHex(color)\n{\n\tcolor = color.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n\treturn (color && color.length === 4) ? \"#\" +\n\t\t(\"0\" + parseInt(color[1],10).toString(16)).slice(-2) +\n\t\t(\"0\" + parseInt(color[2],10).toString(16)).slice(-2) +\n\t\t(\"0\" + parseInt(color[3],10).toString(16)).slice(-2) : '';\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/color.js","import $ from 'jquery/dist/jquery.slim';\n\n\n/**\n * local upload\n *\n * @param {File} file\n * @return {Promise}\n */\nfunction local(file)\n{\n\tconst defer = $.Deferred();\n\tconst reader = new FileReader();\n\n\treader.addEventListener('load', function(e) {\n\t\tdefer.resolve({\n\t\t\tname: file.name,\n\t\t\ttype: file.type,\n\t\t\tsize: file.size,\n\t\t\turl: e.target.result,\n\t\t});\n\t});\n\treader.addEventListener('error', function(e) {\n\t\tdefer.reject(e.target);\n\t});\n\n\treader.readAsDataURL(file);\n\n\treturn defer.promise();\n}\n\n/**\n * external upload\n *\n * @param {String} script\n * @param {File} file\n * @return {Promise}\n */\nfunction external(script, file)\n{\n\tconst defer = $.Deferred();\n\tconst xhr = new XMLHttpRequest();\n\n\tif (!(typeof FormData === 'function' || typeof FormData === 'object'))\n\t{\n\t\tdefer.reject('not support browser', file);\n\t\treturn null;\n\t}\n\tconst formData = new FormData();\n\n\tfunction onLoad(e)\n\t{\n\t\ttry {\n\t\t\tconst result = JSON.parse(e.target.responseText);\n\t\t\tif (result.state === 'success')\n\t\t\t{\n\t\t\t\tdefer.resolve(result.data);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthrow 'server error';\n\t\t\t}\n\t\t} catch(e) {\n\t\t\tdefer.reject(e);\n\t\t}\n\t}\n\n\tfunction onProgress(event)\n\t{\n\t\tconst { loaded, total } = event;\n\t\tdefer.notify('progress', loaded, total);\n\t}\n\n\tformData.append('files[]', file);\n\txhr.open('post', script, true);\n\n\txhr.addEventListener('load', onLoad);\n\txhr.upload.addEventListener('progress', onProgress);\n\n\txhr.send(formData);\n\n\t// start queue\n\tdefer.notify('start');\n\n\treturn defer.promise();\n}\n\n\n/**\n * upload multiple files\n *\n */\nexport default function uploader(files, script)\n{\n\tconst defer = $.Deferred();\n\tconst total = files.length;\n\tlet count = 0;\n\n\tfunction upload()\n\t{\n\t\tif (count >= total)\n\t\t{\n\t\t\tdefer.resolve();\n\t\t\treturn;\n\t\t}\n\n\t\tif (script)\n\t\t{\n\t\t\texternal(script, files[count])\n\t\t\t\t.done((data) => {\n\t\t\t\t\tdefer.notify('done', { count, data });\n\t\t\t\t\tcount++;\n\t\t\t\t\tupload();\n\t\t\t\t})\n\t\t\t\t.progress((state, loaded, total) => {\n\t\t\t\t\tdefer.notify(\n\t\t\t\t\t\tstate,\n\t\t\t\t\t\tstate === 'progress' && { loaded, total },\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.fail((error) => {\n\t\t\t\t\tdefer.reject(error);\n\t\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlocal(files[count])\n\t\t\t\t.done((data) => {\n\t\t\t\t\tdefer.notify('done', { count, data });\n\t\t\t\t\tcount++;\n\t\t\t\t\tupload();\n\t\t\t\t})\n\t\t\t\t.fail(() => {});\n\t\t}\n\t}\n\n\tupload(0);\n\n\treturn defer.promise();\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/uploader.js","import $ from 'jquery/dist/jquery.slim';\n\nimport * as lib from './';\n\n\n/**\n * Get image size\n *\n * @param {String} type\n * @param {int} cw container width\n * @param {int} ch container height\n * @param {int} iw image width\n * @param {int} ih image height\n * @return {Object}\n */\nfunction getImageSize(type, cw, ch, iw, ih)\n{\n\tlet size  = { width : 0, height : 0 };\n\n\tswitch(type)\n\t{\n\t\tcase 'cover':\n\t\t\tif (cw > ch)\n\t\t\t{\n\t\t\t\tsize.width = cw;\n\t\t\t\tsize.height = ih * (cw / iw);\n\t\t\t\tif (ch > size.height)\n\t\t\t\t{\n\t\t\t\t\tsize.width = iw * (ch / ih);\n\t\t\t\t\tsize.height = ch;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tsize.width = iw * (ch / ih);\n\t\t\t\tsize.height = ch;\n\t\t\t\tif (cw > size.width)\n\t\t\t\t{\n\t\t\t\t\tsize.width = cw;\n\t\t\t\t\tsize.height = ih * (cw / iw);\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'width':\n\t\t\tsize.width = cw;\n\t\t\tsize.height = ih * (cw / iw);\n\t\t\tbreak;\n\n\t\tcase 'height':\n\t\t\tsize.width = iw * (ch / ih);\n\t\t\tsize.height = ch;\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tsize.width = cw;\n\t\t\tsize.height = ch;\n\t\t\tbreak;\n\t}\n\n\treturn {\n\t\twidth : Math.round(size.width),\n\t\theight : Math.round(size.height)\n\t};\n}\n\n/**\n * export grid\n *\n * @param {HTMLElement} el\n * @param {Array} grids\n * @return {Array}\n */\nfunction makeQueue(el, grids)\n{\n\tif (!(el && grids)) return null;\n\n\tconst $items = $(el).children();\n\tlet result = [];\n\n\t$items.each((key, item) => {\n\t\tconst $item = $(item);\n\t\tconst grid = grids[$item.data('key')];\n\t\tlet image = grid.image;\n\n\t\tif (image)\n\t\t{\n\t\t\timage = {\n\t\t\t\tsrc: image.src,\n\t\t\t\tposition: image.position.split(' '),\n\t\t\t\tsize: image.size === 'cover' ? null : image.size.split(' ')\n\t\t\t};\n\t\t}\n\n\t\tresult.push({\n\t\t\t//key: $item.data('key'),\n\t\t\tx: $item.position().left,\n\t\t\ty: $item.position().top,\n\t\t\twidth: $item.width(),\n\t\t\theight: $item.height(),\n\t\t\timage: image || null,\n\t\t\tcolor: grid.color || 'rgba(255,255,255,1)',\n\t\t});\n\t});\n\n\treturn result;\n}\n\n/**\n * make block\n *\n * @param {Object} queue\n * @param {Object} options\n * @return {Promise}\n */\nfunction makeBlock(queue={}, options={})\n{\n\treturn new Promise((resolve) => {\n\t\tlib.util.loadImage(queue.image ? queue.image.src : null).then((image) => {\n\t\t\tif (image)\n\t\t\t{\n\t\t\t\tconst realSize = { width: image.naturalWidth, height: image.naturalHeight };\n\t\t\t\tlet size = {};\n\t\t\t\tlet position = {};\n\n\t\t\t\t// get size and position image\n\t\t\t\tif (queue.image.size)\n\t\t\t\t{\n\t\t\t\t\tsize = getImageSize('width', parseInt(queue.image.size[0]), 0, realSize.width, realSize.height);\n\t\t\t\t\tposition.x = parseInt(queue.image.position[0]);\n\t\t\t\t\tposition.y = parseInt(queue.image.position[1]);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tsize = getImageSize('cover', queue.width, queue.height, realSize.width, realSize.height);\n\t\t\t\t\tposition.x = (queue.width * 0.5) - (size.width * 0.5);\n\t\t\t\t\tposition.y = (queue.height * 0.5) - (size.height * 0.5);\n\t\t\t\t}\n\n\t\t\t\t// resize image\n\t\t\t\tlib.resamplingImage({\n\t\t\t\t\timage,\n\t\t\t\t\treSampleCount: options.sampling,\n\t\t\t\t\twidth: queue.width,\n\t\t\t\t\theight: queue.height,\n\t\t\t\t\tcx: 0,\n\t\t\t\t\tcy: 0,\n\t\t\t\t\tcw: realSize.width,\n\t\t\t\t\tch: realSize.height,\n\t\t\t\t\tdx: position.x,\n\t\t\t\t\tdy: position.y,\n\t\t\t\t\tdw: size.width,\n\t\t\t\t\tdh: size.height,\n\t\t\t\t\tbgColor: queue.color\n\t\t\t\t}).then((res) => {\n\t\t\t\t\tresolve({\n\t\t\t\t\t\twidth: queue.width,\n\t\t\t\t\t\theight: queue.height,\n\t\t\t\t\t\tx: queue.x,\n\t\t\t\t\t\ty: queue.y,\n\t\t\t\t\t\timage: res\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresolve({\n\t\t\t\t\twidth: queue.width,\n\t\t\t\t\theight: queue.height,\n\t\t\t\t\tx: queue.x,\n\t\t\t\t\ty: queue.y,\n\t\t\t\t\tcolor: queue.color,\n\t\t\t\t\timage: new lib.Canvas(queue.width, queue.height, queue.color)\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * draw block\n * 캔버스에다가 블럭을 그려준다.\n *\n * @param {Canvas} canvas\n * @param {Object} block\n */\nfunction drawBlock(canvas, block)\n{\n\treturn new Promise(resolve => {\n\t\tcanvas.ctx.drawImage(\n\t\t\tblock.image.el,\n\t\t\tblock.x,\n\t\t\tblock.y,\n\t\t\tblock.width,\n\t\t\tblock.height\n\t\t);\n\t\tresolve(block.image.el);\n\t});\n}\n\n/**\n * Get image size\n *\n * @param {Object} el\n * @param {String} format\n * @param {int} quality\n * @return {Object}\n */\nfunction canvasToBase64(el=null, format=null, quality=0.75)\n{\n\tswitch(format)\n\t{\n\t\tcase 'png':\n\t\t\tformat = 'image/png';\n\t\t\tbreak;\n\t\tcase 'jpg':\n\t\tdefault:\n\t\t\tformat = 'image/jpeg';\n\t\t\tbreak;\n\t}\n\n\treturn el.toDataURL(format, (format === 'image/jpeg') ? quality : undefined);\n}\n\n\n/**\n * making image\n *\n * @param {HTMLElement} el `.ple-grid` element\n * @param {Object} data\n * @param {Object} options\n * @return {Promise}\n */\nexport default function makingImage(el, data={}, options={})\n{\n\tconst defer = $.Deferred(); // resolve, notify, reject\n\tlet queues = makeQueue(el, data.grid);\n\tlet current = 0;\n\tconst queueTotal = queues.length;\n\t// make canvas\n\tlet canvas = new lib.Canvas(el.offsetWidth, el.offsetHeight, data.setting.bgColor);\n\n\t// send progress event\n\tdefer.notify(queueTotal, current++, null);\n\n\t/**\n\t * play\n\t * 큐 플레이. 이미지를 만들고 캔버스에 그리고나서 결과는 `confirm`에서 받는다.\n\t *\n\t * @param {Object} queue\n\t * @return {Promise}\n\t */\n\tfunction play(queue)\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tmakeBlock(queue, options).then((block) => {\n\t\t\t\tdrawBlock(canvas, block).then(resolve, reject);\n\t\t\t}, reject);\n\t\t});\n\t}\n\n\t/**\n\t * confirm\n\t * 큐를 하나 삭제하고 계속 `play`함수를 실행할지 종료할지 결정한다.\n\t *\n\t * @param {Canvas} image\n\t */\n\tfunction confirm(image)\n\t{\n\t\t// 큐 하나빼기\n\t\tqueues.splice(0, 1);\n\n\t\t// send progress event\n\t\tdefer.notify(queueTotal, current++, image);\n\n\t\t// check queues\n\t\tif (queues.length)\n\t\t{\n\t\t\tplay(queues[0]).then(confirm, error);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tend();\n\t\t}\n\t}\n\n\t/**\n\t * error\n\t *\n\t * @param {String} err\n\t */\n\tfunction error(err)\n\t{\n\t\tdefer.reject(err);\n\t}\n\n\t/**\n\t * end\n\t * `play`가 모두 끝났을때 호출. `done`으로 내보낸다.\n\t */\n\tfunction end()\n\t{\n\t\tswitch(options.output)\n\t\t{\n\t\t\tcase 'base64':\n\t\t\t\tdefer.resolve(canvasToBase64(canvas.el, options.format, options.quality));\n\t\t\t\tbreak;\n\t\t\tcase 'canvas':\n\t\t\tdefault:\n\t\t\t\tdefer.resolve(canvas.el);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t// check queue\n\tif (queues.length)\n\t{\n\t\t// play queue\n\t\tplay(queues[0]).then(confirm, error);\n\t}\n\telse\n\t{\n\t\t// not found queues\n\t\terror('not found queue');\n\t}\n\n\treturn defer.promise();\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/makingImage.js","/**\n * Canvas\n */\nexport default class Canvas {\n\n\t/**\n\t * constructor\n\t *\n\t * @param {Number} width\n\t * @param {Number} height\n\t * @param {String} bgColor\n\t */\n\tconstructor(width=150, height=100, bgColor='#ffffff')\n\t{\n\t\tthis.el = document.createElement('canvas');\n\t\tthis.ctx = this.el.getContext('2d');\n\n\t\tthis.el.width = width;\n\t\tthis.el.height = height;\n\n\t\tthis.ctx.fillStyle = bgColor;\n\t\tthis.ctx.fillRect(0, 0, width, height);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/Canvas.js","import * as lib from './';\n\n// default options\nconst defaultOptions = {\n\timage: null,\n\twidth: 100,\n\theight: 100,\n\treSampleCount: 1,\n\tbgColor: 'rgba(255,255,255,1)',\n\tcw: 0,\n\tch: 0,\n\tcx: 0,\n\tcy: 0,\n\tdw: 0,\n\tdh: 0,\n\tdx: 0,\n\tdy: 0,\n};\n\n\n/**\n * resize\n *\n * @param {Object} options\n * @param {Number} count\n * @param {Canvas} parentCanvas\n * @return {Promise}\n */\nfunction resize(options, count, parentCanvas)\n{\n\treturn new Promise(resolve => {\n\t\tfunction func(count, parentCanvas)\n\t\t{\n\t\t\tconst max = Math.pow(2, count);\n\t\t\tlet canvasForResize = new lib.Canvas(\n\t\t\t\toptions.width * max,\n\t\t\t\toptions.height * max,\n\t\t\t\toptions.bgColor\n\t\t\t);\n\n\t\t\tcanvasForResize.ctx.drawImage(\n\t\t\t\tparentCanvas.el,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tparentCanvas.el.width * 0.5,\n\t\t\t\tparentCanvas.el.height * 0.5\n\t\t\t);\n\n\t\t\tif (count > 0)\n\t\t\t{\n\t\t\t\tfunc(count - 1, canvasForResize);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresolve(canvasForResize);\n\t\t\t}\n\t\t}\n\n\t\tfunc(count - 1, parentCanvas);\n\t});\n}\n\n\n/**\n * resampling image\n *\n * @param {Object} options\n * @return {Promise}\n */\nexport default function resamplingImage(options)\n{\n\t// assign options\n\toptions = Object.assign({}, defaultOptions, options);\n\n\treturn new Promise((resolve, reject) => {\n\t\tif (!options.image) reject('not found image');\n\n\t\t// set reSample count\n\t\toptions.reSampleCount = Math.min(4, options.reSampleCount);\n\t\toptions.reSampleCount = Math.max(0, options.reSampleCount);\n\t\tconst reSampleMax = Math.pow(2, options.reSampleCount);\n\n\t\t// set canvas\n\t\tconst canvas = new lib.Canvas(\n\t\t\toptions.width * reSampleMax,\n\t\t\toptions.height * reSampleMax,\n\t\t\toptions.bgColor\n\t\t);\n\n\t\tcanvas.ctx.drawImage(\n\t\t\toptions.image,\n\t\t\toptions.cx, // cx\n\t\t\toptions.cy, // cy\n\t\t\toptions.cw, // cw\n\t\t\toptions.ch, // ch\n\t\t\toptions.dx * reSampleMax, // dx\n\t\t\toptions.dy * reSampleMax, // dy\n\t\t\toptions.dw * reSampleMax, // dw\n\t\t\toptions.dh * reSampleMax, // dh\n\t\t);\n\n\t\tif (options.reSampleCount > 0)\n\t\t{\n\t\t\tresize(options, options.reSampleCount, canvas).then(resolve);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tresolve(canvas);\n\t\t}\n\t});\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/resamplingImage.js","import React from 'react';\nimport classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport $ from 'jquery/dist/jquery.slim';\nimport ColorPicker from 'react-simple-colorpicker';\n\nimport * as actions from '../../../actions';\nimport * as libs from '../../../lib';\n\nimport Button from './Button';\nimport EditLayoutSetting from './EditLayoutSetting';\n\n\nclass Toolbar extends React.Component {\n\n\tstatic displayName = 'Toolbar';\n\n\tstatic defaultProps = {\n\t\tdispatch: null,\n\t\ttree: null,\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactive: {\n\t\t\t\tsetting: false,\n\t\t\t\teditBlockColor: false,\n\t\t\t},\n\t\t\tvisible: {\n\t\t\t\tsetting: true,\n\t\t\t\tshuffle: true,\n\t\t\t\tadd: true,\n\t\t\t\tselect: true,\n\t\t\t\tedit: false,\n\t\t\t\tremoveImage: false,\n\t\t\t\tduplicate: false,\n\t\t\t\tremoveBlock: false,\n\t\t\t\teditColor: false\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps)\n\t{\n\t\tconst { state, props } = this;\n\n\t\tlet newState = Object.assign({}, state);\n\t\tlet updated = false;\n\n\t\t// select block\n\t\tif (props.tree.body.activeBlock.length !== nextProps.tree.body.activeBlock.length)\n\t\t{\n\t\t\tlet active = !!(nextProps.tree.body.activeBlock.length);\n\t\t\tnewState.visible = Object.assign({}, newState.visible, {\n\t\t\t\tedit: false,\n\t\t\t\tremoveImage: false,\n\t\t\t\tduplicate: active,\n\t\t\t\tremoveBlock: active,\n\t\t\t\teditColor: active\n\t\t\t});\n\t\t\tupdated = true;\n\t\t}\n\n\t\tif (nextProps.tree.body.activeBlock[0])\n\t\t{\n\t\t\t// check image block\n\t\t\tlet isImage = false;\n\t\t\tnextProps.tree.body.activeBlock.some(k => {\n\t\t\t\tif (nextProps.tree.body.grid[k].image)\n\t\t\t\t{\n\t\t\t\t\tisImage = true;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// select image block\n\t\t\tlet block = nextProps.tree.body.grid[nextProps.tree.body.activeBlock[0]];\n\t\t\tnewState.visible = Object.assign({}, newState.visible, {\n\t\t\t\tremoveImage: isImage,\n\t\t\t\tedit: !!(block && block.image)\n\t\t\t});\n\t\t\tupdated = true;\n\t\t}\n\n\t\tif (updated)\n\t\t{\n\t\t\tthis.setState(newState);\n\t\t}\n\t}\n\n\tchangeActive(keyName, userSW, event)\n\t{\n\t\tconst { state } = this;\n\t\tconst sw = userSW || !state.active[keyName];\n\t\tconst cTarget = event ? event.currentTarget : null;\n\n\t\tif (sw)\n\t\t{\n\t\t\t$(document).on('click.pleToolbar', (e) => {\n\t\t\t\tif ($(e.target).closest('.ple-toolbar__pop').length) return;\n\t\t\t\tif (!(e.target === cTarget) && !(e.target.parentNode === cTarget))\n\t\t\t\t{\n\t\t\t\t\tthis.changeActive(keyName, false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$(document).off('click.pleToolbar');\n\t\t}\n\n\t\tthis.setState({\n\t\t\tactive: {\n\t\t\t\t...state.active,\n\t\t\t\tsetting: false,\n\t\t\t\teditColor: false,\n\t\t\t\t[keyName] : sw,\n\t\t\t}\n\t\t});\n\t}\n\n\tdeactivate()\n\t{\n\t\t$(document).off('click.pleToolbar');\n\t\treturn new Promise((reject) => {\n\t\t\tthis.setState({\n\t\t\t\tactive: {\n\t\t\t\t\tsetting: false,\n\t\t\t\t\teditColor: false,\n\t\t\t\t}\n\t\t\t}, reject);\n\t\t});\n\t}\n\n\t/**\n\t * Submit edit setting\n\t *\n\t * @param {Object} state\n\t * @return {Boolean}\n\t */\n\tsubmitEditSetting(state)\n\t{\n\t\t// update setting\n\t\tthis.props.dispatch(actions.body.updateSetting(state));\n\n\t\t// close palette\n\t\tlibs.util.sleep(50).then(() => this.changeActive('setting', false));\n\n\t\treturn false;\n\t}\n\n\trender()\n\t{\n\t\tconst { state, props } = this;\n\t\tlet activeBlockColor = '#fff';\n\n\t\tif (typeof props.tree.body.grid === 'object' && libs.object.isArray(props.tree.body.activeBlock))\n\t\t{\n\t\t\tconst n = props.tree.body.activeBlock[0];\n\t\t\tactiveBlockColor = (props.tree.body.grid[n] && props.tree.body.grid[n].color) ?\n\t\t\t\tprops.tree.body.grid[n].color :\n\t\t\t\tprops.setting.body.blockColor;\n\t\t}\n\n\t\treturn (\n\t\t\t<nav className=\"ple-toolbar\">\n\t\t\t\t<div className=\"ple-toolbar__wrap\">\n\t\t\t\t\t{state.visible.setting && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-setting\"\n\t\t\t\t\t\t\tclassName={classNames('ple-edit-setting', {\n\t\t\t\t\t\t\t\t'ple-toolbar__block-active': state.active.setting\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.persist();\n\t\t\t\t\t\t\t\tif (!state.active.setting)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.deactivate().then(() => {\n\t\t\t\t\t\t\t\t\t\tthis.changeActive('setting', null, e);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Edit preference\">\n\t\t\t\t\t\t\t<EditLayoutSetting\n\t\t\t\t\t\t\t\tsubmit={(e) => this.submitEditSetting(e)}\n\t\t\t\t\t\t\t\tsetting={props.tree.body.setting}\n\t\t\t\t\t\t\t\tdefaultSetting={props.setting.body.setting}/>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{state.visible.shuffle && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-arrow-random\"\n\t\t\t\t\t\t\tonClick={() => props.api.grid.shuffle()}\n\t\t\t\t\t\t\ttitle=\"Shuffle block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{state.visible.add && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-plus\"\n\t\t\t\t\t\t\tonClick={() => props.api.grid.add()}\n\t\t\t\t\t\t\ttitle=\"Add block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{state.visible.select && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-select\"\n\t\t\t\t\t\t\tonClick={() => props.api.grid.toggleSelectAll()}\n\t\t\t\t\t\t\ttitle=\"Toggle select block\"/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{state.visible.edit && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-pencil\"\n\t\t\t\t\t\t\tclassName=\"ple-toolbar__block-key\"\n\t\t\t\t\t\t\tonClick={() => props.api.cropper.open(props.tree.body.activeBlock[0])}\n\t\t\t\t\t\t\ttitle=\"Edit block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{state.visible.removeImage && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-empty\"\n\t\t\t\t\t\t\tclassName=\"ple-toolbar__block-key\"\n\t\t\t\t\t\t\tonClick={() => props.api.grid.removeImages(props.tree.body.activeBlock)}\n\t\t\t\t\t\t\ttitle=\"Remove image in block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{state.visible.duplicate && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-duplicate\"\n\t\t\t\t\t\t\tclassName=\"ple-toolbar__block-key\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (props.tree.body.activeBlock === null)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\talert('Not found select block');\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tprops.dispatch(actions.body.duplicateBlock(props.tree.body.activeBlock));\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Duplicate block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{state.visible.removeBlock && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-trash\"\n\t\t\t\t\t\t\tclassName=\"ple-toolbar__block-key\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (props.tree.body.activeBlock === null)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\talert('Not found select block');\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tprops.api.grid.remove(props.tree.body.activeBlock);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Remove block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{state.visible.editColor && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-palette\"\n\t\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t\t'ple-edit-color',\n\t\t\t\t\t\t\t\t'ple-toolbar__block-key',\n\t\t\t\t\t\t\t\t{ 'ple-toolbar__block-active': state.active.editColor }\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.persist();\n\t\t\t\t\t\t\t\tif (!state.active.editColor)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.deactivate().then(() => this.changeActive('editColor', null, e));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Change color\">\n\t\t\t\t\t\t\t<div className=\"ple-colorPicker__wrap\">\n\t\t\t\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\t\t\t\tonChange={(color) => {\n\t\t\t\t\t\t\t\t\t\tif (!color) return;\n\t\t\t\t\t\t\t\t\t\tprops.dispatch(actions.body.changeColorBlock(props.tree.body.activeBlock, color));\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tcolor={activeBlockColor}\n\t\t\t\t\t\t\t\t\tclassName=\"ple-colorPicker__body\"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state, {}))(Toolbar);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/Toolbar/index.js","import React from 'react';\nimport classNames from 'classnames';\n\n\nexport default class Button extends React.Component {\n\n\tstatic displayName = 'Button';\n\n\trender() {\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<div className={classNames('ple-toolbar__block', props.className)}>\n\t\t\t\t<button type=\"button\" title={props.title} onClick={props.onClick}>\n\t\t\t\t\t<i className={classNames('ple-sp-ico', 'ple-abs', props.iconClass)}>{props.title}</i>\n\t\t\t\t</button>\n\t\t\t\t{!!props.children && (\n\t\t\t\t\t<div className=\"ple-toolbar__pop\">{props.children}</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/Toolbar/Button.js","import React from 'react';\nimport $ from 'jquery/dist/jquery.slim';\nimport ColorPicker from 'react-simple-colorpicker';\nimport className from 'classnames';\n\n\nexport default class EditLayoutSetting extends React.Component {\n\n\tstatic displayName = 'EditLayoutSetting';\n\n\tstatic defaultProps = {\n\t\tsubmit: (e) => {},\n\t\tsetting: null,\n\t\tdefaultSetting: {\n\t\t\twidth: 100,\n\t\t\theight: 100,\n\t\t\tcolumn: 5,\n\t\t\touterMargin: 10,\n\t\t\tinnerMargin: 10,\n\t\t\tfreeMode: false,\n\t\t\tbgColor: 'rgba(255,255,255,1)',\n\t\t},\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\t...props.defaultSetting,\n\t\t\t...props.setting,\n\t\t\tpopup_bgColor: false,\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps()\n\t{\n\t\tconst { props } = this;\n\n\t\tthis.setState({\n\t\t\t...props.defaultSetting,\n\t\t\t...props.setting,\n\t\t});\n\t}\n\n\tactiveBgColorPopup(sw, e)\n\t{\n\t\tconst { state } = this;\n\t\tconst cTarget = e ? e.currentTarget : null;\n\n\t\tsw = sw || !state.popup_bgColor;\n\n\t\tif (sw)\n\t\t{\n\t\t\t$(document).on('click.pleEditBgColor', (e) => {\n\t\t\t\tif ($(e.target).closest('.ple-edit-bgColor__popup').length) return;\n\t\t\t\tif (!(e.target === cTarget) && !(e.target.parentNode === cTarget))\n\t\t\t\t{\n\t\t\t\t\tthis.activeBgColorPopup(false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$(document).off('click.pleEditBgColor');\n\t\t}\n\n\t\tthis.setState({ popup_bgColor: sw });\n\t}\n\n\t_submit(e)\n\t{\n\t\te.preventDefault();\n\t\tthis.props.submit(this.state);\n\t}\n\n\t_reset()\n\t{\n\t\tthis.setState({\n\t\t\t...this.props.defaultSetting\n\t\t});\n\t}\n\n\t_change(e)\n\t{\n\t\tlet value = e.target.value || '';\n\t\tswitch(e.target.type) {\n\t\t\tcase 'text':\n\t\t\t\tthis.setState({ [e.target.name]: value });\n\t\t\t\tbreak;\n\t\t\tcase 'number':\n\t\t\t\tvalue = value || 0;\n\t\t\t\tthis.setState({ [e.target.name]: parseInt(value) });\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t_openBgColorPicker(e)\n\t{\n\t\te.persist();\n\t\tthis.activeBgColorPopup(null, e);\n\t}\n\n\trender()\n\t{\n\t\tconst { state, props } = this;\n\n\t\treturn (\n\t\t\t<form onSubmit={(e) => this._submit(e)} className=\"ple-edit-setting\">\n\t\t\t\t<fieldset className=\"ple-edit-setting__form\">\n\t\t\t\t\t<legend>Settings form</legend>\n\t\t\t\t\t<h1 className=\"ple-edit-setting__title\">Settings</h1>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_width\">Width</label></dt>\n\t\t\t\t\t\t<dd className=\"ple-type-input\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"width\" id=\"frm_width\"\n\t\t\t\t\t\t\t\tmin={1} max={999} maxLength={3}\n\t\t\t\t\t\t\t\tvalue={state.width}\n\t\t\t\t\t\t\t\tonChange={(e) => this._change(e)}\n\t\t\t\t\t\t\t\tstyle={{ width: '72px' }}\n\t\t\t\t\t\t\t\trequired/>\n\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_height\">Height</label></dt>\n\t\t\t\t\t\t<dd className=\"ple-type-input\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"height\" id=\"frm_height\"\n\t\t\t\t\t\t\t\tmin={1} max={999}\n\t\t\t\t\t\t\t\tvalue={state.height}\n\t\t\t\t\t\t\t\tonChange={(e) => this._change(e)}\n\t\t\t\t\t\t\t\tstyle={{ width: '72px' }}\n\t\t\t\t\t\t\t\trequired/>\n\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_column\">Column</label></dt>\n\t\t\t\t\t\t<dd className=\"ple-type-input\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"column\" id=\"frm_column\"\n\t\t\t\t\t\t\t\tmin={1} max={99}\n\t\t\t\t\t\t\t\tvalue={state.column}\n\t\t\t\t\t\t\t\tonChange={(e) => this._change(e)}\n\t\t\t\t\t\t\t\tstyle={{ width: '54px' }}\n\t\t\t\t\t\t\t\trequired />\n\t\t\t\t\t\t\t<span>ea</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl className=\"ple-type-input\">\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_outerMargin\">Outer margin</label></dt>\n\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"outerMargin\" id=\"frm_outerMargin\"\n\t\t\t\t\t\t\t\tmin={0} max={500}\n\t\t\t\t\t\t\t\tvalue={state.outerMargin}\n\t\t\t\t\t\t\t\tonChange={(e) => this._change(e)}\n\t\t\t\t\t\t\t\tstyle={{ width: '58px' }}\n\t\t\t\t\t\t\t\trequired />\n\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl className=\"ple-type-input\">\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_innerMargin\">Inner margin</label></dt>\n\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"innerMargin\" id=\"frm_innerMargin\"\n\t\t\t\t\t\t\t\tmin={0} max={500}\n\t\t\t\t\t\t\t\tvalue={state.innerMargin}\n\t\t\t\t\t\t\t\tonChange={(e) => this._change(e)}\n\t\t\t\t\t\t\t\tstyle={{ width: '58px' }}\n\t\t\t\t\t\t\t\trequired />\n\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_bgColor\">Bg color</label></dt>\n\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t<div className=\"ple-edit-bgColor\">\n\t\t\t\t\t\t\t\t<span className={className('ple-edit-bgColor__inputBox', {\n\t\t\t\t\t\t\t\t\t'ple-edit-bgColor__inputBox-active': state.popup_bgColor\n\t\t\t\t\t\t\t\t})}>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tname=\"bgColor\"\n\t\t\t\t\t\t\t\t\t\tid=\"frm_bgColor\"\n\t\t\t\t\t\t\t\t\t\tvalue={state.bgColor}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => this._change(e)}\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => this._openBgColorPicker(e)}\n\t\t\t\t\t\t\t\t\t\treadOnly={true}\n\t\t\t\t\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\t\t\t\t\tclassName=\"ple-edit-bgColor__input\"\n\t\t\t\t\t\t\t\t\t    style={{ backgroundColor: state.bgColor }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{state.popup_bgColor && (\n\t\t\t\t\t\t\t\t\t<div className=\"ple-edit-bgColor__popup\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"ple-edit-bgColor__picker\">\n\t\t\t\t\t\t\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(color) => this.setState({ bgColor: color })}\n\t\t\t\t\t\t\t\t\t\t\t\tcolor={state.bgColor}/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_freeMode\">Free mode</label></dt>\n\t\t\t\t\t\t<dd className=\"ple-type-checkbox\">\n\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"radio\" name=\"freeMode\" id=\"frm_freeMode\"\n\t\t\t\t\t\t\t\t\tonChange={() => this.setState({ freeMode: true })}\n\t\t\t\t\t\t\t\t\tchecked={state.freeMode}/>\n\t\t\t\t\t\t\t\t<span>true</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"radio\" name=\"freeMode\"\n\t\t\t\t\t\t\t\t\tonChange={() => this.setState({ freeMode: false })}\n\t\t\t\t\t\t\t\t\tchecked={!state.freeMode}/>\n\t\t\t\t\t\t\t\t<span>false</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t</fieldset>\n\n\t\t\t\t<nav className=\"ple-edit-setting__buttons\">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<button type=\"button\" onClick={() => this._reset()}>Reset</button>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<button type=\"submit\" className=\"ple-submit\">Apply</button>\n\t\t\t\t\t</span>\n\t\t\t\t</nav>\n\t\t\t</form>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/Toolbar/EditLayoutSetting.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\nimport $ from 'jquery/dist/jquery.slim';\n\nimport * as actions from '../../actions';\n\nimport ToggleSideButton from './ToggleSideButton';\nimport Navigation from './Navigation';\nimport Items from './Items';\n\nimport * as lib from '../../lib';\nimport selectItems from './selectItems';\n\n\nclass Side extends React.Component {\n\n\tstatic displayName = 'Side';\n\n\tstatic defaultProps = {\n\t\ttree: {}, // data tree in reduce\n\t\tsetting: {}, // setting in reduce\n\t\tapi: {}, // api\n\t\tdispatch: null, // redux dispatch\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis.dragTarget = null;\n\t\tthis.dragPosition = [];\n\t\tthis.$gridItems = null;\n\t\tthis.$dragItem = null;\n\t\tthis.uploading = false;\n\t}\n\n\t/**\n\t * get gridster item\n\t * 포인트 위치에 있는 gridster블럭을 가져온다.\n\t *\n\t * @return {Object} gridster item\n\t */\n\tgetGridsterItem()\n\t{\n\t\tconst { props } = this;\n\t\tlet target = null;\n\t\tthis.$gridItems = $(props.element).find('.ple-grid > div');\n\n\t\tthis.$gridItems.each((n, el) => {\n\t\t\tconst $this = $(el);\n\t\t\tconst pos = $this.offset();\n\t\t\tif (pos.left < this.dragPosition[0] &&\n\t\t\t\t(pos.left + $this.width()) > this.dragPosition[0] &&\n\t\t\t\tpos.top < this.dragPosition[1] &&\n\t\t\t\t(pos.top + $this.height()) > this.dragPosition[1])\n\t\t\t{\n\t\t\t\ttarget = $this.data('key');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\treturn target;\n\t}\n\n\t/**\n\t * On select items\n\t *\n\t * @param {Number} key\n\t */\n\t_selectItem(key)\n\t{\n\t\tconst { props } = this;\n\t\tlet selected = selectItems(props, key);\n\t\tprops.api.side.select(selected);\n\t}\n\n\t/**\n\t * Remove items\n\t */\n\t_removeItems()\n\t{\n\t\tconst { props } = this;\n\t\tlet keys = props.api.side.getKeys('selected');\n\n\t\tif (keys.length)\n\t\t{\n\t\t\tif (confirm('Do you really want to delete it?'))\n\t\t\t{\n\t\t\t\tprops.api.side.remove(keys);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (!confirm('Delete all?')) return;\n\t\t\tkeys = props.api.side.getKeys('all');\n\t\t\tprops.api.side.remove(keys);\n\t\t}\n\t}\n\n\t/**\n\t * upload\n\t *\n\t * @param {FileList} files\n\t */\n\t_upload(files)\n\t{\n\t\tconst { props } = this;\n\t\tprops.api.side.upload(files);\n\t}\n\n\t/**\n\t * Attach images to grid\n\t */\n\t_attach()\n\t{\n\t\ttry\n\t\t{\n\t\t\tlet keys = this.props.api.side.getKeys('selected');\n\t\t\tlet result = this.props.api.side.attachToGrid(keys);\n\t\t\tif (result) throw result;\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\talert(e.message);\n\t\t}\n\t}\n\n\t_dragStartItem(evt)\n\t{\n\t\tconst { props } = this;\n\n\t\t// for firefox\n\t\tevt.dataTransfer.setData('text/plain', null);\n\n\t\tthis.$gridItems = $(props.element).find('.ple-grid > div');\n\t\tthis.$gridItems.on('dragover', (e) => {\n\t\t\te.preventDefault();\n\t\t\tif ($(e.currentTarget).hasClass('ple-grid__item-hover')) return;\n\t\t\t$(e.currentTarget).addClass('ple-grid__item-hover');\n\t\t}).on('dragleave', (e) => {\n\t\t\te.preventDefault();\n\t\t\t$(e.currentTarget).removeClass('ple-grid__item-hover');\n\t\t}).on('drop', (e) => {\n\t\t\te.preventDefault();\n\t\t\t$(e.currentTarget).removeClass('ple-grid__item-hover');\n\t\t\tthis.dragTarget = $(e.currentTarget).data('key');\n\t\t});\n\t}\n\t_dragEndItem(e)\n\t{\n\t\tconst { props } = this;\n\n\t\tthis.$gridItems.off();\n\t\tthis.$gridItems = null;\n\n\t\t// check drag target\n\t\tif (this.dragTarget === null) return;\n\n\t\t// play redux\n\t\tprops.dispatch(actions.body.attachImage(\n\t\t\tthis.dragTarget,\n\t\t\t$(e.currentTarget).data('image')\n\t\t));\n\n\t\t// empty dragTarget\n\t\tthis.dragTarget = null;\n\t}\n\t_touchStartItem(e)\n\t{\n\t\tthis.$dragItem = $(e.currentTarget)\n\t\t\t.clone()\n\t\t\t.removeAttr('draggable')\n\t\t\t.addClass('ple-side__placeholder')\n\t\t\t.width($(e.currentTarget).width())\n\t\t\t.height($(e.currentTarget).height());\n\n\t\t$('body').append(this.$dragItem);\n\t}\n\t_touchMoveItem(e)\n\t{\n\t\tif (!lib.util.checkSupportCss('touch-action', 'pan-y'))\n\t\t{\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tlet touch = e.nativeEvent.touches[0];\n\t\tthis.dragPosition = [touch.pageX, touch.pageY];\n\t\tthis.$dragItem.css({\n\t\t\tleft: touch.pageX - (this.$dragItem.width() * 0.5),\n\t\t\ttop: touch.pageY - (this.$dragItem.height() * 0.5)\n\t\t});\n\t}\n\t_touchEndItem(e)\n\t{\n\t\tconst { props } = this;\n\n\t\tthis.$dragItem.remove();\n\t\tthis.$dragItem = null;\n\n\t\tif (this.dragPosition.length > 0)\n\t\t{\n\t\t\tthis.dragTarget = this.getGridsterItem();\n\n\t\t\t// check drag target\n\t\t\tif (this.dragTarget === null) return;\n\n\t\t\t// play redux\n\t\t\tprops.dispatch(actions.body.attachImage(\n\t\t\t\tthis.dragTarget,\n\t\t\t\t$(e.currentTarget).data('image')\n\t\t\t));\n\t\t\tthis.dragPosition = [];\n\t\t}\n\t}\n\n\trender()\n\t{\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<aside className=\"ple-side\">\n\t\t\t\t<div className={classNames(\n\t\t\t\t\t'ple-side__wrap',\n\t\t\t\t\t{ 'ple-side__wrap-show': props.tree.side.visible }\n\t\t\t\t)}>\n\t\t\t\t\t<span\n\t\t\t\t\t\tonClick={() => props.api.side.toggleSelectAll(false)}\n\t\t\t\t\t\tclassName=\"ple-side__background\"/>\n\t\t\t\t\t<ToggleSideButton\n\t\t\t\t\t\tshow={props.tree.side.visible}\n\t\t\t\t\t\tonClick={() => props.api.util.toggleSide(undefined)}/>\n\t\t\t\t\t<Navigation\n\t\t\t\t\t\tonAttach={() => this._attach()}\n\t\t\t\t\t\tonToggleSelect={() => props.api.side.toggleSelectAll()}\n\t\t\t\t\t\tonUpload={(e) => this._upload(e)}\n\t\t\t\t\t\tonRemove={() => this._removeItems()}/>\n\t\t\t\t\t<Items\n\t\t\t\t\t\tfiles={props.tree.side.files}\n\t\t\t\t\t\tonSelect={(e) => this._selectItem(e)}\n\t\t\t\t\t\tonDragStart={(e) => this._dragStartItem(e)}\n\t\t\t\t\t\tonDragEnd={(e) => this._dragEndItem(e)}\n\t\t\t\t\t\tonTouchStart={(e) => this._touchStartItem(e)}\n\t\t\t\t\t\tonTouchMove={(e) => this._touchMoveItem(e)}\n\t\t\t\t\t\tonTouchEnd={(e) => this._touchEndItem(e)}\n\t\t\t\t\t\tprogress={props.tree.side.progressPercent}/>\n\t\t\t\t</div>\n\t\t\t</aside>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state))(Side);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/index.js","import React, { Component } from 'react';\nimport classNames from 'classnames';\n\n\nexport default class ToggleSideButton extends Component {\n\n\tstatic displayName = 'ToggleSideButton';\n\n\tstatic defaultProps = {\n\t\tshow: false,\n\t\tonClick: () => {}\n\t};\n\n\trender() {\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<button type=\"button\" onClick={props.onClick} className=\"ple-side__toggle\">\n\t\t\t\t<span>\n\t\t\t\t\t<i className={classNames(\n\t\t\t\t\t\t'ple-sp-ico',\n\t\t\t\t\t\t'ple-abs',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'ple-ico-arrow-right': props.show,\n\t\t\t\t\t\t\t'ple-ico-arrow-left': !props.show\n\t\t\t\t\t\t}\n\t\t\t\t\t)}>\n\t\t\t\t\t\tToggle sidebar\n\t\t\t\t\t</i>\n\t\t\t\t</span>\n\t\t\t</button>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/ToggleSideButton/index.js","import React from 'react';\n\n\nexport default class SideNavigation extends React.Component {\n\n\tstatic displayName = 'Navigation';\n\n\tstatic defaultProps = {\n\t\tonRemove: () => {},\n\t\tonToggleSelect: () => {},\n\t\tonAttach: () => {},\n\t\tonUpload: () => {},\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttimestamp : Date.now(),\n\t\t};\n\t}\n\n\t/**\n\t * Upload images\n\t *\n\t * @param {Event} e\n\t */\n\tupload(e) {\n\t\tthis.props.onUpload(e.target.files);\n\n\t\tthis.setState({\n\t\t\ttimestamp : Date.now()\n\t\t});\n\t}\n\n\trender() {\n\t\tconst { props, state } = this;\n\n\t\treturn (\n\t\t\t<nav className=\"ple-sideNavigation ple-side__navigation\">\n\t\t\t\t<div className=\"ple-sideNavigation__wrap\">\n\t\t\t\t\t<button type=\"button\" title=\"attach images\" onClick={props.onAttach}>\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-reply ple-abs\">Moving the image to grid block</i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button type=\"button\" title=\"toggle select\" onClick={props.onToggleSelect}>\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-select ple-abs\">Toggle all select</i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<span title=\"upload images\" key={state.timestamp}>\n\t\t\t\t\t\t<input type=\"file\" ref=\"inputFile\" onChange={(e) => this.upload(e)} multiple />\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-upload ple-abs\">upload images</i>\n\t\t\t\t\t</span>\n\t\t\t\t\t<button type=\"button\" title=\"remove images\" onClick={props.onRemove}>\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-trash ple-abs\">remove images</i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/Navigation/index.js","import React from 'react';\n\nimport Item from './Item';\n\n\nexport default class Items extends React.Component {\n\n\tstatic displayName = 'Items';\n\n\tstatic defaultProps = {\n\t\tfiles: [], // files\n\t\tonSelect: (key) => {}, // on select event\n\t\tonDragStart: null, // on drag start\n\t\tonDragEnd: null, // on drag end\n\t\tonTouchStart: null, // on touch start\n\t\tonTouchMove: null, // on touch move\n\t\tonTouchEnd: null, // on touch end\n\t\tprogress: null, // on progress number\n\t};\n\n\trender() {\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<div className=\"ple-sideItems\">\n\t\t\t\t<div className=\"ple-sideItems__wrap\">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{Object.keys(props.files).map((o) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\t\tkey={o}\n\t\t\t\t\t\t\t\t\tid={o}\n\t\t\t\t\t\t\t\t\timage={props.files[o].image}\n\t\t\t\t\t\t\t\t\tonDragStart={props.onDragStart}\n\t\t\t\t\t\t\t\t\tonDragEnd={props.onDragEnd}\n\t\t\t\t\t\t\t\t\tonTouchStart={props.onTouchStart}\n\t\t\t\t\t\t\t\t\tonTouchMove={props.onTouchMove}\n\t\t\t\t\t\t\t\t\tonTouchEnd={props.onTouchEnd}\n\t\t\t\t\t\t\t\t\tonClick={() => props.onSelect(parseInt(o))}\n\t\t\t\t\t\t\t\t\tactive={props.files[o].active}/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t{props.progress !== null && (\n\t\t\t\t\t\t\t<li className=\"ple-sideItems__loading\">\n\t\t\t\t\t\t\t\t<div className=\"ple-sideItems__progress\">\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclassName=\"ple-sideItems__bar\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ height: `${props.progress}%` }}/>\n\t\t\t\t\t\t\t\t\t<span className=\"ple-sideItems__percent\">{`${props.progress}%`}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/Items/index.js","import React from 'react';\nimport classNames from 'classnames';\n\nimport * as lib from '../../../lib';\n\n\nexport default class Item extends React.Component {\n\n\tstatic displayName = 'Item';\n\n\tstatic defaultProps = {\n\t\timage: null, // image\n\t\tid: null, // id\n\t\tactive: null, // active item\n\t\tonClick: null, // on click item\n\t\tonDragStart: null, // on drag start\n\t\tonDragEnd: null, // on drag end\n\t\tonTouchStart: null, // on touch start\n\t\tonTouchMove: null, // on touch move\n\t\tonTouchEnd: null, // on touch end\n\t};\n\n\trender() {\n\t\tconst { props } = this;\n\n\t\tlet attr = Object.assign({},\n\t\t\tlib.util.isTouchDevice() ? {\n\t\t\t\tonTouchStart: props.onTouchStart,\n\t\t\t\tonTouchMove: props.onTouchMove,\n\t\t\t\tonTouchEnd: props.onTouchEnd\n\t\t\t} : {\n\t\t\t\tonDragStart: props.onDragStart,\n\t\t\t\tonDragEnd: props.onDragEnd\n\t\t\t});\n\n\t\treturn (\n\t\t\t<li>\n\t\t\t\t<span\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tdata-id={props.id}\n\t\t\t\t\tdata-image={props.image}\n\t\t\t\t\tdraggable={true}\n\t\t\t\t\tonClick={props.onClick}\n\t\t\t\t\t{...attr}\n\t\t\t\t\tstyle={{ backgroundImage: `url('${props.image}')` }}\n\t\t\t\t\tclassName={classNames({ 'ple-sideItems__item-active': props.active })}/>\n\t\t\t</li>\n\t\t);\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/Items/Item.js","let firstSelectIdx = null;\n\n\n/**\n * Change active\n *\n * @param {Number} key\n * @param {Object} item\n * @param {Number} start\n * @param {Number} end\n * @param {String} type press key name and select type\n * @return {Object}\n */\nfunction changeActive(key, item, start, end, type)\n{\n\tswitch(type)\n\t{\n\t\tcase 'add':\n\t\t\treturn {\n\t\t\t\tkey: key,\n\t\t\t\tactive: (key === end) ? !item.active : item.active\n\t\t\t};\n\t\tcase 'range':\n\t\t\tstart = start || 0;\n\t\t\tif (start < end)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tkey: key,\n\t\t\t\t\tactive: key >= start && key <= end\n\t\t\t\t};\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tkey: key,\n\t\t\t\t\tactive: key <= start && key >= end\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn item;\n\t}\n\n\t// not found type\n\tif (key === end)\n\t{\n\t\treturn { key: key, active: !item.active };\n\t}\n\telse\n\t{\n\t\treturn { key: key, active: false };\n\t}\n}\n\n\n/**\n * select items\n *\n * @param {Object} props\n * @param {Number} key\n * @return {Object}\n */\nexport default function selectItems(props, key)\n{\n\tconst { keyName } = props.keyboard;\n\tconst { files } = props.tree.side;\n\tlet type = null;\n\tlet selected = false;\n\tlet items = {};\n\n\tif (keyName !== 'SHIFT')\n\t{\n\t\tlet currentItem = null;\n\t\tObject.keys(props.tree.side.files).forEach(k => {\n\t\t\tlet obj = props.tree.side.files[k];\n\t\t\tif (parseInt(k) === key)\n\t\t\t{\n\t\t\t\tcurrentItem = obj;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\tfirstSelectIdx = (currentItem.active === true) ? null : key;\n\t\tif (!firstSelectIdx && currentItem.active === true)\n\t\t{\n\t\t\tfirstSelectIdx = currentItem.key;\n\t\t}\n\t}\n\n\tswitch (keyName) {\n\t\tcase 'CTRL':\n\t\tcase 'CMD':\n\t\t\ttype = 'add';\n\t\t\tbreak;\n\t\tcase 'SHIFT':\n\t\t\ttype = 'range';\n\t}\n\n\tObject.keys(files).forEach(k => {\n\t\tlet obj = changeActive(parseInt(k), files[k], firstSelectIdx, key, type);\n\t\tif (obj.active)\n\t\t{\n\t\t\tselected = true;\n\t\t}\n\t\titems[k] = obj;\n\t});\n\n\tif (!selected)\n\t{\n\t\tfirstSelectIdx = null;\n\t}\n\n\treturn items;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/selectItems.js","import { combineReducers } from 'redux';\n\nimport * as core from './core';\nimport * as body from './body';\nimport side from './side';\nimport * as cropper from './cropper';\n\n\nexport default combineReducers({\n\n\t// settings\n\tsetting: core.setting,\n\n\t// api\n\tapi: core.api,\n\n\t// keyboard event\n\tkeyboard: core.keyboard,\n\n\t// element\n\telement: core.element,\n\n\t// data tree\n\ttree: combineReducers({\n\t\tside,\n\t\tbody: combineReducers({\n\t\t\tsetting: body.setting,\n\t\t\tgrid: body.grid,\n\t\t\tactiveBlock: body.activeBlock\n\t\t}),\n\t\tcropper: combineReducers({\n\t\t\tvisible: cropper.visible,\n\t\t\titem: cropper.item,\n\t\t\tkey: cropper.key\n\t\t})\n\t})\n\n});\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/index.js","import * as types from '../actions/types';\nimport Keyboard from '../lib/Keyboard';\nimport * as defaults from './defaults';\n\n\nexport function setting(state=null, action)\n{\n\tlet newState = Object.assign({}, state);\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\tnewState = Object.assign({}, {\n\t\t\t\tbase: {\n\t\t\t\t\t...defaults.setting.base,\n\t\t\t\t\tuploadScript: action.preference.uploadScript || defaults.setting.base.uploadScript,\n\t\t\t\t\tuploadParamsConvertFunc: action.preference.uploadParamsConvertFunc || defaults.setting.base.uploadParamsConvertFunc,\n\t\t\t\t\tupdateStoreFunc: action.preference.updateStoreFunc || defaults.setting.base.updateStoreFunc,\n\t\t\t\t},\n\t\t\t\tside: {\n\t\t\t\t\t...defaults.setting.side,\n\t\t\t\t\t...action.preference.side\n\t\t\t\t},\n\t\t\t\tbody: {\n\t\t\t\t\t...defaults.setting.body,\n\t\t\t\t\t...action.preference.body,\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function api(state=null, action)\n{\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn action.api;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function keyboard(state=null, action)\n{\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn new Keyboard();\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function element(state=null, action)\n{\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn action.element;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/core.js","import $ from 'jquery/dist/jquery.slim';\n\nimport * as libs from '../lib';\n\n\nexport default class Keyboard {\n\n\tconstructor()\n\t{\n\t\tthis.eventName = `PLE_${libs.number.getTimeStamp()}`;\n\t\tthis.code = null;\n\t\tthis.keyName = null;\n\t\tthis.names = {\n\t\t\t17: 'CTRL',\n\t\t\t18: 'ALT',\n\t\t\t91: 'CMD',\n\t\t\t93: 'CMD',\n\t\t\t16: 'SHIFT',\n\t\t};\n\n\t\t// init key down event\n\t\t$(window).on(`keydown.${this.eventName}`, (e) => this._keyDown(e));\n\t}\n\n\t/**\n\t * apply\n\t *\n\t * @param {Number} code\n\t */\n\tapply(code)\n\t{\n\t\tthis.code = code;\n\t\tthis.keyName = this.names[this.code] || null;\n\t}\n\n\t/**\n\t * key down event\n\t *\n\t * @param {Event} e\n\t */\n\t_keyDown(e)\n\t{\n\t\t// apply keyCode\n\t\tthis.apply(e.keyCode);\n\n\t\t// set events\n\t\t$(window)\n\t\t\t.on(`keyup.${this.eventName}`, () => this._keyUp())\n\t\t\t.on(`contextmenu.${this.eventName}`, () => this._keyUp())\n\t\t\t.on(`blur.${this.eventName}`, () => this._keyUp())\n\t\t\t.off(`keydown.${this.eventName}`);\n\t}\n\n\t/**\n\t * key up event\n\t *\n\t */\n\t_keyUp()\n\t{\n\t\t// apply keyCode\n\t\tthis.apply(null);\n\n\t\t// set events\n\t\t$(window)\n\t\t\t.on(`keydown.${this.eventName}`, (e) => this._keyDown(e))\n\t\t\t.off(`contextmenu.${this.eventName} keyup.${this.eventName} blur.${this.eventName}`);\n\t}\n\n\t/**\n\t * destroy event\n\t *\n\t */\n\tdestroy()\n\t{\n\t\t$(window).off(`keydown.${this.eventName} contextmenu.${this.eventName} keyup.${this.eventName} blur.${this.eventName}`);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/Keyboard.js","import * as types from '../actions/types';\nimport * as libs from '../lib';\nimport * as defaults from './defaults';\n\n\nlet lastGridId = 0;\nlet shuffleIndex = 0;\n\n\n/**\n * setting\n *\n * @param {Object} state\n * @param {*} action\n * @return {Object}\n */\nexport function setting(state=defaults.setting.body.setting, action)\n{\n\tswitch(action.type)\n\t{\n\t\tcase types.INIT_PLE:\n\t\t\ttry {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...action.preference.body.setting\n\t\t\t\t};\n\t\t\t} catch(e) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\tcase types.GRID_SETTING_UPDATE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.value,\n\t\t\t};\n\t}\n\treturn state;\n}\n\n/**\n * grid\n *\n * @param {Object} state\n * @param {*} action\n * @return {Object}\n */\nexport function grid(state={}, action)\n{\n\tlet newState = Object.assign({}, state);\n\n\tswitch (action.type)\n\t{\n\t\tcase types.INIT_PLE:\n\t\t\tlet grid = {};\n\t\t\ttry {\n\t\t\t\tif ((action.preference.body.grid instanceof Array))\n\t\t\t\t{\n\t\t\t\t\taction.preference.body.grid.forEach((o, k) => {\n\t\t\t\t\t\tgrid[k] = o;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse if (typeof action.preference.body.grid === 'object')\n\t\t\t\t{\n\t\t\t\t\tgrid = action.preference.body.grid;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthrow 'error';\n\t\t\t\t}\n\t\t\t\tObject.keys(grid).forEach((o) => {\n\t\t\t\t\tnewState[lastGridId++] = {\n\t\t\t\t\t\tcolor: defaults.setting.body.blockColor,\n\t\t\t\t\t\t...grid[o],\n\t\t\t\t\t\tindexPrefix: shuffleIndex,\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t} catch(e) {\n\t\t\t\tnewState = {};\n\t\t\t}\n\t\t\treturn newState;\n\n\t\tcase types.GRID_ADD_BLOCK:\n\t\t\tnewState[lastGridId++] = {\n\t\t\t\tcolor: defaults.setting.body.blockColor,\n\t\t\t\tlayout: { x: Infinity, y: Infinity, w: 1, h: 1 },\n\t\t\t\t...action.value,\n\t\t\t\tindexPrefix: shuffleIndex,\n\t\t\t};\n\t\t\treturn newState;\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\tif (!action.keys || !action.keys.length) return state;\n\t\t\taction.keys.forEach(o => {\n\t\t\t\tdelete newState[o];\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_SHUFFLE_BLOCKS:\n\t\t\treturn Object.keys(newState).map((k) => {\n\t\t\t\treturn {\n\t\t\t\t\t...newState[k],\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\tx: libs.number.randomRange(0, action.value.x - 1),\n\t\t\t\t\t\ty: libs.number.randomRange(0, action.value.y - 1),\n\t\t\t\t\t\tw: libs.number.randomRange(1, action.value.w),\n\t\t\t\t\t\th: libs.number.randomRange(1, action.value.h),\n\t\t\t\t\t},\n\t\t\t\t\tindexPrefix: shuffleIndex++,\n\t\t\t\t};\n\t\t\t});\n\n\t\tcase types.GRID_DUPLICATE_BLOCK:\n\t\t\taction.keys.forEach(k => {\n\t\t\t\tif (!newState[k]) return;\n\t\t\t\tnewState[lastGridId++] = Object.assign({}, newState[k]);\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_CHANGE_COLOR:\n\t\t\taction.keys.forEach(k => {\n\t\t\t\tif (!newState[k]) return;\n\t\t\t\tnewState[k].color = action.color;\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_ATTACH_IMAGES:\n\t\t\tif (!libs.object.isArray(action.value)) return state;\n\n\t\t\tif (action.activeBlocks && action.activeBlocks.length)\n\t\t\t{\n\t\t\t\tObject.keys(newState).forEach((k) => {\n\t\t\t\t\tif (!action.value.length) return;\n\t\t\t\t\tif (action.activeBlocks.indexOf(k) === -1) return;\n\t\t\t\t\tnewState[k].image = {\n\t\t\t\t\t\tsrc: action.value.splice(0,1)[0],\n\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\tsize: 'cover'\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tObject.keys(newState).forEach((k) => {\n\t\t\t\t\tif (newState[k].image) return;\n\t\t\t\t\tif (!action.value || !action.value.length) return;\n\t\t\t\t\tnewState[k].image = {\n\t\t\t\t\t\tsrc: action.value.splice(0,1)[0],\n\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\tsize: 'cover'\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tif (action.value.length)\n\t\t\t\t{\n\t\t\t\t\taction.value.forEach((o, k) => {\n\t\t\t\t\t\tnewState[lastGridId++] = {\n\t\t\t\t\t\t\tcolor: defaults.setting.body.blockColor,\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\tx: (Object.keys(state).length + k) % action.columns,\n\t\t\t\t\t\t\t\ty: Infinity,\n\t\t\t\t\t\t\t\tw: 1,\n\t\t\t\t\t\t\t\th: 1\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\timage: {\n\t\t\t\t\t\t\t\tsrc: o,\n\t\t\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\t\t\tsize: 'cover',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tindexPrefix: shuffleIndex\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn newState;\n\n\t\tcase types.GRID_ATTACH_IMAGE:\n\t\t\tif (!(action.image && typeof action.image === 'string')) return state;\n\t\t\tif (!newState[action.keys]) return state;\n\n\t\t\tnewState[action.keys].image = {\n\t\t\t\tsrc: action.image,\n\t\t\t\tposition: '50% 50%',\n\t\t\t\tsize: 'cover',\n\t\t\t};\n\t\t\treturn newState;\n\n\t\tcase types.GRID_UPDATE_BLOCKS:\n\t\t\treturn Object.assign({}, state, action.value);\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\tif (!newState[action.key]) return state;\n\t\t\tif (action.position)\n\t\t\t{\n\t\t\t\tnewState[action.key].image.position = action.position;\n\t\t\t}\n\t\t\tif (action.size)\n\t\t\t{\n\t\t\t\tnewState[action.key].image.size = action.size;\n\t\t\t}\n\t\t\treturn newState;\n\t}\n\n\treturn state;\n}\n\n/**\n * active block\n *\n * @param {Array} state\n * @param {*} action\n * @return {Array}\n */\nexport function activeBlock(state=[], action)\n{\n\tlet newState = Object.assign([], state);\n\n\tswitch (action.type)\n\t{\n\t\tcase types.GRID_ACTIVE_BLOCK:\n\t\t\treturn action.value;\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\tif (action.keys && action.keys.length)\n\t\t\t{\n\t\t\t\taction.keys.forEach(o => {\n\t\t\t\t\tif (newState.indexOf(o) < 0) return;\n\t\t\t\t\tnewState.splice(newState.indexOf(o), 1);\n\t\t\t\t});\n\t\t\t\treturn newState;\n\t\t\t}\n\t\t\treturn [];\n\t}\n\n\treturn state;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/body.js","import * as types from '../actions/types';\nimport * as defaults from './defaults';\n\n\nlet nextFileId = 0;\n\n\n/**\n * Reducers\n */\n\n// base\nexport default function base(state=defaults.side, action)\n{\n\tlet newState = Object.assign({}, state);\n\tlet files = {};\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\ttry {\n\t\t\t\taction.preference.side.files.forEach(o => {\n\t\t\t\t\tfiles[nextFileId++] = { image: o, active: false }\n\t\t\t\t});\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...action.preference.side,\n\t\t\t\t\tfiles: {\n\t\t\t\t\t\t...state.files,\n\t\t\t\t\t\t...files,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t} catch(e) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\tcase types.SIDE_VISIBLE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tvisible: action.value,\n\t\t\t};\n\n\t\tcase types.SIDE_TOGGLE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tvisible: !state.visible,\n\t\t\t};\n\n\t\tcase types.SIDE_ADD_FILES:\n\t\t\taction.files.forEach((o) => {\n\t\t\t\tfiles[nextFileId++] = { image: o, active: false }\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...newState,\n\t\t\t\tfiles: {\n\t\t\t\t\t...newState.files,\n\t\t\t\t\t...files,\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.SIDE_REMOVE_FILES:\n\t\t\tif (!action.keys.length) return state;\n\t\t\taction.keys.forEach(o => {\n\t\t\t\tdelete newState.files[o];\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.SIDE_UPDATE_SELECTED:\n\t\t\tif (!(action.value && Object.keys(action.value).length)) return state;\n\t\t\tObject.keys(action.value).forEach(k => {\n\t\t\t\tif (!newState.files[k]) return;\n\t\t\t\tnewState.files[k].active = action.value[k].active;\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.SIDE_UPDATE_PROGRESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprogressPercent: action.value\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/side.js","import * as types from '../actions/types';\n\n\nexport function visible(state=false, action)\n{\n\tswitch(action.type)\n\t{\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn true;\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\treturn false;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function item(state=null, action)\n{\n\tswitch(action.type)\n\t{\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn action.item;\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\treturn null;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function key(state=null, action)\n{\n\tswitch(action.type)\n\t{\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn action.key;\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\treturn null;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/cropper.js","import Side from './Side';\nimport Grid from './Grid';\nimport Cropper from './Cropper';\nimport Util from './Util';\n\n\nexport default function API(store) {\n\n\tthis.side = new Side(store);\n\tthis.grid = new Grid(store);\n\tthis.cropper = new Cropper(store);\n\tthis.util = new Util(store);\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/index.js","import * as actions from '../actions';\nimport * as lib from '../lib';\n\n\nexport default class Side {\n\n\tconstructor(store)\n\t{\n\t\tthis.store = store;\n\t\tthis.uploading = false;\n\t}\n\n\t/**\n\t * get id in item\n\t *\n\t * @param {String} mode\n\t * @param {Array} keys\n\t * @return {Array}\n\t */\n\tgetKeys(mode=null, keys=[])\n\t{\n\t\tconst state = this.store.getState();\n\t\tconst { files } = state.tree.side;\n\t\tlet result = [];\n\n\t\tswitch(mode)\n\t\t{\n\t\t\tcase 'selected':\n\t\t\t\tObject.keys(files).forEach((o) => {\n\t\t\t\t\tif (files[o].active)\n\t\t\t\t\t{\n\t\t\t\t\t\tresult.push(parseInt(o));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 'value':\n\t\t\t\tkeys.forEach((o) => {\n\t\t\t\t\tif (files[o])\n\t\t\t\t\t{\n\t\t\t\t\t\tresult.push(parseInt(o));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 'all':\n\t\t\tdefault:\n\t\t\t\tresult = Object.keys(files).map((o) => parseInt(o));\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * get items\n\t *\n\t * @param {Array} keys\n\t * @return {Object}\n\t */\n\tgetItems(keys=[])\n\t{\n\t\tconst state = this.store.getState();\n\t\tconst { side } = state.tree;\n\t\tkeys = this.getKeys('value', keys);\n\t\tlet result = {};\n\t\tkeys.forEach((o) => {\n\t\t\tif (side.files[o])\n\t\t\t{\n\t\t\t\tresult[o] = side.files[o];\n\t\t\t}\n\t\t});\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * get images\n\t *\n\t * @param {Array} keys\n\t * @return {Array}\n\t */\n\tgetImages(keys=[])\n\t{\n\t\tlet items = this.getItems(keys);\n\t\treturn Object.keys(items).map((o) => {\n\t\t\treturn items[o].image;\n\t\t});\n\t}\n\n\t/**\n\t * Add files\n\t *\n\t * @param {Array} files\n\t * @return {Error}\n\t */\n\tadd(files)\n\t{\n\t\ttry\n\t\t{\n\t\t\tif (!(files instanceof Array))\n\t\t\t{\n\t\t\t\tthrow new Error('not found files');\n\t\t\t}\n\t\t\tthis.store.dispatch(actions.side.addFiles(files));\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\treturn e;\n\t\t}\n\t};\n\n\t/**\n\t * selection items\n\t *\n\t * @param {Array} keys\n\t * @param {Boolean} active\n\t * @return {Error}\n\t */\n\tselection(keys=[], active=true)\n\t{\n\t\ttry\n\t\t{\n\t\t\tlet selected = {};\n\t\t\tlet getKeys = this.getKeys('value', keys);\n\t\t\tif (getKeys.length <= 0)\n\t\t\t{\n\t\t\t\tthrow new Error('not found select item');\n\t\t\t}\n\t\t\tgetKeys.forEach((o) => {\n\t\t\t\tselected[o] = { key: o, active };\n\t\t\t});\n\t\t\tthis.store.dispatch(actions.side.updateSelected(selected));\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\treturn e;\n\t\t}\n\t}\n\n\t/**\n\t * select items\n\t *\n\t * @param {Object} value\n\t */\n\tselect(value={})\n\t{\n\t\tthis.store.dispatch(actions.side.updateSelected(value));\n\t}\n\n\t/**\n\t * toggle select all\n\t *\n\t * @param {Boolean} active\n\t */\n\ttoggleSelectAll(active=null)\n\t{\n\t\tif (typeof active === 'boolean')\n\t\t{\n\t\t\tlet selected = this.getKeys('all');\n\t\t\tthis.selection(selected, active);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlet activeCount = this.getKeys('selected').length;\n\t\t\tlet keys = this.getKeys('all');\n\t\t\tthis.selection(keys, !(activeCount > 0));\n\t\t}\n\t}\n\n\t/**\n\t * remove items\n\t *\n\t * @param {Array} keys\n\t * @return {Error}\n\t */\n\tremove(keys=[])\n\t{\n\t\ttry\n\t\t{\n\t\t\tif (!keys.length)\n\t\t\t{\n\t\t\t\tthrow new Error('Not found items.')\n\t\t\t}\n\t\t\tthis.store.dispatch(actions.side.removeFiles(keys));\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\treturn e;\n\t\t}\n\t}\n\n\t/**\n\t * Clear items\n\t */\n\tclear()\n\t{\n\t\tlet keys = this.getKeys('all');\n\t\tthis.store.dispatch(actions.side.removeFiles(keys))\n\t}\n\n\t/**\n\t * Upload files\n\t *\n\t * @param {FileList} files\n\t * @param {Object} callbacks\n\t */\n\tupload(files, callbacks={})\n\t{\n\t\t/**\n\t\t * @param {Function} callbacks.start\n\t\t * @param {Function} callbacks.progress\n\t\t * @param {Function} callbacks.complete\n\t\t * @param {Function} callbacks.completeAll\n\t\t * @param {Function} callbacks.fail\n\t\t */\n\t\tif (this.uploading) return;\n\n\t\tconst state = this.store.getState();\n\t\tthis.uploading = true;\n\n\t\tif (callbacks.start) callbacks.start();\n\n\t\tlib.uploader(files, state.setting.base.uploadScript)\n\t\t\t.progress((type, res) => {\n\t\t\t\tswitch(type)\n\t\t\t\t{\n\t\t\t\t\tcase 'start':\n\t\t\t\t\t\tthis.store.dispatch(actions.side.updateProgress(0));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'progress':\n\t\t\t\t\t\tconst percent = parseInt((res.loaded / res.total * 100));\n\t\t\t\t\t\tthis.store.dispatch(actions.side.updateProgress(percent));\n\t\t\t\t\t\tif (callbacks.progress) callbacks.progress(res.loaded, res.total, percent);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'done':\n\t\t\t\t\t\tthis.store.dispatch(actions.side.updateProgress(null));\n\t\t\t\t\t\tif (!res.data) return;\n\t\t\t\t\t\tif (state.setting.base.uploadParamsConvertFunc)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet result = state.setting.base.uploadParamsConvertFunc(res.data);\n\t\t\t\t\t\t\tthis.store.dispatch(actions.side.addFiles([result]));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.store.dispatch(actions.side.addFiles([res.data.url]));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (callbacks.complete) callbacks.complete(res.data);\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.done(() => {\n\t\t\t\tthis.uploading = false;\n\t\t\t\tif (callbacks.completeAll) callbacks.completeAll();\n\t\t\t})\n\t\t\t.fail((error) => {\n\t\t\t\tthis.uploading = false;\n\t\t\t\tif (callbacks.fail) callbacks.fail(error);\n\t\t\t});\n\t}\n\n\t/**\n\t * attach items to grid\n\t *\n\t * @param {Array} keys\n\t * @return {Error}\n\t */\n\tattachToGrid(keys=[])\n\t{\n\t\tconst state = this.store.getState();\n\t\tconst { body } = state.tree;\n\t\ttry\n\t\t{\n\t\t\tlet selectedImages = this.getImages(keys);\n\t\t\tif (!selectedImages.length)\n\t\t\t{\n\t\t\t\tthrow new Error('not found item.');\n\t\t\t}\n\t\t\tthis.store.dispatch(actions.body.attachImages(\n\t\t\t\tselectedImages,\n\t\t\t\tbody.setting.column,\n\t\t\t\tbody.activeBlock\n\t\t\t));\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\treturn e;\n\t\t}\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/Side.js","import * as actions from '../actions';\nimport * as lib from '../lib';\n\n\nexport default class Grid {\n\n\tconstructor(store)\n\t{\n\t\tthis.store = store;\n\t}\n\n\t/**\n\t * get keys in block\n\t *\n\t * @param {String} mode\n\t * @param {Array} keys\n\t * @return {Array}\n\t */\n\tgetKeys(mode=null, keys=[])\n\t{\n\t\tconst state = this.store.getState();\n\t\tconst { body } = state.tree;\n\t\tlet result = [];\n\n\t\tswitch(mode)\n\t\t{\n\t\t\tcase 'selected':\n\t\t\t\treturn body.activeBlock;\n\t\t\tcase 'value':\n\t\t\t\tresult = [];\n\t\t\t\tkeys.forEach((k) => {\n\t\t\t\t\tif (body.grid[k])\n\t\t\t\t\t{\n\t\t\t\t\t\tresult.push(k);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn result;\n\t\t\tcase 'all':\n\t\t\tdefault:\n\t\t\t\treturn Object.keys(body.grid).map(k => k);\n\t\t}\n\t}\n\n\t/**\n\t * get blocks\n\t *\n\t * @param {String} mode\n\t * @param {Array} keys\n\t * @return {Object}\n\t */\n\tgetBlocks(mode=null, keys=[])\n\t{\n\t\tconst state = this.store.getState();\n\t\tconst { body } = state.tree;\n\t\tlet selected = [];\n\t\tlet result = {};\n\n\t\tswitch(mode)\n\t\t{\n\t\t\tcase 'selected':\n\t\t\t\tselected = this.getKeys('selected');\n\t\t\t\tbreak;\n\t\t\tcase 'value':\n\t\t\t\tselected = this.getKeys('value', keys);\n\t\t\t\tbreak;\n\t\t\tcase 'all':\n\t\t\tdefault:\n\t\t\t\treturn body.grid;\n\t\t}\n\n\t\tselected.forEach(k => {\n\t\t\tif (!body.grid[k]) return;\n\t\t\tresult[k] = body.grid[k];\n\t\t});\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * shuffle items\n\t *\n\t * @param {Object} options\n\t */\n\tshuffle(options={})\n\t{\n\t\tconst state = this.store.getState();\n\t\tconst { body } = state.tree;\n\t\tconst defaultOptions = { x: body.setting.column, y: 2, w: 2, h: 2 };\n\n\t\t// assign options\n\t\toptions = Object.assign({}, defaultOptions, options);\n\n\t\tthis.store.dispatch(actions.body.shuffleBlocks(options));\n\t}\n\n\t/**\n\t * assign image\n\t *\n\t * @param {Array} images\n\t */\n\tassignImages(images=[])\n\t{\n\t\tconst state = this.store.getState();\n\t\tconst { body } = state.tree;\n\n\t\tthis.store.dispatch(actions.body.attachImages(\n\t\t\timages,\n\t\t\tbody.setting.column,\n\t\t\tbody.activeBlock\n\t\t));\n\t}\n\n\t/**\n\t * assign image\n\t *\n\t * @param {Number} key\n\t * @param {String} image\n\t */\n\tassignImage(key=null, image=null)\n\t{\n\t\tif (!(key !== null && image !== null)) return;\n\t\tthis.store.dispatch(actions.body.attachImage(key, image));\n\t}\n\n\t/**\n\t * remove images\n\t *\n\t * @param {Array} keys\n\t */\n\tremoveImages(keys=[])\n\t{\n\t\tconst state = this.store.getState();\n\t\tlet newGrid = Object.assign({}, state.tree.body.grid);\n\t\tkeys.forEach(k => {\n\t\t\tnewGrid[k].image = null;\n\t\t});\n\t\tthis.update(newGrid);\n\t}\n\n\t/**\n\t * add blocks\n\t *\n\t * @param {Array} blocks\n\t */\n\tadd(blocks=null)\n\t{\n\t\tconst { getState, dispatch } = this.store;\n\t\tconst state = getState();\n\t\tconst { body } = state.tree;\n\t\tconst defaultOptions = {\n\t\t\tlayout: {\n\t\t\t\tx: Object.keys(body.grid).length % body.setting.column,\n\t\t\t\ty: Infinity,\n\t\t\t\tw: 1,\n\t\t\t\th: 1\n\t\t\t},\n\t\t\tcolor: null,\n\t\t\timage: null\n\t\t};\n\n\t\t/**\n\t\t * add block\n\t\t *\n\t\t * @param {Object} options\n\t\t */\n\t\tfunction block(options={})\n\t\t{\n\t\t\t// assign option\n\t\t\toptions = Object.assign({}, defaultOptions, options);\n\t\t\toptions.layout = Object.assign({}, defaultOptions.layout, options.layout);\n\t\t\toptions.image = options.image ? {\n\t\t\t\tsrc: null,\n\t\t\t\tposition: '50% 50%',\n\t\t\t\tsize: 'cover',\n\t\t\t\t...options.image\n\t\t\t} : null;\n\n\t\t\tdispatch(actions.body.addBlock(options));\n\t\t}\n\n\t\t// checking blocks\n\t\tblocks = (blocks && blocks.length) ? blocks : [null];\n\n\t\t// play add blocks\n\t\tblocks.forEach(o => block(o));\n\t}\n\n\t/**\n\t * update blocks\n\t *\n\t * @param {Object} blocks\n\t */\n\tupdate(blocks={})\n\t{\n\t\tthis.store.dispatch(actions.body.updateBlocks(blocks));\n\t}\n\n\t/**\n\t * remove blocks\n\t *\n\t * @param {Array} keys\n\t */\n\tremove(keys=[])\n\t{\n\t\tthis.store.dispatch(actions.body.removeBlock(keys));\n\t}\n\n\t/**\n\t * select blocks\n\t *\n\t * @param {Array} keys\n\t */\n\tselect(keys=[])\n\t{\n\t\tkeys = keys.map(k => k.toString());\n\t\tthis.store.dispatch(actions.body.activeBlock(keys));\n\t}\n\n\t/**\n\t * un select blocks\n\t *\n\t * @param {Array} keys\n\t */\n\tunselect(keys=[])\n\t{\n\t\tconst state = this.store.getState();\n\t\tlet newActiveBlock = Object.assign([], state.tree.body.activeBlock);\n\n\t\tkeys.forEach(k => {\n\t\t\tk = k.toString();\n\t\t\tif (newActiveBlock.indexOf(k) !== -1)\n\t\t\t{\n\t\t\t\tnewActiveBlock.splice(newActiveBlock.indexOf(k), 1);\n\t\t\t}\n\t\t});\n\t\tthis.store.dispatch(actions.body.activeBlock(newActiveBlock));\n\t}\n\n\t/**\n\t * toggle select all blocks\n\t *\n\t * @param {Boolean} isSelect\n\t */\n\ttoggleSelectAll(isSelect=null)\n\t{\n\t\tconst state = this.store.getState();\n\n\t\tif (typeof isSelect !== 'boolean')\n\t\t{\n\t\t\tisSelect = !state.tree.body.activeBlock.length;\n\t\t}\n\t\tif (isSelect)\n\t\t{\n\t\t\tthis.select(this.getKeys('all'));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.select([]);\n\t\t}\n\t}\n\n\t/**\n\t * duplicate blocks\n\t *\n\t * @param {Array} keys\n\t */\n\tduplicate(keys=[])\n\t{\n\t\tthis.store.dispatch(actions.body.duplicateBlock(keys));\n\t}\n\n\t/**\n\t * get preference\n\t *\n\t * @return {Object}\n\t */\n\tgetPreference()\n\t{\n\t\tconst state = this.store.getState();\n\t\treturn state.tree.body.setting;\n\t}\n\n\t/**\n\t * set preference\n\t *\n\t * @param {Object} value\n\t */\n\tsetPreference(value={})\n\t{\n\t\tlet newPreference = Object.assign({}, this.getPreference(), value);\n\t\tthis.store.dispatch(actions.body.updateSetting(newPreference));\n\t}\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/Grid.js","import * as actions from '../actions';\n\n\nexport default class Cropper {\n\n\tconstructor(store)\n\t{\n\t\tthis.store = store;\n\t}\n\n\t/**\n\t * open cropper\n\t *\n\t * @param {Number} key\n\t */\n\topen(key)\n\t{\n\t\tconst state = this.store.getState();\n\t\tlet item = null;\n\n\t\ttry {\n\t\t\titem = state.tree.body.grid[key];\n\t\t\tif (!item.image) throw 'Not found image in item';\n\t\t} catch(e) {\n\t\t\talert(e);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.store.dispatch(actions.cropper.open(key, item));\n\t};\n\n\t/**\n\t * close cropper\n\t *\n\t * @param {Number} key\n\t * @param {String} position\n\t * @param {String} size\n\t */\n\tclose(key, position, size)\n\t{\n\t\tthis.store.dispatch(actions.cropper.close(key, position, size));\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/Cropper.js","import $ from 'jquery/dist/jquery.slim';\n\nimport * as actions from '../actions';\nimport * as lib from '../lib';\nimport { isArray } from \"../lib/object\";\n\n\nexport default class Util {\n\n\tconstructor(store)\n\t{\n\t\tthis.store = store;\n\t}\n\n\t/**\n\t * Toggle side\n\t *\n\t * @param {Boolean|undefined} sw\n\t */\n\ttoggleSide(sw=undefined)\n\t{\n\t\ttry {\n\t\t\tconst currentSw = this.store.getState().tree.side.visible;\n\t\t\tconst targetSw = (typeof sw === 'undefined') ? !currentSw : sw;\n\n\t\t\tthis.store.dispatch(actions.side.visible(targetSw));\n\t\t} catch(e) {\n\t\t\tconsole.warn('Error action', e)\n\t\t}\n\t};\n\n\t/**\n\t * export\n\t *\n\t * @param {String} type\n\t * @return {Array|Object}\n\t */\n\texport(type=null)\n\t{\n\t\tif (!type) return null;\n\n\t\tconst state = this.store.getState();\n\n\t\tfunction side()\n\t\t{\n\t\t\tlet keys = state.api.side.getKeys('all');\n\t\t\treturn state.api.side.getImages(keys);\n\t\t}\n\t\tfunction grid()\n\t\t{\n\t\t\tlet result = state.api.grid.getBlocks('all');\n\t\t\treturn Object.keys(result).sort().map(o => {\n\t\t\t\tdelete result[o].indexPrefix;\n\t\t\t\treturn result[o];\n\t\t\t});\n\t\t}\n\t\tfunction preference()\n\t\t{\n\t\t\treturn state.api.grid.getPreference();\n\t\t}\n\n\t\tswitch(type)\n\t\t{\n\t\t\tcase 'side':\n\t\t\t\treturn side();\n\t\t\tcase 'grid':\n\t\t\t\treturn grid();\n\t\t\tcase 'preference':\n\t\t\t\treturn state.api.grid.getPreference();\n\t\t\tcase 'all':\n\t\t\t\treturn {\n\t\t\t\t\tside: side(),\n\t\t\t\t\tgrid: grid(),\n\t\t\t\t\tpreference: preference(),\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * import\n\t *\n\t * @param {String} type\n\t * @param {Array|Object} value\n\t * @param {Boolean} replace\n\t */\n\timport(value=null, replace=false)\n\t{\n\t\tif (!value) return;\n\n\t\tconst state = this.store.getState();\n\n\t\tfunction side(value=null)\n\t\t{\n\t\t\tif (replace) state.api.side.clear();\n\t\t\tstate.api.side.add(value);\n\t\t}\n\t\tfunction grid(value=null)\n\t\t{\n\t\t\tif (replace)\n\t\t\t{\n\t\t\t\tlet keys = state.api.grid.getKeys('all');\n\t\t\t\tstate.api.grid.remove(keys);\n\t\t\t}\n\t\t\tstate.api.grid.add(value);\n\t\t}\n\n\t\tif (value.side && isArray(value.side)) side(value.side);\n\t\tif (value.grid && isArray(value.grid)) grid(value.grid);\n\t\tif (value.preference && typeof value.preference === 'object') state.api.grid.setPreference(value.preference);\n\t}\n\n\t/**\n\t * make image\n\t *\n\t * @param {String} format (jpg|png)\n\t * @param {Number} quality\n\t * @param {Number} sampling\n\t * @param {String} output\n\t * @return {Promise}\n\t */\n\tmakeImage(format='jpg', quality=.75, sampling=2, output=null)\n\t{\n\t\tconst defer = $.Deferred();\n\t\tconst state = this.store.getState();\n\t\tconst { setting, grid } = state.tree.body;\n\n\t\tlib.makingImage(\n\t\t\tstate.element.querySelector('.ple-grid'),\n\t\t\t{ setting, grid },\n\t\t\t{ format, quality, sampling, output }\n\t\t).done((image) => {\n\t\t\tdefer.resolve(image);\n\t\t}).progress((total, current, image) => {\n\t\t\tdefer.notify(total, current, image);\n\t\t}).fail((error) => {\n\t\t\tdefer.reject(error);\n\t\t});\n\n\t\treturn defer.promise();\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/Util.js"],"sourceRoot":""}